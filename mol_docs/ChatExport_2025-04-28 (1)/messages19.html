<!DOCTYPE html>
<html>

 <head>

  <meta charset="utf-8"/>
<title>Exported Data</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>

  <link href="css/style.css" rel="stylesheet"/>

  <script src="js/script.js" type="text/javascript">

  </script>

 </head>

 <body onload="CheckLocation();">

  <div class="page_wrap">

   <div class="page_header">

    <div class="content">

     <div class="text bold">
$mol: Разработка 
     </div>

    </div>

   </div>

   <div class="page_body chat_page">

    <div class="history">

     <a class="pagination block_link" href="messages18.html">
Previous messages
     </a>

     <div class="message service" id="message-347">

      <div class="body details">
24 August 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18112">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 10:41:32 UTC+03:00">
10:41
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
В некоторых случаях нужно, чтобы не перезапускался. Пример из пальца - удалить задачу из одной очереди и добавить в другую.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18113">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 10:43:16 UTC+03:00">
10:43
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
пример можно, как поможет ексепшен тут?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18114">

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 10:43:52 UTC+03:00">
10:43
       </div>

       <div class="text">
у нас же все может перезапускаться, нельзя запускать код в простом обработчике события
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18115">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 10:57:39 UTC+03:00">
10:57
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Очевидно тут не должно быть эксепоенов.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18116">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 11:00:07 UTC+03:00">
11:00
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
как ты это проверишь, у тебя ексепшены скрыты за декораторами
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18117">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 11:02:47 UTC+03:00">
11:02
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Никак. Ну тут головы на плечах достаточно.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18118">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 11:04:13 UTC+03:00">
11:04
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
с чего бы, данные, которыми могут оперировать в обработчике, могут быть в других либах вообще, внешне никаких признаков, что они ексепшены кидают
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18119">

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 11:11:57 UTC+03:00">
11:11
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18112" onclick="return GoToMessage(18112)">this message</a>
       </div>

       <div class="text">
это разве не реализуется типом очереди, в которой следующий экшен отменяет предыдущий
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18120">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 12:01:30 UTC+03:00">
12:01
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Я про перекладывание из одной в другую. Ну то просто пример, таких можно много придумать.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18121">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 12:05:04 UTC+03:00">
12:05
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
ну хз, так или иначе, мою очередь можно и напрямую использовать
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18122">

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 12:06:18 UTC+03:00">
12:06
       </div>

       <div class="text">
а как быть в случаях, когда запрос не делает throw, а возвращает proxy или в экшенах такое недопустимо?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18123">

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 12:06:45 UTC+03:00">
12:06
       </div>

       <div class="text">
т.е. без throw непонятно состояние экшена, т.к. он ничего не возвращает
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18124">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 12:36:07 UTC+03:00">
12:36
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
понял как обойти, можно считать изменения в кол-ве файберов, экшен-таска является хостом для запускаемых в экшене файберов, запоминает длинну очереди файберов, запускает хэндлер, если длина изменилась - значит были зашедулены асинхронные таски
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18125">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 13:16:49 UTC+03:00">
13:16
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а rollback можно так сделать:<br><pre>    @todoAction add(todo: Todo) {<br>        this.todos = [...this.todos, todo]<br>        try {<br>            const id: string = fetchJson(&apos;/todos&apos;, {method: &apos;PUT&apos;, body: JSON.stringify(todo)})<br><br>            this.todos = this.todos.map(t =&gt; t.id === todo.id ? {...todo, id, dirty: false} : t)    <br><br>        } catch (error) {<br>            Fiber.rollback(error, () =&gt; {<br>                this.todos = this.todos.filter(t =&gt; t.id !== todo.id)<br>            })<br>        }<br>    }</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18126">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:02:20 UTC+03:00">
15:02
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
В тс наконец появились проектные ссылки. Надо будет попробовать генерировать тсконфиг для каждого модуля со ссылками на зависимости. Это должно дать крайне шуструю инкрементальную сборку.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18127">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:09:43 UTC+03:00">
15:09
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а что это?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18128">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:10:40 UTC+03:00">
15:10
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
То есть он будет брать исходники одного единственного модуля и объявления типов из зависимостей, чтобы транспилировать модуль. Потом остаётся только склеить все полученные исходники и всё.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18129">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:12:19 UTC+03:00">
15:12
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
<a href="https://www.typescriptlang.org/docs/handbook/project-references.html">https://www.typescriptlang.org/docs/handbook/project-references.html</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18130">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:19:34 UTC+03:00">
15:19
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
короче, это пересобираемый кэш, который зависит от проектного конфига
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18131">

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:20:55 UTC+03:00">
15:20
       </div>

       <div class="text">
что б со сборкой ролапами не заниматься пежней, а сразу ts делать
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18132">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:22:25 UTC+03:00">
15:22
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
можно делать зависимости от других больших проектов, при этом не грузя их в память
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18133">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:23:19 UTC+03:00">
15:23
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а зачем вообще другие большие проекты в ts экспортировать? все ж собирается бандлерами/ролапами
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18134">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:24:05 UTC+03:00">
15:24
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
все же делают свои компоненты как отдельные проекты/пакеты, со своим циклом
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18135">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:24:27 UTC+03:00">
15:24
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
и?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18136">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:24:36 UTC+03:00">
15:24
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
может набраться большое количество, тогда тс будет тупить
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18137">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:25:02 UTC+03:00">
15:25
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
почему? там будут d.ts только
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18138">

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:25:25 UTC+03:00">
15:25
       </div>

       <div class="text">
все отдельные пакеты собраны ведь
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18139">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:25:46 UTC+03:00">
15:25
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ну вот сейчас можно не собирать
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18140">

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:25:52 UTC+03:00">
15:25
       </div>

       <div class="text">
пишешь все на тс
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18141">

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:26:02 UTC+03:00">
15:26
       </div>

       <div class="text">
а когда подключишь они соберутся
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18142">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:28:32 UTC+03:00">
15:28
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
для этого лишь всем надо перейти на ts, в стиле микрософт, да
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18143">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:28:48 UTC+03:00">
15:28
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ещё есть мысль сделать формат вьюшек совместимым с тс, тогда можно будет получить интеграцию в иде.<br><pre><br>view.tree`<br>$my_app $mol_view<br>`<br></pre><br>Это и валидный tree и валидный ts.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18144">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:30:53 UTC+03:00">
15:30
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
ts валидный, но бессмысленный
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18145">

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:32:11 UTC+03:00">
15:32
       </div>

       <div class="text">
а как ты наследование обеспечишь? это ж просто вытаскивание результата
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18146">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:34:14 UTC+03:00">
15:34
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ну там плагин к лс нужен, да.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18147">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:57:29 UTC+03:00">
15:57
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а как будет выглядеть более-менее сложный пример?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18148">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:59:12 UTC+03:00">
15:59
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Как и сейчас, просто шапка и подвал добавляются.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18149">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 15:59:40 UTC+03:00">
15:59
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а, template string, я не заметил кавычку сразу
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18150">

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 16:00:02 UTC+03:00">
16:00
       </div>

       <div class="text">
ну да, вроде тебе это уже предлагали год назад
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18151">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 16:01:22 UTC+03:00">
16:01
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ну, только сейчас дошло как согранить совместимость с tree.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18152">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 16:03:17 UTC+03:00">
16:03
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
плагин для ts, который сразу класс делает из этой байды
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18153">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 20:34:56 UTC+03:00">
20:34
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
как должен работать rollback: каждой асинхронной операции или экшена в целом?<br><pre> someAction() {<br>  try {<br>  some1<br>  try { fetch1 } catch(e) {suggest1Rollback ;throw}<br>  try { fetch2 } catch(e) {suggest12Rollback ;throw}<br>  some2<br>  try { fetch3 } catch(e) {suggest123Rollback ;throw}<br>  } catch (e) {suggestActionRollback;throw}<br>}<br><br></pre>Каждый следующий rollback должен вызывать предыдущий? Если fetch3 сфейлился, должен ли откатываться fetch1/fetch2?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18154">

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 20:43:21 UTC+03:00">
20:43
       </div>

       <div class="text">
при этом ексепшен может быть между фетчами
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18155">

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 20:43:40 UTC+03:00">
20:43
       </div>

       <div class="text">
и тогда надо отменять весь экшен, блин сложно получается
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18156">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 21:01:42 UTC+03:00">
21:01
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
А зачем там роллбэки? Транзакция должна быть невидима для приложения пока не завершится.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18157">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 21:27:10 UTC+03:00">
21:27
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
при ошибке - пользователя спрашивать надо - откатиться или повторить
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18158">

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 21:27:45 UTC+03:00">
21:27
       </div>

       <div class="text">
если откатиться, то где логика восстановления стейта, ты ж перед fetch можешь туже dirty todo шку добавить в список
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18159">

      <div class="body">

       <div class="pull_right date details" title="24.08.2018 21:28:00 UTC+03:00">
21:28
       </div>

       <div class="text">
оптимистик там всякий
       </div>

      </div>

     </div>

     <div class="message service" id="message-348">

      <div class="body details">
25 August 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18160">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:30:01 UTC+03:00">
11:30
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
<a href="https://t.me/cevek">@cevek</a> а можно в фабрике декоратора-метода класс выводить, метод которого он декорирует <pre> @action(t =&gt; t.actions) todoAdd() {} </pre>, что б t сам выводился из контекста?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18161">

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:31:14 UTC+03:00">
11:31
       </div>

       <div class="text">
<pre>proto: PrototypeOfClass&lt;C&gt;,<br>name: string,<br>descr,<br>selector: (c: C) =&gt; Some</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18162">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:33:48 UTC+03:00">
11:33
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
неа, так не умеет
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18163">

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:35:05 UTC+03:00">
11:35
       </div>

       <div class="text">
ты ведь можешь написать и так, ts не пытается искать наперед как ты будешь юзать результат функции<br><pre>const x = action(t =&gt; t.actions) <br>@x todoAdd() {}</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18164">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:35:59 UTC+03:00">
11:35
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
ну, отдельно просто генерик будет, а в момент подстановки заменится классом и проверится
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18165">

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:36:47 UTC+03:00">
11:36
       </div>

       <div class="text">
теоретически ts это может прям щас делать, единственная проблема, что прототип из декоратора не содержит информацию о классе
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18166">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:37:12 UTC+03:00">
11:37
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
<pre>const x = action(t =&gt; t.actions)  // что сюда подставить то в качестве t?<br>x({a: 1}, &apos;foo&apos;); <br>class F {@x todoAdd(){}}</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18167">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:37:28 UTC+03:00">
11:37
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
any будет, когда он отдельно
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18168">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:37:41 UTC+03:00">
11:37
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ну это уже flow
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18169">

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:38:11 UTC+03:00">
11:38
       </div>

       <div class="text">
флоу ходит смотрит как ты юзаешь эту функцию и пытается угадать тип из использования
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18170">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:38:22 UTC+03:00">
11:38
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
так и ts тоже так пытается
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18171">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:38:25 UTC+03:00">
11:38
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
нет
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18172">

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:38:46 UTC+03:00">
11:38
       </div>

       <div class="text">
они только для массивов только сделали, и то со скрипом
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18173">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:39:02 UTC+03:00">
11:39
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
ну да, хреново пытаются
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18174">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:39:33 UTC+03:00">
11:39
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
хотя вроде не, там просто control flow analyze
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18175">

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:48:11 UTC+03:00">
11:48
       </div>

       <div class="text">
не проще саму функцию обернуть? <br><pre>todoAdd = action(() =&gt; { action code }, this.actions)</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18176">

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:49:31 UTC+03:00">
11:49
       </div>

       <div class="text">
более прозрачнее и понятнее, декораторы немного таинственные, хрен поймешь сходу как они работают
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18177">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:50:14 UTC+03:00">
11:50
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
да проще вообще так:<br><pre>todoAdd() {<br>  this.actions.run(() =&gt; {<br>  // bla-bla<br>  })<br>}</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18178">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:50:49 UTC+03:00">
11:50
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ну в моем варианте будет еще привязка к this
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18179">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:51:04 UTC+03:00">
11:51
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
просто хотелось бы затруднить помещения кода перед <a href="this.actions.run">this.actions.run</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18180">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:51:17 UTC+03:00">
11:51
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
можно делать без проблем onClick={store.todoAdd}
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18181">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:51:45 UTC+03:00">
11:51
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
внутри run - код безопасный, вне - может уронить экшен без возможности восстановления
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18182">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:52:34 UTC+03:00">
11:52
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
```<br><pre>todoAdd = this.actions.run(() =&gt; { action code })</pre><br>```
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18183">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:52:44 UTC+03:00">
11:52
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
тогда так:<br><pre> todoAdd = () =&gt; this.actions.run(() =&gt; {})</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18184">

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:53:43 UTC+03:00">
11:53
       </div>

       <div class="text">
todoAdd = this.actions.create(() =&gt; {})
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18185">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:53:48 UTC+03:00">
11:53
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
да
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18186">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:54:37 UTC+03:00">
11:54
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
ну да, норм вариант, единственно, в js жирные arrow и пропсы-методы угребищно выглядят
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18187">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:56:32 UTC+03:00">
11:56
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
это уже вопрос вторичный, главное чтобы задачу выполняла, и при этом была защита от дурака
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18188">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 11:59:18 UTC+03:00">
11:59
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
еще с наследованием хз как быть
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18189">

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 12:09:32 UTC+03:00">
12:09
       </div>

       <div class="text">
декоратор еще прокидывает имя метода, для отладки полезно
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18190">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 12:23:58 UTC+03:00">
12:23
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
<pre>_todoAdd() {} <br>todoAdd = this.actions.create(this._todoAdd)</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18191">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 12:42:29 UTC+03:00">
12:42
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
<pre>todoAdd = this.actions.create(this._todoAdd, this)</pre> тогда уж
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18192">

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 12:42:50 UTC+03:00">
12:42
       </div>

       <div class="text">
все способы чем-то хреновы
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18193">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 12:59:40 UTC+03:00">
12:59
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
this есть у action
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18194">

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 12:59:52 UTC+03:00">
12:59
       </div>

       <div class="text">
может и передать
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18195">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 13:00:23 UTC+03:00">
13:00
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
нету, это может быть другой объект this.some.action
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18196">

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 13:00:54 UTC+03:00">
13:00
       </div>

       <div class="text">
очередь не привязана к модели
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18197">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 21:31:19 UTC+03:00">
21:31
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
дим, как считаешь, как лучше push/pull логику для key-value мап описать?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18198">

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 21:32:04 UTC+03:00">
21:32
       </div>

       <div class="text">
у тебя в атомах так:<br><pre>class Store<br>@mem.key some(key, next) {}</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18199">

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 21:34:47 UTC+03:00">
21:34
       </div>

       <div class="text">
можно так, но слишком много магии, на мой взгляд:<br><pre> class Store {<br>  @mem get some(): Map&lt;K, V&gt; {<br>     return map || proxify(new Map(), { get(key: K) {}, set(key: K, next: V) {} } )<br>  }<br>}</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18200">

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 21:48:26 UTC+03:00">
21:48
       </div>

       <div class="text">
может вообще без прокси, методы пропатчить
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18201">

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 21:50:26 UTC+03:00">
21:50
       </div>

       <div class="text">
как быть с delete, на него тоже обработчик нужен?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18202">

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 22:03:29 UTC+03:00">
22:03
       </div>

       <div class="text">
в mobx, ппц как мудрено сделано такое - <a href="https://github.com/mobxjs/mobx/blob/master/src/types/observablemap.ts#L79">https://github.com/mobxjs/mobx/blob/master/src/types/observablemap.ts#L79</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18203">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="25.08.2018 22:21:53 UTC+03:00">
22:21
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
первый тот твой вариант самый красивый, если только итерировать не надо
       </div>

      </div>

     </div>

     <div class="message service" id="message-349">

      <div class="body details">
26 August 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18204">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="26.08.2018 03:40:29 UTC+03:00">
03:40
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
В моём случае это не коллекция, а просто множество кешей. Если нужна именно коллекция, то либо иммутабл, либо прокси, да.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18205">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="26.08.2018 09:39:28 UTC+03:00">
09:39
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
внутри то это мапа, можно извлечь через селектор
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18206">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="26.08.2018 15:31:23 UTC+03:00">
15:31
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
в todomvc имеет смысл одну очередь делать на add / remove / update / clearCompleted / toggleAll ?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18207">

      <div class="body">

       <div class="pull_right date details" title="26.08.2018 15:32:22 UTC+03:00">
15:32
       </div>

       <div class="text">
по-умолчанию, мне кажется, удобнее персональная очередь на каждый экшен
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18208">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="26.08.2018 16:22:31 UTC+03:00">
16:22
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ну, операции эти так-то не параллелятся, поэтому логично в одну очередь помещать.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18209">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="26.08.2018 16:26:55 UTC+03:00">
16:26
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
есть операции с одной todo и есть с множеством, отредактировал todo, пока оно сохраняется, какой-нить clearCompleted будет недоступен, т.к. очередь одна и она в pending
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18210">

      <div class="body">

       <div class="pull_right date details" title="26.08.2018 16:28:18 UTC+03:00">
16:28
       </div>

       <div class="text">
т.е. на каждый чих с todo будет блокироваться весь список
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18211">

      <div class="body">

       <div class="pull_right date details" title="26.08.2018 16:40:30 UTC+03:00">
16:40
       </div>

       <div class="text">
add / update/remove вполне паралельно могут быть выполнены
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18212">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="26.08.2018 22:33:04 UTC+03:00">
22:33
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
<a href="https://t.me/cevek">@cevek</a> не подскажешь, как из конструктора извлечь аргумент для любого класса?<br>такая штука не работает:<br><pre>type ContextOf&lt;C&gt; = C extends (new (props: infer Context) =&gt; C)<br>    ? Context<br>    : never</pre>
       </div>

      </div>

     </div>

     <div class="message service" id="message-350">

      <div class="body details">
27 August 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18213">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="27.08.2018 05:29:07 UTC+03:00">
05:29
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18209" onclick="return GoToMessage(18209)">this message</a>
       </div>

       <div class="text">
Ну так отредактированная задача вполне может подойти под фильтр следующего экшена.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18214">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="27.08.2018 09:08:43 UTC+03:00">
09:08
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
<pre>type ContextOf&lt;C&gt; = C extends (new (props: infer Context) =&gt; any)<br>    ? Context<br>    : never</pre><br><pre>var g: ContextOf&lt;typeof FD&gt;;</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18215">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="27.08.2018 12:47:34 UTC+03:00">
12:47
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
спасибо
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18216">

      <div class="body">

       <div class="pull_right date details" title="27.08.2018 12:50:58 UTC+03:00">
12:50
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18213" onclick="return GoToMessage(18213)">this message</a>
       </div>

       <div class="text">
а с добавлением как? странно блочить все при добавлении
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18217">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="27.08.2018 12:58:04 UTC+03:00">
12:58
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Да, в общем случае не понятно какие операции можно пускать параллельно.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18218">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="27.08.2018 12:59:06 UTC+03:00">
12:59
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
я не про общий случай, тут отдельную очередь для add предлагаешь?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18219">

      <div class="body">

       <div class="pull_right date details" title="27.08.2018 12:59:34 UTC+03:00">
12:59
       </div>

       <div class="text">
по-моему, надо не очереди, а логику блокировок экшенов описывать
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18220">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="27.08.2018 19:11:11 UTC+03:00">
19:11
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
блин, ну почему, сцука, просто не сделать Object initializers для классов, зачем 2 года перетирать не о чем: <a href="https://github.com/Microsoft/TypeScript/issues/3895">https://github.com/Microsoft/TypeScript/issues/3895</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18221">

      <div class="body">

       <div class="pull_right date details" title="27.08.2018 19:12:02 UTC+03:00">
19:12
       </div>

       <div class="text">
и почему вот так работает:<br><pre>    <br>constructor(<br>        protected _: {<br>            todoRepository: TodoRepository<br>        }<br>    ) {}</pre><br>А вот так уже нет:<br><pre>    <br>constructor(<br>        {protected todoRepository}: {<br>            todoRepository: TodoRepository<br>        }<br>    ) {}</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18222">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="27.08.2018 19:36:19 UTC+03:00">
19:36
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
<pre>class Foo { constructor(obj: Partial&lt;Foo&gt;) { Object.assign(this, obj) } }</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18223">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="27.08.2018 21:18:51 UTC+03:00">
21:18
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
не все свойства надо сетить, свойства protected
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18224">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="27.08.2018 22:00:59 UTC+03:00">
22:00
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
забавный чувак: <a href="https://github.com/streamich">https://github.com/streamich</a><br>чем-то некоторые тут с ним похожи: куча всяких либ, мало старов, тщетные попытки улучшить угребищный мир и переписать основу, правда он все вокруг реакта и css
       </div>

      </div>

     </div>

     <div class="message service" id="message-351">

      <div class="body details">
28 August 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18225">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 00:43:10 UTC+03:00">
00:43
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
Кстати я вспомнил одного чувака, с крутым проектом - <a href="https://twitter.com/rikarends">https://twitter.com/rikarends</a> (у него есть несколько докладов на ютюбе). Он не только написал собственный js-фреймворк но и в добавок к нему лейаут и отрисовку выбросив dom и css делая все это на webgl включая полностью всю отрисовку текста. И сделал не просто маленький пример а написал целый редактор кода - <a href="https://github.com/makepad/makepad.github.io">https://github.com/makepad/makepad.github.io</a> То есть представьте - сколько браузеры насоздавали спецификаций, сколько сущнствует контекстов форматирования и способов позиционирования, целая куча разных нюансов и костылей (достаточно почитать статьи на <a href="http://css-live.ru">http://css-live.ru</a> чтобы увидеть масштаб бедствия), куча легаси, куча лишних сущностей и ограниченных или частных решений, тормозной dom из-за чего приходится строить еще одни костыли сверху вроде виртуального дома чтобы уменьшить количество операций с ним. Да достаточно уже наличие двух технологий вроде svg и html-css которые по сути делают одно и то же но каждый имеет свои недостатки и непонятно что мешало просто взять svg и добавить туда модель позиционирования и не создавать огрызок в виде html который ничего не умеет чтобы потом все равно начать добавлять потихоньку всякие фичи из svg... ? Кароче бардак. И тут попытка выбросить все нахрен с чистого листа разработать все без лишних абстракций и костылей совместив js-фреймворк с лейаутом. Не знаю как вам но эта идея сделать все проще мне очень нравится, потому что с такой тенденцией браузеров добавлять постоянно что-то в html-css (и так там в css уже полтысячи свойств) веб-разработка скоро скатится в ад
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18226">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 01:06:39 UTC+03:00">
01:06
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
вот один из его докладов <a href="https://www.youtube.com/watch?v=Xr6dtXw0Ipg">https://www.youtube.com/watch?v=Xr6dtXw0Ipg</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18227">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 14:14:01 UTC+03:00">
14:14
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
есть же ui-либы которые просто в webgl рендерятся, <a href="https://evileg.com/ru/post/292/">https://evileg.com/ru/post/292/</a><br>но в вебе ценность в огромном наборе всяких случаев, на которые уже есть апи или готовые хаки. Если щас начать клепать киты на webgl, то придется кучу всего переизобрести, тот же css-двиг, тот же qml убожество по возможностям стилизации
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18228">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 14:16:07 UTC+03:00">
14:16
       </div>

       <div class="text">
как только масштабы применения изменятся, все эти qt посыпятся как карточный домик. та же работа со стейтом: rx самое лучше что там есть, может подобия редакса, о mobx никто не заикается даже
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18229">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 14:17:02 UTC+03:00">
14:17
       </div>

       <div class="text">
выбор гораздо меньше при смене экосистемы, строить заново надо
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18230">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:27:48 UTC+03:00">
15:27
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18227" onclick="return GoToMessage(18227)">this message</a>
       </div>

       <div class="text">
Qt не сильно проще браузера, там тоже строится аналог dom-а - некое дерево виджетов, тоже усложненные схемы, лейаут, слои, многоуровневые абстракции и миллионы строк кода. Я согласен что вебе много чего уже готового и самому нужно много чего переизобрести но тут вопрос а действительно ли это так сложно и требует ли миллионы строк кода? Требуются ли так много контекстов форматирования варианов спозиционировать что-то или все то что творится сегодня в css? Есть доклад флаттера где объясняется как можно упростить лейаут css заменив на одну простую схему <a href="https://www.youtube.com/watch?v=UUfXWzp0-DU">https://www.youtube.com/watch?v=UUfXWzp0-DU</a>  Можно пойти дальше - требуется ли такая промежуточная абстракция как дом-дерево или дерево объектов? Вот в том makepad там ведь нет такого понятие как дом-дерево, и тем не менее чувак построил целый текстовый редактор. То есть можно вообще выбросить все слои и вместо того чтобы применять изменения в дом-дереве а потом делать лейаут отрисовку и прочее можно собрать из шаблонов вершинный буфер и передать прямиком в webgl и отрендерить одним или несколькими дравколлами
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18231">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:28:58 UTC+03:00">
15:28
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
дерево объектов будет все-равно
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18232">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:29:26 UTC+03:00">
15:29
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
зачем? лейаут можно сделать и без дом-дерева
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18233">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:29:47 UTC+03:00">
15:29
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
композиция то будет описана где-то
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18234">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:32:33 UTC+03:00">
15:32
       </div>

       <div class="text">
я не имел в виду дом, какая-разница от чего унаследованы объекты
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18235">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:35:11 UTC+03:00">
15:35
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
смотри - есть подход реакта - который определяет шаблоны и композицию компонентов, что мешает вместо того чтобы создавать виртуальный дом а потом применять изменения на реальном доме сразу заполнять вершинный массив webgl? Нужен только способ сделать лейаут, в реакте нет возможности сделать двухпроходный алгоритм как в том flutter-е - там только спуск от родителя к детям но некоторе время назад в реакт был добавлен такой способ (правда потом выпилили) - call-return <a href="https://www.youtube.com/watch?v=60MfXWyQhRE">https://www.youtube.com/watch?v=60MfXWyQhRE</a> . Получается что даже лейаут можно выразить внутри схемы шаблонов и компонентов реакта
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18236">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:37:05 UTC+03:00">
15:37
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
для вебджл все равно надо ведь собрать структуру и отправить ее на видяху, а она уже ее отрисует, в чем конкретно разница с домом?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18237">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:37:26 UTC+03:00">
15:37
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
причем структура не статична, на каждый чих что-то меняться может
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18238">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:37:56 UTC+03:00">
15:37
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
плюс скорость общения с видяхой довольно скудная, я не думаю что текущий дом медлеенее будет
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18239">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:39:08 UTC+03:00">
15:39
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
и причем тут реакт, можно хоть напрямую с webgl работать, вон  mol_view унаследовать от mol_gl_view
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18240">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:39:13 UTC+03:00">
15:39
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18236" onclick="return GoToMessage(18236)">this message</a>
       </div>

       <div class="text">
в том что мы не храним в памяти структуру чтобы потом ее менять, неважно реальный дом или виртуальный,   дифф как таковой вообще становится лишней абстракцией.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18241">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:39:43 UTC+03:00">
15:39
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
дифф и в dom лишняя абстракция
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18242">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:39:56 UTC+03:00">
15:39
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
на реакте тоже можно выпилить виртуальный дом, со скрипом но можно
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18243">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:40:18 UTC+03:00">
15:40
       </div>

       <div class="text">
сделать чтобы сразу рендерил в дом, мимо виртуальных нод
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18244">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:40:26 UTC+03:00">
15:40
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
где-то видел real-dom альтернативы реакту
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18245">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:44:25 UTC+03:00">
15:44
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18238" onclick="return GoToMessage(18238)">this message</a>
       </div>

       <div class="text">
там просто заполняется массив, это очень быстро. Зачем реакту нужен виртуальный дом - потому что операции с домом очень медленные а теперь представь что document.createElement, setAttribute, appendChild это просто установка нескольких элементов массива - arr[i] = ..., arr[i+1] = ... и т.д . А передача на видеокарту этого массива очень быстрая операция, там может быть dma или вообще общая память в интегрированных видяхах.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18246">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:45:11 UTC+03:00">
15:45
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
не факт что массив передаваться будет, может куча мелких массивов
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18247">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:46:23 UTC+03:00">
15:46
       </div>

       <div class="text">
например, каскадная загрузка комонентов от родителя к дочернему или изменения формы, которое затрагивает отложенное обновление в нескольких местах страницы
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18248">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:47:08 UTC+03:00">
15:47
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
в общем посмотрите на тот проект makepad, в его исходниках очень сложно разобраться но то что придумал тот чувак, это достаточно круто -<a href="https://github.com/makepad/makepad.github.io">https://github.com/makepad/makepad.github.io</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18249">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:48:01 UTC+03:00">
15:48
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
а кто будет заниматься непосредственно рисованием? или на видяху просто пойдут инструкии по простым формам, типа нарисуй прямоугольник, треугольник по этим координатам, здесь будет картинка
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18250">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:48:06 UTC+03:00">
15:48
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
makepad - пример не асинхронного ui
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18251">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:48:29 UTC+03:00">
15:48
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18247" onclick="return GoToMessage(18247)">this message</a>
       </div>

       <div class="text">
представь что вместо того чтобы выполнять setState мы на любое изменение состояния просто делаем перерендер всего приложения - ReactDOM.render(&lt;App/&gt;, rootEl)
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18252">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:48:42 UTC+03:00">
15:48
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
сейчас по моему итак браузер рисует на видяхе все, все эти
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18253">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:49:14 UTC+03:00">
15:49
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
есть вообще такие подходы к отрисовке ui - immediate mode и retained mode как раз про это
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18254">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:49:21 UTC+03:00">
15:49
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18251" onclick="return GoToMessage(18251)">this message</a>
       </div>

       <div class="text">
так проблема в твоем коде же, а он не быстрый
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18255">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:50:00 UTC+03:00">
15:50
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18251" onclick="return GoToMessage(18251)">this message</a>
       </div>

       <div class="text">
и на webgl это будет не медленнее, чем точечное обновление инпута?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18256">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:50:50 UTC+03:00">
15:50
       </div>

       <div class="text">
проблема возможно будет даже не в скорости рендера, а в коммуникации с gl, это ж разные контексты
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18257">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:52:11 UTC+03:00">
15:52
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
плюс проблема есть с текстом в видяхе, он просто не умеет его рендерить, надо ему посылать картинку с текстом, а это дорого слать большие данные с рав картиной
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18258">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:53:31 UTC+03:00">
15:53
       </div>

       <div class="text">
а нарисовать картинку с рендеренным текстом в js это дорого
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18259">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:54:50 UTC+03:00">
15:54
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18255" onclick="return GoToMessage(18255)">this message</a>
       </div>

       <div class="text">
в webgl нет понятия точности - там просто заполняется массив и передается, точнее формально точечность есть в виде .bufferSubData но дело в том что точечность предполагает еще создания сборщика муссора потому что добавлять или удалять на массиве не получится в общем смысла нет, я когда-то разбирал эти вопросы  и по производительности оно почти одинаково из-за dma или общей памяти в общем над реализацией точечного обновления даже в играх никто не заморачивается
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18260">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:56:12 UTC+03:00">
15:56
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
да там просто же обычный float32 array с сырыми данными и все, просто кусок с кучей цифр
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18261">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 15:57:15 UTC+03:00">
15:57
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18257" onclick="return GoToMessage(18257)">this message</a>
       </div>

       <div class="text">
посмотри makepad - вполне себе рендерит текст на видяхе, никакого формирования и передачи картинок из js или вот статья как можно рендерить сразу глифы из кривых безье прямо на gpu <a href="https://medium.com/@evanwallace/easy-scalable-text-rendering-on-the-gpu-c3f4d782c5ac">https://medium.com/@evanwallace/easy-scalable-text-rendering-on-the-gpu-c3f4d782c5ac</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18262">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:00:48 UTC+03:00">
16:00
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
гляну, когда разбирал код google maps, они рендерят все надписи для карты на js, и потом отправляют это на видяху
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18263">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:04:06 UTC+03:00">
16:04
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
как gl ведет себя, когда много мелких отдельных изменений?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18264">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:04:28 UTC+03:00">
16:04
       </div>

       <div class="text">
ведь на каждый чих надо перевычислить весь буфер
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18265">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:11:43 UTC+03:00">
16:11
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18262" onclick="return GoToMessage(18262)">this message</a>
       </div>

       <div class="text">
Есть несколько способов отрисовки текста - тот который в google maps это растеризация всего текста - если надпись изменится нужно делать перерисовку. Дальше есть способ передать один раз текстурку с отрисованными глифами (так называемый битмап) и потом достаточно только сформировать массив с координатами глифов чтобы что-то отрисовать. И теперь любое изменение текста практически бесплатное но проблема в том что как только изменится размер шрифта появится пикселизация и нужно будет заново перерисовать всю текстурку. Отчасти это решает подход signed distance field-текстурок или его улучшенная версия multi-channel signed distance field когда в текстурке хранятся не пиксели глифов а определенное кодированное растояние и это позволяет получить из текстурки 32*32 пикселя на глиф увеличение шрифта до 256 пикселей без заметных артефактов. Ну и последний способ это рендер глифов как кривых безье - передаем на видеокарту буффер контрольных точек крифых безье из которых состоят глифы а полностю дальше рендер на gpu глифов любого размера - <a href="https://medium.com/@evanwallace/easy-scalable-text-rendering-on-the-gpu-c3f4d782c5ac">https://medium.com/@evanwallace/easy-scalable-text-rendering-on-the-gpu-c3f4d782c5ac</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18266">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:15:49 UTC+03:00">
16:15
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ну вообще конечно хочется глянуть на скорость отрисовки браузером и вебгл.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18267">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:16:20 UTC+03:00">
16:16
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18263" onclick="return GoToMessage(18263)">this message</a>
       </div>

       <div class="text">
там нет отдельных мелких изменений - там для каждого изменения рисуется интерфейс заново. Так работают видеокарты - они не меняют пиксели по отдельности они рисуют их заново из буффера вершин который обрабатывается сначала в вершинном шейдере формируя треугольники а потом в фрагментном шейдере. Соотвественно для того чтобы что-то изменить в интерфейсе нужно сформировать новый буффер примитивов описывающий интерфейс (прямоугольники, всякие кривые с различными аттрибутами вроде позиций, цвета, градиентов и прочего) и передать этот буфер на видеокарту
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18268">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:17:15 UTC+03:00">
16:17
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
я не про видяху
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18269">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:17:55 UTC+03:00">
16:17
       </div>

       <div class="text">
Вот это может придется делать очень часто: &quot; чтобы что-то изменить в интерфейсе нужно сформировать новый буффер примитивов&quot;
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18270">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:19:51 UTC+03:00">
16:19
       </div>

       <div class="text">
т.е. узким местом будет не рендер, а подготовка к нему
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18271">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:22:42 UTC+03:00">
16:22
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18269" onclick="return GoToMessage(18269)">this message</a>
       </div>

       <div class="text">
мы же не пиксели передаем - а просто заполняем массив примитивов а это только свойства вроде позиции и размеров прямоугольника, цвет, и т.д. То есть 5-50 (для жирных примитивов) чисел которые описывают аттрибуты на один примитив. Попробуй просто протестировать скорость заполнения массива на жс - этого хватит с головой для отрисовки ui
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18272">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:24:13 UTC+03:00">
16:24
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
примитивов может быть &gt; 1000 - таблица 10x100 например, у каждой ячейки свой цвет и размер, отступы и т.д.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18273">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:24:35 UTC+03:00">
16:24
       </div>

       <div class="text">
т.е. вместо точечного обновления одной ячейки - перевычислять всю таблицу?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18274">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:25:53 UTC+03:00">
16:25
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ну опять таки да, рисование не является долгим, долгое это вычисление позиции каждого прямоугольника
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18275">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:26:16 UTC+03:00">
16:26
       </div>

       <div class="text">
layout
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18276">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:27:49 UTC+03:00">
16:27
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
щас то этой фигней css и дом занимается, пускай медленно, но где гарантия, что если это все реализовать в webgl, то будет быстрее. Так-то dom - высокоуровневая прослойка между приложухой и webgl, ее что-то заменить должно по-любому.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18277">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:29:18 UTC+03:00">
16:29
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ну тут видимо надо по новому подойти к этому вопросу, сделать спеку когда сделать лайоут сделать быстро, но сильно ограничив возможности программиста
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18278">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:30:08 UTC+03:00">
16:30
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
dom2 =)
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18279">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:30:27 UTC+03:00">
16:30
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18273" onclick="return GoToMessage(18273)">this message</a>
       </div>

       <div class="text">
точечного обновления не получится - браузер все равно должен сделать лейаут когда изменится ячейка. Дальше когда он отрисует изменение ему все равно нужно либо точно также сформировать список примитивов и передать на gpu либо предать целую текстурку (что по объемам намного больше чем просто несколько числей описывающие аттрибуты прямоугольника например). Webgl это аналог opengl и это не считая vulkan самый низкоуровневый способ что-то отрисовать. И браузеры не делают отрисовку как-то иначе а играют по таким же правилам - либо они будут формировать все пиксели(делать растеризацию) на cpu а это медленно либо будут только передать данные которые описывают примитивы - позиция и размеры прямоугольника, цвет, градиенты, всякие бордеры, кривые и либо сформируют массив и сделают один дравколл либо будут передавать по очереди через юниформы и делать отдельные дравколлы
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18280">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:32:06 UTC+03:00">
16:32
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
тогда я не понимаю, что мешает это браузерам делать прям щас с текущим dom?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18281">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:32:50 UTC+03:00">
16:32
       </div>

       <div class="text">
и так многое на gpu уходит
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18282">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:34:08 UTC+03:00">
16:34
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
это уже на усмотрение браузера, как хочет так и делает, но я думаю они уже и так все рисуют на видяхе
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18283">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:35:09 UTC+03:00">
16:35
       </div>

       <div class="text">
тут уже вопрос в самой спеке, можно выбросить всю поддержку легаси, ограничить программиста и будет скоростной рендеринг
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18284">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:36:50 UTC+03:00">
16:36
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
так вот да, выход не в рендерингке всего на webgl, а в переизобретении dom
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18285">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:37:44 UTC+03:00">
16:37
       </div>

       <div class="text">
я так и не понял за счет чего быстрее то будет, транзакционности/ленивости апдейтов dom?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18286">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:38:09 UTC+03:00">
16:38
       </div>

       <div class="text">
что б изменение свойства dom не прям щас отражалось, а например, в следующем фрейме
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18287">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:38:49 UTC+03:00">
16:38
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ну сейчас проблема в самом доме, создавать новые ноды довольно дорого и это все синхронно, другого интерфейса у нас нет
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18288">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:39:38 UTC+03:00">
16:39
       </div>

       <div class="text">
по сути можно все переизобрести ради этого момента и все, будет небольшое ускорение
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18289">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:40:34 UTC+03:00">
16:40
       </div>

       <div class="text">
ну и соотвественно все накроется медным тазом если видяха будет отсутствовать
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18290">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:41:57 UTC+03:00">
16:41
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18280" onclick="return GoToMessage(18280)">this message</a>
       </div>

       <div class="text">
Легаси, куча костылей, слоев и абстракций) Я сам был в ахуе когда разбирался с webgl а потом просмотрел доклады на blinkon. Вкратце - на текущий момент они даже растеризацию по прежнему делают на cpu а чтобы не тормозило добавляют кучу слоев кеширвоания в текстурках разбивая интерфейс на части. Хотя вместо того чтобы кешировать можно было просто отрендерить примитивы на gpu передавая только данные аттрибутов. В отдельных случаях они могут что-то вынести на gpu (например когда есть свойство transform3d() или will-change) но это выносится в виде отдельного слоя текстурки и они делают отделньые дравколлы на каждый такой примитив - я как-то делал эксперимент - на тысячи дом-элементов задание transform3d или will-change приводит к куда большим тормозам чем просто свойства top left. А могли бы просто собрать все примитивы в один массив и сделать один дравколл.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18291">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:42:14 UTC+03:00">
16:42
       </div>

       <div class="text">
<a href="https://www.youtube.com/channel/UCIfQb9u7ALnOE4ZmexRecDg">https://www.youtube.com/channel/UCIfQb9u7ALnOE4ZmexRecDg</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18292">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:43:30 UTC+03:00">
16:43
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
так может проблема в вычислении позиции всех остальных элементов после изменения одного?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18293">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:44:17 UTC+03:00">
16:44
       </div>

       <div class="text">
ps opengl это сплошной легаси
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18294">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:45:10 UTC+03:00">
16:45
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18289" onclick="return GoToMessage(18289)">this message</a>
       </div>

       <div class="text">
не, дрова в линухе позволяют эмулировать на cpu все эти вулканы/gl
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18295">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:45:55 UTC+03:00">
16:45
       </div>

       <div class="text">
почему ноды не создавать асинхронно? и дравколов меньше будет
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18296">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:46:15 UTC+03:00">
16:46
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18292" onclick="return GoToMessage(18292)">this message</a>
       </div>

       <div class="text">
это отдельно лейаут я говорю уже про отрисовку - вместо того чтобы передавать только данные чтобы gpu рисовал пиксели они рисуют пиксели в текстурках а потом передают сразу текстурку. И соотвевтенно поскольку рисование пикселей медленно они добавляют кеширование и внедряют целый слой композинга
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18297">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:47:24 UTC+03:00">
16:47
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
если все так плачевно, все таки, хочется увидеть живой пример как станет все быстро на видяхе, глянуть как все ускоряется
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18298">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:47:44 UTC+03:00">
16:47
       </div>

       <div class="text">
есть примеры?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18299">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:48:58 UTC+03:00">
16:48
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18298" onclick="return GoToMessage(18298)">this message</a>
       </div>

       <div class="text">
взгляни на этот доклад <a href="https://www.youtube.com/watch?v=rfQ8rKGTVlg">https://www.youtube.com/watch?v=rfQ8rKGTVlg</a>, dom-у такое даже не снится
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18300">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:49:21 UTC+03:00">
16:49
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ок ок, а живое что нибудь есть?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18301">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:49:27 UTC+03:00">
16:49
       </div>

       <div class="text">
пощупать
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18302">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:52:07 UTC+03:00">
16:52
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
и эти примеры специфичные, не веб, для игр скорее
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18303">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:54:56 UTC+03:00">
16:54
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
вот нашел пример из того доклада <a href="https://webglsamples.org/google-io/2011/40000-objects.html">https://webglsamples.org/google-io/2011/40000-objects.html</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18304">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:55:52 UTC+03:00">
16:55
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ну блин, таких примеров по началу работы с видяхой навалом
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18305">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:56:14 UTC+03:00">
16:56
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
сравнивать с dom не корректно такое, это как если бы на екселе делать 3д-графику
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18306">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:56:24 UTC+03:00">
16:56
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
<a href="https://threejs.org/examples/#webgl_geometry_hierarchy">https://threejs.org/examples/#webgl_geometry_hierarchy</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18307">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:57:20 UTC+03:00">
16:57
       </div>

       <div class="text">
а есть что то более вменяемое похожее на html  страницу с текстом формочками
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18308">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:58:02 UTC+03:00">
16:58
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18302" onclick="return GoToMessage(18302)">this message</a>
       </div>

       <div class="text">
без разницы, там демонстрируется скорость отрисовки массива примитивов там даже примитивы жирные - 40к геометрических фигур которые в свою очередь состоят из десятка прямоугольников. А что такое ui - это точно такой же список примитивов (прямоугольников или разных кривых)  расположенных друг над другом
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18309">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:58:46 UTC+03:00">
16:58
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
не точно, они разных размеров, форм, кто-то должен их масштабировать под содержимое
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18310">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 16:59:33 UTC+03:00">
16:59
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
<a href="https://threejs.org/examples/#css3d_sprites">https://threejs.org/examples/#css3d_sprites</a><br>вот на дивах
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18311">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:00:45 UTC+03:00">
17:00
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18309" onclick="return GoToMessage(18309)">this message</a>
       </div>

       <div class="text">
размеры и формы вычисляются на cpu и передается потом на gpu - в примере происходит анимация 40к примитивов - то есть за один фрейм js успевает вычислить позицию и заполнить массив из 40к примитивов. Ни на каком либо доме ни даже на 2д-канвасе такое не сделать
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18312">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:01:20 UTC+03:00">
17:01
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
одно дело крутить прямоугольники другое дело текст с сотней тысяч вершин
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18313">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:04:19 UTC+03:00">
17:04
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
да и не крутить надо в реальном ui, а постоянно создавать/удалять
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18314">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:04:58 UTC+03:00">
17:04
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18312" onclick="return GoToMessage(18312)">this message</a>
       </div>

       <div class="text">
хорошее замечание, да один глиф в среднем имеет полтысячи кривых безье и если каждую кривую безье представить как примитив то действительно будут и тормоза да и в память не влезет. Поэтому лучше загрузить один раз на gpu текстурку в которой по коду символа закодированы нужные вершины и примитивы и потом когда нужно отрисовать какой-то текст то достаточно передать примитив котором записан код символа и его позиция
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18315">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:05:48 UTC+03:00">
17:05
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
также можно и с компонентами поступать, какой-нить material ui
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18316">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:06:39 UTC+03:00">
17:06
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ну вот стоит вопрос отрисовки, как быстро отрисуется колбаса текста с разными шрифтами, цветами, размерами
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18317">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:07:26 UTC+03:00">
17:07
       </div>

       <div class="text">
плюс опять надо понимать как переносить текст на другую строчку, а для этого надо вычислять ширину каждого слова и тд
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18318">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:07:38 UTC+03:00">
17:07
       </div>

       <div class="text">
и все это должно быть на js
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18319">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:08:37 UTC+03:00">
17:08
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
щас разве не так все?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18320">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:09:19 UTC+03:00">
17:09
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18313" onclick="return GoToMessage(18313)">this message</a>
       </div>

       <div class="text">
повторю еще раз - не надо создавать или удалять - просто заполняется заново массив который описывает весь интерфейс. Реакт компилирует шаблон например &lt;div attr1=&quot;&quot; attr2=&quot;&quot;&gt;&lt;div&gt;...&lt;div&gt;&lt;/div&gt; как вызов React.createElemen(..., React.createElement ) и т.д . Представь что эта функция createElement просто заполняет один единый массив примитивов всего ui. Описал очень упрощенно но схема примерно такая.  То есть не происходит никакого диффа не нужно что-либо менеджить в состоянии добавлять удалять или изменять точечно. На любое изменение происходит полная отрисовка ui с нуля
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18321">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:09:20 UTC+03:00">
17:09
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
сейчас считает браузер нейтив кодом, а здесь придется js считать
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18322">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:12:41 UTC+03:00">
17:12
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18320" onclick="return GoToMessage(18320)">this message</a>
       </div>

       <div class="text">
на видяхе же можно клонировать объект с новыми координатами, я думал там так сделано
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18323">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:15:15 UTC+03:00">
17:15
       </div>

       <div class="text">
если делать dom2 над webgl это будет qt или gtk, со своими движками для растеризации шрифтов, со своим композитингом, более полно использующим видяху и т.д.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18324">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:16:57 UTC+03:00">
17:16
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18321" onclick="return GoToMessage(18321)">this message</a>
       </div>

       <div class="text">
что значит браузеры считают найтив-кодом? с++ ? судя по этому докладу <a href="https://www.youtube.com/watch?v=UJPdhx5zTaw">https://www.youtube.com/watch?v=UJPdhx5zTaw</a> js даже быстрее с++ без оптимизаций и на 17 процентов медленней чем с++ с флагом оптимизации O3
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18325">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:21:44 UTC+03:00">
17:21
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ну смотря что мерить. вызовы в js дорогие.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18326">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:22:00 UTC+03:00">
17:22
       </div>

       <div class="text">
обьекты дорогие
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18327">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:22:36 UTC+03:00">
17:22
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18323" onclick="return GoToMessage(18323)">this message</a>
       </div>

       <div class="text">
зачем нужны движки для растеризации шрифтов? в этой статье (<a href="https://medium.com/@evanwallace/easy-scalable-text-rendering-on-the-gpu-c3f4d782c5ac">https://medium.com/@evanwallace/easy-scalable-text-rendering-on-the-gpu-c3f4d782c5ac</a>) показан способ как можно сделать растеризацию шрифта полностью на gpu. Со стороны js останется только передать код символа и его позицию. А позиции вычисляют отдельным движком текст-шейпинга - сейчас в бразуерах это harfbazz который учитывает все особенности не-английского текста. Его кстати сумели скомпилировать в webasm так что можно юзать и с webgl
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18328">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:24:26 UTC+03:00">
17:24
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ну вот надо для начала понимать где бутылочное горлышко
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18329">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:25:48 UTC+03:00">
17:25
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18322" onclick="return GoToMessage(18322)">this message</a>
       </div>

       <div class="text">
первый раз слышу, это как?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18330">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:31:48 UTC+03:00">
17:31
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18328" onclick="return GoToMessage(18328)">this message</a>
       </div>

       <div class="text">
со стороны производительности я пока бутылочного горлышка не вижу. Там проблема только в том чтобы закодировать шрифт как набор вершин и один раз передать в виде текстурки чтобы потом во время рендера по коду символа переданного из жс сформировать новый набор вершин (из примитивов кривых безье) разный для каждого символа. К сожалению из-за отсутсвия теселяционных и геометрических шейдеров в webgl (в отличии от opengl) это решается весьма сложным и костыльным способом
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18331">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:35:06 UTC+03:00">
17:35
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18330" onclick="return GoToMessage(18330)">this message</a>
       </div>

       <div class="text">
но это только в том случае если мы хотим рендерить текст с возможностью бесплатного и неограниченного увеличения размера шрифта не получая пикселизацию или артефакты. Для случаев когда мы можем обойтись какими-то рамками (например максимальный размер в 256 пикселей) то достаточно закодировать в битмап как это сделано в makepad-е используя <a href="https://github.com/Chlumsky/msdfgen">https://github.com/Chlumsky/msdfgen</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18332">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:36:10 UTC+03:00">
17:36
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
хочется все таки глянуть на рендеринг шрифта
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18333">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:37:33 UTC+03:00">
17:37
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
ну вот <a href="http://makepad.github.io">http://makepad.github.io</a> использует этот msdfgen, на мой взгляд вполне себе нормально рендерит текст
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18334">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:40:57 UTC+03:00">
17:40
       </div>

       <div class="text">
кстати автор makepad-а еще делал рендер текста на webgl еще раньше в другом проекте - trace-gl <a href="https://www.youtube.com/watch?v=4vtKRE9an_I">https://www.youtube.com/watch?v=4vtKRE9an_I</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18335">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:41:50 UTC+03:00">
17:41
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ну вот сделал много текста в редакторе, у меня вообще все зависло нафиг
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18336">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:42:27 UTC+03:00">
17:42
       </div>

       <div class="text">
упало скорость ввода до 1 фпс
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18337">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 17:48:34 UTC+03:00">
17:48
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
у него не все конечно идеально сделано, там на каждое движение мышки вызывается readPixels что очень медленно (хотя по нормальному надо было бы реализовать алгоритм picking-га через лейаут, но видимо он решил не заморачиваться) плюс еще насколько я понял он почему-то делает отдельные дравколлы для примитивов хотя правильней было бы заполнить массив и сделать один дравколл по крайней мере для текста
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18338">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 18:13:35 UTC+03:00">
18:13
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18327" onclick="return GoToMessage(18327)">this message</a>
       </div>

       <div class="text">
точнее не для растеризации, а для отправки текста на видяху, это уже бэкенд движка, а фронтенд будет в виде некоторой либы, тот же qt вроде так и делает на gpu, а cairo какой-нить на cpu, поэтому тормозной
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18339">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 18:41:10 UTC+03:00">
18:41
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18338" onclick="return GoToMessage(18338)">this message</a>
       </div>

       <div class="text">
они все делают рендер текста на cpu. Насколько я знаю из известных библиотек или технологий для десктопной или мобильной разработки никто не рендерит текст на gpu. Рендер текста на gpu вообще достаточно сложная тема - кроме тех что я выше описал есть еще куча других способов (более или менее костыльных) <a href="https://wdobbie.com/post/gpu-text-rendering-with-vector-textures">https://wdobbie.com/post/gpu-text-rendering-with-vector-textures</a> <a href="https://aras-p.info/blog/2017/02/15/Font-Rendering-is-Getting-Interesting">https://aras-p.info/blog/2017/02/15/Font-Rendering-is-Getting-Interesting</a> <a href="https://www.eventbrite.com/engineering/its-2015-and-drawing-text-is-still-hard-webgl-threejs">https://www.eventbrite.com/engineering/its-2015-and-drawing-text-is-still-hard-webgl-threejs</a> так что это пока исследовательская область
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18340">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:01:13 UTC+03:00">
19:01
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
Кароче разработка ui на webgl тема сложная но интересная. Я как-то потратил кучу времени разбираясь с webgl и его техниками рендера, обдумыванием того как делать лейаут, отрисовку, клиппинг и витуализацию и совместить все это с деклатаривным подходом рендера шаблонов и компонент как в реакте. И как это все можно объединить ускорить и упростить избавившись от лишних слоев абстракции. И хотя все это очень и очень сложно и для разаботки полноценной замены html-css требуются годы либо целая комманда сама эта область очень интересная, всем советую)
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18341">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:02:36 UTC+03:00">
19:02
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
тут со стейтом то разобраться не могут
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18342">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:05:08 UTC+03:00">
19:05
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
важный плюс какой еще появляется все калькуляции позиций можно будет делать на веб воркерах
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18343">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:16:05 UTC+03:00">
19:16
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18342" onclick="return GoToMessage(18342)">this message</a>
       </div>

       <div class="text">
ага, но для этого нужен либо доступ к webgl из вебворкеров либо SharedArrayBuffer который браузеры выпилили из-за недавних увязвимостей процессора иначе делать сериализацию данных невыгодно
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18344">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:20:05 UTC+03:00">
19:20
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
надолго выпилили?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18345">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:20:37 UTC+03:00">
19:20
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
Вообще самый главный плюс рендера ui на webgl это возможность бесплатно получить заодно и кроссплатформенный фреймворк - достаточно заменить вызовы webgl-функций на opengl-биндинги на ноде а события мышки драг-н-дропа и других в браузере заменить на специфичные для платформы биндинги и мы получим полноценную замену электрона, qt, react-native, flutter и т.д
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18346">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:21:25 UTC+03:00">
19:21
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
получим java ui
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18347">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:21:28 UTC+03:00">
19:21
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18344" onclick="return GoToMessage(18344)">this message</a>
       </div>

       <div class="text">
не знаю, sharedArrayBuffer позволяет реализовать высокоточный таймер на котором можно засекать промахи кеша, поэтому и выпилили
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18348">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:22:13 UTC+03:00">
19:22
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
да здравствует flash
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18349">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:25:12 UTC+03:00">
19:25
       </div>

       <div class="text">
только придет новая беда - абсолютная нулевая прозрачность в понимании что вообще происходит. что творится в видяхи никак не поглядеть
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18350">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:25:13 UTC+03:00">
19:25
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18348" onclick="return GoToMessage(18348)">this message</a>
       </div>

       <div class="text">
в смысле? webgl в браузерах, и практически тот же код (отличаются только биндинги для событий и opengl) для десктопных и мобильных приложений, полная унификация. А если еще даже добавить реализацию антиалиасинга на webgl (не полагаясь на системный) можно получить вообще попиксельную идентичность на разных платформах
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18351">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:25:27 UTC+03:00">
19:25
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
рендер ui на webgl - это и будет qt или нечто подобное, прослойка
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18352">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:33:17 UTC+03:00">
19:33
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18351" onclick="return GoToMessage(18351)">this message</a>
       </div>

       <div class="text">
браузер делает тоже самое только через кучу абстракций (как и qt) - создает дом-дерево, вычисляет стили, делает лейаут, отрисовку и все это через кучу слоев и абстракций, попробуй разберись в десятке миллионов  строк кода blink-движка хрома. А теперь сравним это например с makepad который делает тоже самое где на несколько порядков меньше кода. Вся суть в том чтобы упростить как реализацию так и уровень входа для новичков (вместо полтысячи css-свойств где куча способов делать одно и тоже, с кучей контекстов форматирования, и способами что-то спозиционировать или сделать будет только маленькое и простое ядро или алгоритм который можно понять полностью без всяких пятен или нюансов которыми перстрит css в статьях на <a href="css-live.ru">css-live.ru</a>)
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18353">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:35:31 UTC+03:00">
19:35
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ну вопрос стоит в спеке, кто займется ею
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18354">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:37:41 UTC+03:00">
19:37
       </div>

       <div class="text">
ну и соотвественно это обязательно начнет кто нибудь один, а потом начнут приходить люди, потом все начнет меняться, улучшаться, начнутся брейкинг чейнджи, ну и соотвественно пойдет легаси, поддержка старых версий спеки и появится тот же html+css только чуть попроще конечно же
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18355">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:39:03 UTC+03:00">
19:39
       </div>

       <div class="text">
возможно еще сообщество поделится пополам, будет 2 версии, и начнется ад, помимо знания html + css еще нужно будет знать эту технологию, плюс возможно ее форки
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18356">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:41:16 UTC+03:00">
19:41
       </div>

       <div class="text">
<a href="http://img1.joyreactor.cc/pics/comment/microsoft-Spartan-Internet-Explorer-новости-1559223.png">http://img1.joyreactor.cc/pics/comment/microsoft-Spartan-Internet-Explorer-новости-1559223.png</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18357">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:42:17 UTC+03:00">
19:42
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
мне кажется пока можно ускорить тот дом, что есть
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18358">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:43:47 UTC+03:00">
19:43
       </div>

       <div class="text">
а внешнюю сторону отдельно, ну какую-нить реализацию qml начать развивать поверх webgl
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18359">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:45:05 UTC+03:00">
19:45
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
да вообще нужно очень много чего исследовать, с этой видяхой, как вообще будет себя вести на мобилках, на древних видяхах, как батарейку будет жрать
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18360">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:45:45 UTC+03:00">
19:45
       </div>

       <div class="text">
видяха ведь она не скромная по энергозатратам, когда ее пилили не думали про энергоэффективность
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18361">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:49:23 UTC+03:00">
19:49
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18354" onclick="return GoToMessage(18354)">this message</a>
       </div>

       <div class="text">
На самом деле там не так уж и много вариантов выразить апи отрисовки. Дело в том что html-css изначально создавался как огрызок без возможности отрендерить даже круглые бордеры, не говоря уже про кривые безье (которые кстати до сих пор не сделать). Другое дело апи svg или еще лучше canvas-а - в котором все максимально просто и в тоже время гибко. Но в тоже время им не хватает только способа спозиционировать  и тут достаточно добавить модель флексбоксов и в том же докладе про флаттер говорится что того алгоритма хватает для всех случаев material-design библиотеки компонентов. Кстати в flutter тоже создали  аналог css - они не использую нативные компоненты как react-native а рисуют сами и реализовали там лейаут с куда меньшим числом абстракций и простым алгоритмом (я выше сбрасывал их доклад)
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18362">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:50:39 UTC+03:00">
19:50
       </div>

       <div class="text">
<a href="https://www.youtube.com/watch?v=UUfXWzp0-DU">https://www.youtube.com/watch?v=UUfXWzp0-DU</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18363">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:51:11 UTC+03:00">
19:51
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
ну там наверное свои компоненты и язык разметки
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18364">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:54:31 UTC+03:00">
19:54
       </div>

       <div class="text">
и это ж гугл, глядя на их ангулар, как-то  сомнительно что они могут что-либо с небольшим числом абстракций
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18365">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 19:57:21 UTC+03:00">
19:57
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18363" onclick="return GoToMessage(18363)">this message</a>
       </div>

       <div class="text">
да, но все это на порядок проще css, я вообще сомневаюсь что css можно выучить - столько спек, столько нюансов в итоге разрабатывая что-то на css перед разработчиком будет постоянно висеть груз незнания и постоянного гугления и изучения
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18366">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 20:07:02 UTC+03:00">
20:07
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а что мешает прям щас на флаттере разрабатывать и обычные веб приложения?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18367">

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 20:07:19 UTC+03:00">
20:07
       </div>

       <div class="text">
он же в webgl рендерит, насколько я понял
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18368">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 20:08:18 UTC+03:00">
20:08
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
на дарте писать
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18369">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 20:15:47 UTC+03:00">
20:15
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18367" onclick="return GoToMessage(18367)">this message</a>
       </div>

       <div class="text">
вроде не рендерит, я по крайней мере не слышал - он позиционируется для мобильной разработки - типа аналог react-native Даже для десктопа у них не было планов, хотя им всего-то нужно добавить биндинги для событий. Но я думаю похачить можно. Дарт можно скомпилировать в жс, а библиотека skia которую они используют на с++ но вроде тоже компилится в вебасм, остается перевести биндинги системных событий на браузерные
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18370">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 20:18:58 UTC+03:00">
20:18
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
для мобильной, но рендерит он не в нативные компоненты, следовательно в системный gl/canvas или что там еще
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18371">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 20:40:16 UTC+03:00">
20:40
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
кстати отдать рендеринг в другой поток и без всякого webgl пытаются: <a href="https://github.com/ampproject/worker-dom">https://github.com/ampproject/worker-dom</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18372">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 22:37:52 UTC+03:00">
22:37
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ну в любом случае работа с домом будет в основном потоке. синхронно.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18373">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 23:52:26 UTC+03:00">
23:52
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
еще я так понимаю остается проблема со шрифтами, стандартные шрифты заюзать не получится ибо не достать их кривые, придется все загружать отдельно<br><br>т е чтобы нарисовать первый экран надо будет скачать:<br>фреймворк<br>шрифты<br>либу для лейаута текста(harfbazz)<br>приложение <br>данные для приложения<br><br>мне кажется многовато для первого отображения
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18374">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 23:53:42 UTC+03:00">
23:53
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
из всего этого сейчас не скачивают только либу для лэйаута
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18375">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="28.08.2018 23:53:55 UTC+03:00">
23:53
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
соответсвенно первый запуск скриптов он будет холодный, и все будет работать без оптимизаций
       </div>

      </div>

     </div>

     <div class="message service" id="message-352">

      <div class="body details">
29 August 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18376">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="29.08.2018 00:01:23 UTC+03:00">
00:01
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
шрифиты и так отдельно все грузят
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18377">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="29.08.2018 00:01:43 UTC+03:00">
00:01
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ну не все
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18378">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="29.08.2018 07:28:59 UTC+03:00">
07:28
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Анимация 40к объектов - это конечно, круто, но 20 фпс годится лишь для таких вот анимаций. Для интерфейса нужны стабильные 60, которые не выдают и 1к объектов.<br><br>Я какое-то время планировал добавить в $mol рендеринг в 2d canvas, но отказался от этой идеи ввиду следующих причин:<br>1. Очень много работы по переизобретению того, что в браузере и так неплохо работает. А это трудозатраты, баги, раздувание кода.<br>2. Далеко не всё нативное поведение получится реализовать. Например, нативное контекстное меню не будет понимать по картинке тыкнули или по ссылке. А в кастомном не получится реализовать все пункты.<br>3. Браузерные расширения идут лесом.<br>4. Без продвинутых дев тулзов работать с этим будет больно. А даже если мы решимся их написать, то всё-равно придётся ввести дополнительные слои абстракции с рантайм деревьями (дерево компонент, дерево рендеринга).<br>5. Поисковики это фиг проиндексируют.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18379">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="29.08.2018 09:13:15 UTC+03:00">
09:13
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ну вообщем понятно что эта технология будет не для всех, всем то понятно это не надо, html + css c головой достаточно для статичных страниц + поисковики<br><br>а вот для всяких ide, мощно напичканных функционалом программ самое то, там уже все обычно свое включая контекстное меню<br><br>но я уже думаю, а вообще с этой технологией нужен ли вообще даже js, тут ведь если все будет в виде простого float массива формироваться достаточно и webasm, а это всякие rust и прочее<br>а это сильно уменьшит размер аппа
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18380">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="29.08.2018 10:51:58 UTC+03:00">
10:51
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
по-моему достаточно отложенно рендерить дом
       </div>

      </div>

     </div>

     <div class="message service" id="message-353">

      <div class="body details">
31 August 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18381">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="31.08.2018 18:29:21 UTC+03:00">
18:29
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
дим, а если экшены вообще перезапускать отдельно, не через ререндер компонента?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18382">

      <div class="body">

       <div class="pull_right date details" title="31.08.2018 18:30:12 UTC+03:00">
18:30
       </div>

       <div class="text">
сейчас есть реактивное свойство - статус очереди и этот статус обязательно должен в компоненте быть упомянут, иначе перезапуска не произойдет
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18383">

      <div class="body">

       <div class="pull_right date details" title="31.08.2018 18:30:41 UTC+03:00">
18:30
       </div>

       <div class="text">
либо надо патчить хэндлер события, что б экшен подписывал компонент на свои изменения
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18384">

      <div class="body">

       <div class="pull_right date details" title="31.08.2018 18:32:07 UTC+03:00">
18:32
       </div>

       <div class="text">
совсем без этого можно же, просто очередь будет сама перезапускать экшен, также как это делает компонент
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18385">

      <div class="body">

       <div class="pull_right date details" title="31.08.2018 18:32:24 UTC+03:00">
18:32
       </div>

       <div class="text">
а статус в компоненте будет тогда опциональным
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18386">

      <div class="body">

       <div class="pull_right date details" title="31.08.2018 18:34:56 UTC+03:00">
18:34
       </div>

       <div class="text">
правда, тогда трекать актуальность экшена не получится, т.е. можно закрыть компонент, а экшен будет продолжать выполняться и модифицировать стейт
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18387">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="31.08.2018 21:09:29 UTC+03:00">
21:09
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Так и должно быть на мой взгляд. Получается экшены должны жить своей жизнью, независимо от вьюх. Видимо я был не прав, их место в модели.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18388">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="31.08.2018 22:03:29 UTC+03:00">
22:03
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а вот правильно ли продолжать экшен, если вьюха его вызвавшая закрылась?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18389">

      <div class="body">

       <div class="pull_right date details" title="31.08.2018 22:05:33 UTC+03:00">
22:05
       </div>

       <div class="text">
вроде как бы да, ты ушел со страницы, экшен вообще фоновый может быть, не зависимо от того, где очередь находится
       </div>

      </div>

     </div>

     <div class="message service" id="message-354">

      <div class="body details">
1 September 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18390">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 06:19:41 UTC+03:00">
06:19
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Можно сделать ручку вида &quot;модель, дай мне все фоновые экшены с урлами при которых они были запущены&quot;.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18391">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 09:57:10 UTC+03:00">
09:57
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
экшен != url, это может быть серия фетчей
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18392">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 09:57:50 UTC+03:00">
09:57
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Урл вьюшки
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18393">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 09:58:11 UTC+03:00">
09:58
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
что такое url вьюшки?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18394">

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 09:58:18 UTC+03:00">
09:58
       </div>

       <div class="text">
стрницы чтоль?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18395">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 09:58:28 UTC+03:00">
09:58
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Агась.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18396">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 09:59:08 UTC+03:00">
09:59
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а зачем эта информация?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18397">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 10:00:14 UTC+03:00">
10:00
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Чтобы можно было открыть вьюшку, которая показывает подробности по экшену
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18398">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 10:01:58 UTC+03:00">
10:01
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
открытость вьюшки может не зависеть от урла
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18399">

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 10:02:25 UTC+03:00">
10:02
       </div>

       <div class="text">
а например, от статуса который на сервере меняется
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18400">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 10:03:18 UTC+03:00">
10:03
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
А должна.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18401">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 10:04:05 UTC+03:00">
10:04
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
от бизнес логики зависит, это может быть inline-форма в таблице
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18402">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 10:05:40 UTC+03:00">
10:05
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
И? Форма должна обеспечить отображение связанных с ней экшенов.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18403">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 10:06:37 UTC+03:00">
10:06
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
не факт, что форма
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18404">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 10:08:16 UTC+03:00">
10:08
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Тот, чья ответственность.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18405">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 10:13:56 UTC+03:00">
10:13
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
с урлом все-таки сложности могут быть, на момент создания экшена там же может быть информация и о других открытых вьюшках, которые потом открывать нельзя
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18406">

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 10:15:51 UTC+03:00">
10:15
       </div>

       <div class="text">
можно таск менеджер сделать - всплывашку фоновую - со списком запущенных экшенов, их статусом и т.д.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18407">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 10:17:54 UTC+03:00">
10:17
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Там должен быть не полный путь, а параметры до вьюшки, которые будучи примёрженные к любому урлу откроют эту вьюшку.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18408">

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 10:18:21 UTC+03:00">
10:18
       </div>

       <div class="text">
Ну либо предоставлять всю эту инфу при старте экшена.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18409">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 10:19:43 UTC+03:00">
10:19
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
это не автоматизировать, от реализации роутера зависит
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18410">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="01.09.2018 10:24:44 UTC+03:00">
10:24
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ну, кривые роутеры не рассматриваем)
       </div>

      </div>

     </div>

     <div class="message service" id="message-355">

      <div class="body details">
2 September 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18411">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="02.09.2018 15:48:32 UTC+03:00">
15:48
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Заредизайнил $mol. Теперь он поддерживает динамическую темизацию. Из коробки идут две темы: светлая и тёмная. Цвета задаются css-переменными:<br>  --mol_theme_back - цвет фона<br>  --mol_theme_hover - цвет подсветки активного элемента<br>  --mol_theme_current - цвет подсветки выбранного элемента<br>  --mol_theme_text - цвет текста<br>  --mol_theme_control - цвет кликабельного текста<br>  --mol_theme_shade - приглушённый цвет текста<br>  --mol_theme_line - цвет разделительных линий<br>  --mol_theme_focus - цвет обводки сфокусированного элемента<br>  --mol_theme_field - цвет фона полей ввода<br>На <a href="mol.js.org">mol.js.org</a> можно поиграться с переключателем тем.
       </div>

      </div>

     </div>

     <div class="message service" id="message-356">

      <div class="body details">
3 September 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18412">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="03.09.2018 20:07:52 UTC+03:00">
20:07
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
какой смысл менять цвет, если каждый заказчик хочет свой уникальный дизайн?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18413">

      <div class="body">

       <div class="pull_right date details" title="03.09.2018 20:08:18 UTC+03:00">
20:08
       </div>

       <div class="text">
это не тема, а некоторые параметры прибитой гвоздями к mol темы скорее
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18414">

      <div class="body">

       <div class="pull_right date details" title="03.09.2018 20:09:16 UTC+03:00">
20:09
       </div>

       <div class="text">
с css такой же подход, как и с mol_view должен быть, расширямые, типизированные структуры в tree, в которых можно использовать контекст
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18415">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="03.09.2018 21:20:21 UTC+03:00">
21:20
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Не каждый хочет уникальный дизайн. А вот цвета брендировать нужно всегда.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18416">

      <div class="body">

       <div class="pull_right date details" title="03.09.2018 21:22:50 UTC+03:00">
21:22
       </div>

       <div class="text">
Сейчас в моле нейтральный аскетичный дизайн, который более-менее органично (а главное бесплатно) впишется в большинство дизайнов. А изыски уже можно наворачивать сверху какие угодно, изоляции же нет.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18417">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="03.09.2018 21:25:12 UTC+03:00">
21:25
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а какая ниша мола тогда?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18418">

      <div class="body">

       <div class="pull_right date details" title="03.09.2018 21:25:42 UTC+03:00">
21:25
       </div>

       <div class="text">
есть же куча Ui-либ
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18419">

      <div class="body">

       <div class="pull_right date details" title="03.09.2018 21:38:33 UTC+03:00">
21:38
       </div>

       <div class="text">
если бы rad был к mol, который как в drupal позволял бы мышкой накидать электронный магазин типа алиекспресса, то еще норм =)
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18420">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="03.09.2018 21:41:46 UTC+03:00">
21:41
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Рад на моле сделать проще, чем на куче уи либ.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18421">

      <div class="body">

       <div class="pull_right date details" title="03.09.2018 21:54:32 UTC+03:00">
21:54
       </div>

       <div class="text">
Ниша мола - быстрое создание кучи качественных приложений в едином стиле.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18422">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="03.09.2018 22:19:52 UTC+03:00">
22:19
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
пытаюсь атомы сделать поверх mobx через createAtom и Reaction. может из твоих атомов выделить движок зависимостей отдельно в похожие абстракции?
       </div>

      </div>

     </div>

     <div class="message service" id="message-357">

      <div class="body details">
4 September 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18423">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
ВМ
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 06:27:58 UTC+03:00">
06:27
       </div>

       <div class="from_name">
Виталий Макеев
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18415" onclick="return GoToMessage(18415)">this message</a>
       </div>

       <div class="media_wrap clearfix">

        <div class="media clearfix pull_left media_photo">

         <div class="fill pull_left">

         </div>

         <div class="body">

          <div class="title bold">
Photo
          </div>

          <div class="description">
Not included, change data exporting settings to download.
          </div>

          <div class="status details">
720×1280, 47.9 KB
          </div>

         </div>

        </div>

       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18424">

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 06:28:30 UTC+03:00">
06:28
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18415" onclick="return GoToMessage(18415)">this message</a>
       </div>

       <div class="text">
У себя потом хотел бы сделать нейтральный вариант с минимумом цветов в UI. Глубоко не смотрел, но думаю, всё равно настройками не обойтись без модинга CSS базовых элементов?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18425">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 07:20:02 UTC+03:00">
07:20
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18422" onclick="return GoToMessage(18422)">this message</a>
       </div>

       <div class="text">
Не очень понял что и зачем.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18426">

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 07:22:27 UTC+03:00">
07:22
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18424" onclick="return GoToMessage(18424)">this message</a>
       </div>

       <div class="text">
Цвета убрать через переменные можно. А что ещё хочется изменить?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18427">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
ВМ
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 08:28:57 UTC+03:00">
08:28
       </div>

       <div class="from_name">
Виталий Макеев
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18426" onclick="return GoToMessage(18426)">this message</a>
       </div>

       <div class="text">
Изменить в стилях?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18428">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 08:52:46 UTC+03:00">
08:52
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ну да, просто переопределить переменные.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18429">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 11:22:40 UTC+03:00">
11:22
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18425" onclick="return GoToMessage(18425)">this message</a>
       </div>

       <div class="text">
я делаю новые атомы с файберами, для трекинга зависимостей решил пока использовать mobx, что б не писать свою реализацию. Смысл в совместимости с mobx
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18430">

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 11:23:23 UTC+03:00">
11:23
       </div>

       <div class="text">
если выделить в отдельную абстракцию трекинг - проще код будет, т.к. это наиболее трудоемкая часть
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18431">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 11:24:17 UTC+03:00">
11:24
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Боюсь по памяти это будет расточительно.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18432">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 11:25:02 UTC+03:00">
11:25
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
да почему, просто еще один слой наследования будет
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18433">

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 11:25:31 UTC+03:00">
11:25
       </div>

       <div class="text">
<a href="https://github.com/zerkalica/fibercell/blob/master/packages/fibercell-mobx/src/MobxCell.ts">https://github.com/zerkalica/fibercell/blob/master/packages/fibercell-mobx/src/MobxCell.ts</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18434">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 13:20:47 UTC+03:00">
13:20
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Зачем это вообще?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18435">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 13:24:36 UTC+03:00">
13:24
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
что именно?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18436">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 14:35:57 UTC+03:00">
14:35
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
не смотрел <a href="http://seaside.st/about/examples">http://seaside.st/about/examples</a> ? чем-то похоже на mol
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18437">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 17:05:14 UTC+03:00">
17:05
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
все-таки с экшенами и блокировками данных, которые эти экшены затрагивают есть вопросы:<br>1. Должны ли блокировки автоматизироваться<br>2. Должны ли автоматизироваться по аналогии с pull-данными? например, добавляется свойство status в модели и если обратиться к свойству во время pending/error - бросается ексепшен, который ловит стандартный try/catch компонента<br>3. Как строить блокировки, например я жму complete у todo, блокируется только один item или вся коллекция?<br>4. Как обрабатывать ошибки, где показывать область с вопросом retry/abort к пользователю
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18438">

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 17:17:07 UTC+03:00">
17:17
       </div>

       <div class="text">
явно должна быть связь таски из очереди экшенов с моделью, что б модель сама мониторила свой статус
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18439">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 17:41:59 UTC+03:00">
17:41
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18435" onclick="return GoToMessage(18435)">this message</a>
       </div>

       <div class="text">
Зачем атомам разные бэкенды?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18440">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 17:42:46 UTC+03:00">
17:42
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18439" onclick="return GoToMessage(18439)">this message</a>
       </div>

       <div class="text">
показать, что атомы - надмножество mobx
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18441">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 17:42:51 UTC+03:00">
17:42
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18436" onclick="return GoToMessage(18436)">this message</a>
       </div>

       <div class="text">
Синтаксисом. Ну там полностью свой язык я смотрю.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18442">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 17:43:09 UTC+03:00">
17:43
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18441" onclick="return GoToMessage(18441)">this message</a>
       </div>

       <div class="text">
реактивностью и приостановками
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18443">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 17:44:16 UTC+03:00">
17:44
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18440" onclick="return GoToMessage(18440)">this message</a>
       </div>

       <div class="text">
Над атомами мобх, но не компьютедом же.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18444">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 18:45:26 UTC+03:00">
18:45
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
это да, ну двиг сменить не сложно
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18445">

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 18:53:11 UTC+03:00">
18:53
       </div>

       <div class="text">
Как тебе такой подход:<br><a href="https://github.com/zerkalica/fibercell/blob/6b8539137a8d4b5d548ed158771772e6aac97538/packages/fibercell-examples/src/todomvc/models/TodoRepository.ts#L77">https://github.com/zerkalica/fibercell/blob/6b8539137a8d4b5d548ed158771772e6aac97538/packages/fibercell-examples/src/todomvc/models/TodoRepository.ts#L77</a><br>В репозитории есть метод locked, который по ключу узнает статус таски.<br>Когда экшен создает таску, мы ее с ключем ассоциируем
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18446">

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 19:02:57 UTC+03:00">
19:02
       </div>

       <div class="text">
есть проблема, если в качестве ключа объект todo и внутри экшена заменить этот todo на новый, то трекинг перестает работать, т.к. меняется ключ
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18447">

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 19:04:08 UTC+03:00">
19:04
       </div>

       <div class="text">
есть другой способ, таску записывать в модель и трекать ее, но это сложнее
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18448">

      <div class="body">

       <div class="pull_right date details" title="04.09.2018 19:14:04 UTC+03:00">
19:14
       </div>

       <div class="text">
правда первым способом через id можно разные типы блокировок задать, <a href="todo.id">todo.id</a> + &apos; update&apos; например, и сделать метод lockedUpdate
       </div>

      </div>

     </div>

     <div class="message service" id="message-358">

      <div class="body details">
5 September 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18449">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 01:04:40 UTC+03:00">
01:04
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
Второй вариант реализовал: <a href="https://github.com/zerkalica/fibercell/blob/71858a994d24ce74f16621b6b77eed08c54e7d98/packages/fibercell-examples/src/todomvc/models/TodoRepository.ts#L78">https://github.com/zerkalica/fibercell/blob/71858a994d24ce74f16621b6b77eed08c54e7d98/packages/fibercell-examples/src/todomvc/models/TodoRepository.ts#L78</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18450">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 08:54:15 UTC+03:00">
08:54
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Меня смущает интерактивная установка и сброс таска в двух методах, что приводит к их конфликту.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18451">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 10:09:01 UTC+03:00">
10:09
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
ты про методы, которые с множеством тудушек работают?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18452">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 10:09:54 UTC+03:00">
10:09
       </div>

       <div class="text">
там очередь последовательная, 2 таски одновременно не смогут прописаться в this.tasks
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18453">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 10:10:21 UTC+03:00">
10:10
       </div>

       <div class="text">
при паралельной не представляю как блокировки реализовать, да и надо ли
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18454">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 10:23:20 UTC+03:00">
10:23
       </div>

       <div class="text">
для паралельной нужно отслеживать массив тасок, это сложнее уже
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18455">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 10:26:27 UTC+03:00">
10:26
       </div>

       <div class="text">
т.е. locked  - должно учитывать все таски от одного экшена в очереди
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18456">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 12:06:53 UTC+03:00">
12:06
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
все-таки у меня ощущение, что подход с очередями не годится, нужно как-то более гибко описывать ограничения экшенов
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18457">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 12:08:37 UTC+03:00">
12:08
       </div>

       <div class="text">
нужно в коде сказать:<br>add выполняется последоватльно с add, update<br>update отменяет предыдущий update той же сущности и т.д.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18458">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 12:29:11 UTC+03:00">
12:29
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Тогда можно просто в начале экшена проверять предыдущий и либо отменять его, либо замораживаться в его ожидании.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18459">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 12:42:09 UTC+03:00">
12:42
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
там сложнее
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18460">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 12:42:21 UTC+03:00">
12:42
       </div>

       <div class="text">
давай называть сущность, порождаемую экшеном (методом) - таской
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18461">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 12:43:24 UTC+03:00">
12:43
       </div>

       <div class="text">
например экшен update, надо проверять, что предыдущая update-таска именно этого todo и только тогда отменять
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18462">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 12:45:04 UTC+03:00">
12:45
       </div>

       <div class="text">
т.е. в таске должна быть инфа об обновляемой ею сущности
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18463">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 13:04:54 UTC+03:00">
13:04
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Почему бы не класть эту таску в саму модель туду?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18464">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 13:05:53 UTC+03:00">
13:05
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
я так и делаю, но как быть с паралельными тасками для одной сущности
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18465">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 13:06:19 UTC+03:00">
13:06
       </div>

       <div class="text">
т.е. следующая таска перезатрет предыдущую
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18466">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 13:37:24 UTC+03:00">
13:37
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
Как такой вариант?<br><pre>    <br>@action clearCompleted() {<br>        this.queue.run(task =&gt; {<br>            const current = this.task<br>            if (current) {<br>                if (current.fromActions(this.completeAll, this.toggleAll))<br>                  current.abort()<br><br>                if (current.fromActions(this.clearCompleted))<br>                  return task.wait(current)<br>            }<br><br>            this.task = task<br>            // fetch<br>            this.task = null<br>        })<br>    }</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18467">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 13:39:18 UTC+03:00">
13:39
       </div>

       <div class="text">
queue - смешанная получается
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18468">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 13:40:20 UTC+03:00">
13:40
       </div>

       <div class="text">
очередь вообще можно в декоратор упрятать
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18469">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 13:44:08 UTC+03:00">
13:44
       </div>

       <div class="text">
узкое место тут this.task, как-то иначе надо получить current
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18470">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 13:48:49 UTC+03:00">
13:48
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18465" onclick="return GoToMessage(18465)">this message</a>
       </div>

       <div class="text">
Так там множество тасок должно быть.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18471">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 13:50:16 UTC+03:00">
13:50
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
this.task не должно быть, нужно что-то вроде  <pre> const current = this.queue.find(this, this.clearCompleted)</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18472">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 13:51:30 UTC+03:00">
13:51
       </div>

       <div class="text">
очедерь - аналог хранилища тасок, с выбором по сущности и по экшену
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18473">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 14:02:13 UTC+03:00">
14:02
       </div>

       <div class="text">
<pre>            const query = this.queue.find(this, this.clearCompleted)<br>            if (query) {<br>                if (query.fromActions(this.completeAll, this.toggleAll)) return query.abort()<br>                if (query.fromActions(this.clearCompleted)) return task.sheduleAfter(current)<br>            }</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18474">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 14:02:48 UTC+03:00">
14:02
       </div>

       <div class="text">
очередь отдает query - совокупность тасок, соотвествующих критериям
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18475">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 16:38:49 UTC+03:00">
16:38
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
как тебе такое описание ограничений:<br><a href="https://gist.github.com/zerkalica/9e954b1dcb026dee06f185372fb57d9d#file-todorepository-ts-L164">https://gist.github.com/zerkalica/9e954b1dcb026dee06f185372fb57d9d#file-todorepository-ts-L164</a><br><pre>@action clearCompleted() {<br>        this.queue.run(this, this.clearCompleted, task =&gt; {<br>            task<br>                .after([this.update, this.remove])<br>                .after([this.completeAll, this.toggleAll], this)<br>                .cancels([this.clearCompleted], this)</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18476">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 16:39:18 UTC+03:00">
16:39
       </div>

       <div class="text">
<pre> @action update(todo: Todo) {<br>        this.queue.run(todo.id, this.update, task =&gt; {<br>            task<br>                .after([this.add], todo.id)<br>                .cancels([this.update, this.remove], todo.id)<br>                .after([this.completeAll, this.toggleAll, this.clearCompleted], this)</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18477">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 16:40:22 UTC+03:00">
16:40
       </div>

       <div class="text">
первый аргумент в ограничениях - массив экшенов, который ограничивают, второй - ключ сущности
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18478">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 16:40:38 UTC+03:00">
16:40
       </div>

       <div class="text">
без ключа учитываются все сущности
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18479">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 17:11:21 UTC+03:00">
17:11
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Цепочка вызовов - не гибко. Что если надо хитрее логику?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18480">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 17:12:32 UTC+03:00">
17:12
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
хитрее не получится, тут можно оперировать только id-шником сущности и экшеном
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18481">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 17:13:36 UTC+03:00">
17:13
       </div>

       <div class="text">
и что может быть хитрее?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18482">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 17:13:47 UTC+03:00">
17:13
       </div>

       <div class="text">
как еще описать условия
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18483">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 19:42:55 UTC+03:00">
19:42
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
так что за логику ты имел в виду?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18484">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 19:44:57 UTC+03:00">
19:44
       </div>

       <div class="text">
есть экшен и id сущности, относительно них нужны конструкции - выполнить после, отменить предыдущую и выполнить текущую, режектнуть текущий, что б дабл клики отсечь
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18485">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 19:48:46 UTC+03:00">
19:48
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Например в зависимости от данных выстраивать в цепочку или нет.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18486">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 19:51:39 UTC+03:00">
19:51
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
в цепочку относительно чего?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18487">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 19:54:04 UTC+03:00">
19:54
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Другого экшена.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18488">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 19:54:11 UTC+03:00">
19:54
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
можно так:<br><pre>            if (task.dirty) task.after([this.update], todo.id)<br>            else task.cancels([this.update], todo.id)</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18489">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 19:58:48 UTC+03:00">
19:58
       </div>

       <div class="text">
надо встраивать относительно экшена, который сейчас аффектит сущность с такими-то данными, если на входе у нас есть такие-то данные
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18490">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 20:04:54 UTC+03:00">
20:04
       </div>

       <div class="text">
вот как это лучше в коде описать?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18491">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 20:06:16 UTC+03:00">
20:06
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Получить таск, проверить его свойства и заморозиться на нём если что.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18492">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 20:09:05 UTC+03:00">
20:09
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
тасков по искомым критериям может быть много
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18493">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 20:10:35 UTC+03:00">
20:10
       </div>

       <div class="text">
и что значит заморозиться? может выполниться после или заменить?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18494">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 20:13:39 UTC+03:00">
20:13
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ну да.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18495">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 20:13:58 UTC+03:00">
20:13
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
как со множествами работать?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18496">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 20:15:01 UTC+03:00">
20:15
       </div>

       <div class="text">
есть просто хранилище как угодно выполняющихся тасков, есть критерии их выборки
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18497">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 20:16:52 UTC+03:00">
20:16
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Выбираем всё и проверяем.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18498">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 20:17:07 UTC+03:00">
20:17
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
много бойлерплейта будет
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18499">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 20:17:43 UTC+03:00">
20:17
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ну типовой код в хелперы.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18500">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 20:18:20 UTC+03:00">
20:18
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
тоже так себе решение
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18501">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 20:21:01 UTC+03:00">
20:21
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ага. Я тут занялся визивигом.  Думаю делать ли отдельную модель на js или использовать dom напрямую.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18502">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 20:22:25 UTC+03:00">
20:22
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
что ты делаешь?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18503">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 20:22:52 UTC+03:00">
20:22
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Богатый редактор.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18504">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 20:36:13 UTC+03:00">
20:36
       </div>

       <div class="text">
Если делать отдельную модель, то она во многом повторяет хтмл. Её как-то всё-равно придётся восстанавливать из хтмл, полученном из письма или ворда. Придётся велосипедить все функции редактирования. Синхронизировать в обе стороны с домом. Если синхронизировать в одну, то сломается нативная проверка орфографии и будут тормоза на сложных документах при вводе текста.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18505">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 20:52:13 UTC+03:00">
20:52
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
куда-то тебя в частности несет, вместо продумывания основы
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18506">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:00:43 UTC+03:00">
21:00
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Это не частности, а ограничения. От них зависит какие фичи будут реализуемы в выбранной архитектуре, а какие нет.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18507">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:01:56 UTC+03:00">
21:01
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
столько копий уже поломано с этим визивигом
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18508">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:02:11 UTC+03:00">
21:02
       </div>

       <div class="text">
че готовое не юзаешь?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18509">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:07:15 UTC+03:00">
21:07
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Готовое всё кривое.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18510">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:07:41 UTC+03:00">
21:07
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
ну вообще сериализовать что-то в дом интересно, только не просто визивиг, а формбилдер например, полноценный
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18511">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:08:15 UTC+03:00">
21:08
       </div>

       <div class="text">
что б декларативно, через расширения намутить можно было любую логику и верстку
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18512">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:10:14 UTC+03:00">
21:10
       </div>

       <div class="text">
общая проблема - как скрыть детали, но сделать их расширяемыми, что б форма была, даже если просто json-схему скормить, а вот потом расширять для верстки
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18513">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:11:05 UTC+03:00">
21:11
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18509" onclick="return GoToMessage(18509)">this message</a>
       </div>

       <div class="text">
ты сам родишь очередной кривой велик
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18514">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:13:57 UTC+03:00">
21:13
       </div>

       <div class="text">
каждый браузер делает этот визивиг по своему. удаления, переводы строк в инлайн в inline block сильно разное. решение будет напичкано хаками для борьбы с тем или иным браузером
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18515">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:14:38 UTC+03:00">
21:14
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а если просто редактор tree?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18516">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:14:44 UTC+03:00">
21:14
       </div>

       <div class="text">
из готовых компонент
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18517">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:15:39 UTC+03:00">
21:15
       </div>

       <div class="text">
прикрутить кнопки, которые будут вставлять готовые виджеты, редактор связей, делфи короче
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18518">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:17:21 UTC+03:00">
21:17
       </div>

       <div class="text">
нормальная визуалка для мола, что б мышкой напрограммить, могла бы его спасти, т.к. конкуренции в опсорсе/вебе нету практически
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18519">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:25:17 UTC+03:00">
21:25
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18513" onclick="return GoToMessage(18513)">this message</a>
       </div>

       <div class="text">
<a href="https://ru.wikipedia.org/wiki/%D0%9C%D0%B5%D0%BD%D1%82%D0%B0%D0%BB%D0%B8%D1%82%D0%B5%D1%82_%D0%BA%D1%80%D0%B0%D0%B1%D0%B0">https://ru.wikipedia.org/wiki/%D0%9C%D0%B5%D0%BD%D1%82%D0%B0%D0%BB%D0%B8%D1%82%D0%B5%D1%82_%D0%BA%D1%80%D0%B0%D0%B1%D0%B0</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18520">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:26:46 UTC+03:00">
21:26
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18514" onclick="return GoToMessage(18514)">this message</a>
       </div>

       <div class="text">
Эти вещи придётся перехватывать и велосипедить. Тут, например, не нативная работа enter: <a href="http://mol.js.org/app/demo/#demo=mol_textarea_demo">http://mol.js.org/app/demo/#demo=mol_textarea_demo</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18521">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:31:08 UTC+03:00">
21:31
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18518" onclick="return GoToMessage(18518)">this message</a>
       </div>

       <div class="text">
Это я не для мола, у меня задача редактор документов/шаблонов/документации/писем/комментариев запилить с таблицами, виджетами, рецензированием и прочим.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18522">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:32:03 UTC+03:00">
21:32
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а на чем?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18523">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:32:15 UTC+03:00">
21:32
       </div>

       <div class="text">
на ангуларе чтоль? =)
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18524">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:33:58 UTC+03:00">
21:33
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Не, с ним я завязал. Но Реакт тут точно не подойдёт.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18525">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:34:29 UTC+03:00">
21:34
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
vanila js ? =)
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18526">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:36:03 UTC+03:00">
21:36
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Агась. Тут веб-компоненты бы подошли, если бы поддерживались нормально.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18527">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:37:00 UTC+03:00">
21:37
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а без компонент нафиг такой редактор? нужно же какие-то стандартные виджеты
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18528">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:38:54 UTC+03:00">
21:38
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ну это вопрос апи для виджетов.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18529">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:41:59 UTC+03:00">
21:41
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18519" onclick="return GoToMessage(18519)">this message</a>
       </div>

       <div class="text">
я за тебя переживаю. потонешь ведь на пару месяцев, и с неясным результатом. а заюзать это творение мало кто захочет ибо нужна для этого постоянная поддержка и фикс багов
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18530">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:42:34 UTC+03:00">
21:42
       </div>

       <div class="text">
а баги будут как из рога изобилия
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18531">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:46:59 UTC+03:00">
21:46
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Это долгосрочный проект. Задача написать классный визивиг, который будет использоваться в куче проектов.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18532">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:47:30 UTC+03:00">
21:47
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а как стыковать с реактами/ангуларами/вуе?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18533">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:47:42 UTC+03:00">
21:47
       </div>

       <div class="text">
тупо дом элемент отдать функции?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18534">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:48:32 UTC+03:00">
21:48
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Агась. И управлять через апи.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18535">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:49:15 UTC+03:00">
21:49
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а не будет инородной эта штука, для каких-то примитивных вещей, вроде текста?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18536">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:49:37 UTC+03:00">
21:49
       </div>

       <div class="text">
компоненты стили, это ж надо как-то интегрировать
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18537">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:51:08 UTC+03:00">
21:51
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18535" onclick="return GoToMessage(18535)">this message</a>
       </div>

       <div class="text">
Так это и будет просто текстовый редактор. Каких типов узлов накидал - такие и будут поддерживаться.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18538">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:54:48 UTC+03:00">
21:54
       </div>

       <div class="text">
Я ещё хочу сделать виртуальный скролл, чтобы можно было большие документы редактировать. Для этого нужны хинты по размерам. Соответственно поэтому Реакт и не подходит, ибо в нём сначала надо всё отрендерить, чтобы посчитать размеры. Тут подход мола больше подходит с созданием дерева компонент из которого уже реактивно можно вытягивать любую информацию, без полного рендеринга.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18539">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:56:49 UTC+03:00">
21:56
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
Каких типов узлов накидал - такие и будут поддерживаться. - это и есть компоненты ведь
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18540">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:57:18 UTC+03:00">
21:57
       </div>

       <div class="text">
т.е. ты переизобретешь компоненты для редактора?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18541">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:59:07 UTC+03:00">
21:59
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
если долгосрочный тогда лучше делать всю обработку ввода руками. самый безбажный вариант. но долгий. ну и плюс надо будет еще на ошибки чекать слова руками
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18542">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 21:59:58 UTC+03:00">
21:59
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18539" onclick="return GoToMessage(18539)">this message</a>
       </div>

       <div class="text">
Ну да. Без этого никак. Например, узел должен уметь не только рендериться, но и выдавать информацию типа строкового представления, записей для полнотекстового индекса, навигации и прочего.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18543">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:02:13 UTC+03:00">
22:02
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а если поведение нужно, fetch на сервер и пошло-поехало?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18544">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:02:47 UTC+03:00">
22:02
       </div>

       <div class="text">
или элементы формы нельзя?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18545">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:03:43 UTC+03:00">
22:03
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18541" onclick="return GoToMessage(18541)">this message</a>
       </div>

       <div class="text">
Русский словарь - 8 мб. Не хочется это всё тянуть на клиент. Делать серверное апи - задержки. Я хочу сохранить нативный спелчек.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18546">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:05:51 UTC+03:00">
22:05
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18543" onclick="return GoToMessage(18543)">this message</a>
       </div>

       <div class="text">
Ну, внутри виджета может быть хоть мини приложение. Например, виджет показа пользователя может сходить на сервак за его аватаркой, именем, и прочей инфой о нём.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18547">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:06:22 UTC+03:00">
22:06
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а интерфейс то какой, если там реакт например?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18548">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:07:30 UTC+03:00">
22:07
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
ReactDOM.render и поехали.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18549">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:08:01 UTC+03:00">
22:08
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а, микросервисы =)
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18550">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:09:38 UTC+03:00">
22:09
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Фронтенд микросервисы, да 😊
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18551">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:15:18 UTC+03:00">
22:15
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18545" onclick="return GoToMessage(18545)">this message</a>
       </div>

       <div class="text">
да вот уж от спелчека не ждут супер реакции. 50мс никто и не заметит даже
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18552">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:16:44 UTC+03:00">
22:16
       </div>

       <div class="text">
тем более родной браузерный такой себе. не умеет в 2 языка, подсказки к ошибкам тоже так себе. я думаю есть более крутые серверные тулы для этого
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18553">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:19:09 UTC+03:00">
22:19
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Скорость интернета и загруженность серверов - слабо предсказуемая тема. 50мс - это на машине у разработчика разве что будет. Нативный умеет в 2 языка и подсказки к ошибкам и пополнение словаря.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18554">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:22:20 UTC+03:00">
22:22
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ты бы попробовал сначала, прежде чем утверждать
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18555">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:22:33 UTC+03:00">
22:22
       </div>

       <div class="media_wrap clearfix">

        <div class="media clearfix pull_left media_photo">

         <div class="fill pull_left">

         </div>

         <div class="body">

          <div class="title bold">
Photo
          </div>

          <div class="description">
Not included, change data exporting settings to download.
          </div>

          <div class="status details">
1280×374, 105.1 KB
          </div>

         </div>

        </div>

       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18556">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:24:22 UTC+03:00">
22:24
       </div>

       <div class="text">
браузерному спелчеку как до луны до вордовского
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18557">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:26:17 UTC+03:00">
22:26
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="media_wrap clearfix">

        <div class="media clearfix pull_left media_photo">

         <div class="fill pull_left">

         </div>

         <div class="body">

          <div class="title bold">
Photo
          </div>

          <div class="description">
Not included, change data exporting settings to download.
          </div>

          <div class="status details">
525×295, 16.3 KB
          </div>

         </div>

        </div>

       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18558">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:26:37 UTC+03:00">
22:26
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ну вот еще добавляется никакая кроссбраузерность
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18559">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:28:33 UTC+03:00">
22:28
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Это не настолько важная фича, как видно.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18560">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:30:25 UTC+03:00">
22:30
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
ну вот, а ты ради нее хочешь заюзать браузерную версию визивига
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18561">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:30:59 UTC+03:00">
22:30
       </div>

       <div class="text">
contenteditable самая большая ошибка
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18562">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:31:47 UTC+03:00">
22:31
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Я про подсказки. Эта фича не стоит того, чтобы отказываться от нативного спелчека.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18563">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:32:14 UTC+03:00">
22:32
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
так я тебе показал что он не работает, для 2х языков
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18564">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:35:04 UTC+03:00">
22:35
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="media_wrap clearfix">

        <div class="media clearfix pull_left media_photo">

         <div class="fill pull_left">

         </div>

         <div class="body">

          <div class="title bold">
Photo
          </div>

          <div class="description">
Not included, change data exporting settings to download.
          </div>

          <div class="status details">
566×79, 4.8 KB
          </div>

         </div>

        </div>

       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18565">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:35:07 UTC+03:00">
22:35
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
плюс очень бедный словарь, я так понимаю у него нет слова в базе &quot;realize&quot;
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18566">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 22:36:00 UTC+03:00">
22:36
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Его не сложно добавить наряду с остальными.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18567">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 23:11:53 UTC+03:00">
23:11
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18538" onclick="return GoToMessage(18538)">this message</a>
       </div>

       <div class="text">
А что значит &quot;вытягивать любую информацию, без полного рендеринга.&quot; ?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18568">

      <div class="body">

       <div class="pull_right date details" title="05.09.2018 23:16:43 UTC+03:00">
23:16
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18538" onclick="return GoToMessage(18538)">this message</a>
       </div>

       <div class="text">
Насколько я помню виртуальный скролл это позиционироание элементов списка по абсолютным позициям и рендер только тех элементов позиции которых находятся внутри  прямоугольной области. Непонятно почему реакт тут не подходит
       </div>

      </div>

     </div>

     <div class="message service" id="message-359">

      <div class="body details">
6 September 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18569">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 04:30:18 UTC+03:00">
04:30
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ну, в простейшем случае, чтобы узнать высоту кнопки достаточно прочитать константное свойство &quot;высота&quot;, без вычисления всех атрибутов, стилей, контента. В более сложных случаях нужно вычислить какие из детей участвуют в лэйауте и сложить их высоты.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18570">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 04:32:03 UTC+03:00">
04:32
       </div>

       <div class="text">
Единственный вариант добиться этого в Реакте - отказаться от JSX. Тогда от него остаётся лишь VDOM, который не имеет смысла при ОРП.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18571">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 10:38:23 UTC+03:00">
10:38
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
А как такой дизайн?<br><pre>   @action update2(todo: Todo) {<br>        this.queue.task(todo.id, this.update)<br>            .after([this.add], todo.id)<br>            .cancel([this.update, this.remove], todo.id)<br>            .after([this.completeAll, this.toggleAll, this.clearCompleted], this)<br>            .run(task =&gt; {<br>                this.todos = this.todos.map(t =&gt; t.id === todo.id ? todo.copy({task}) : t)<br>                this._.fetch(`/api/todo/${todo.id}`, {<br>                    method: &apos;POST&apos;,<br>                    body: JSON.stringify(todo)<br>                })<br>                this.todos = this.todos.map(t =&gt; t.id === todo.id ? todo.copy({task: undefined}) : t)<br>            })<br>    }<br></pre>cancel, after - хелперы над queue.find. Если явно их не вызывать, то будет последовательное выполнение всегда, таска добавится в очередь выполняющейся таски
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18572">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 10:40:07 UTC+03:00">
10:40
       </div>

       <div class="text">
для параллельной будет хелпер .parallel()
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18573">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 10:44:07 UTC+03:00">
10:44
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
<pre>this.queue.cancel(this.update)<br>this.queue.wait(this.completeAll)<br>this.queue.wait(this.toggleAll)<br>// do something</pre><br>Я бы так сделал.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18574">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 10:44:47 UTC+03:00">
10:44
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
еще ж сущность нужна
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18575">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 10:44:57 UTC+03:00">
10:44
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Это в самой сущности - <code>this</code>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18576">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 10:46:18 UTC+03:00">
10:46
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
есть Todo с update/remove, и TodoRepository с completeAll, toggleAll
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18577">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 10:46:58 UTC+03:00">
10:46
       </div>

       <div class="text">
и еще может быть anemic подход, когда в репозитории есть update(todo) / remove(todo)
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18578">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 10:47:51 UTC+03:00">
10:47
       </div>

       <div class="text">
как в твоем примере сказать - подождать update с определенным <a href="todo.id">todo.id</a>, при том что this.update в каждом новом инстансе todo будет свой из-за биндов
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18579">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 10:53:06 UTC+03:00">
10:53
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18577" onclick="return GoToMessage(18577)">this message</a>
       </div>

       <div class="text">
Ещё один камень в огород анемичных моделей. Впрочем, анемичную модель не сложно обернуть в умную.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18580">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 10:54:15 UTC+03:00">
10:54
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
я так и делаю, просто не всегда бывает удобно
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18581">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 10:54:20 UTC+03:00">
10:54
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18578" onclick="return GoToMessage(18578)">this message</a>
       </div>

       <div class="text">
Вот этого я не понял. В экшене одного туду подождать экшен другого туду? Зачем так?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18582">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 10:58:24 UTC+03:00">
10:58
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
наоборот, подождать только свой, update можно делать паралельно для разных todo
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18583">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:00:02 UTC+03:00">
11:00
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ну так у каждого туду будет своя очередь для апдейтов.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18584">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:00:12 UTC+03:00">
11:00
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
в твоем примере this.update - это я так понимаю в модели todo, но каждый раз, когда мы обновляем коллекцию, у нас будет новый метод update из-за биндов
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18585">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:00:42 UTC+03:00">
11:00
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18583" onclick="return GoToMessage(18583)">this message</a>
       </div>

       <div class="text">
не получится, т.к. надо обнлвлять коллекцию, а коллекция в репозитории
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18586">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:01:10 UTC+03:00">
11:01
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
С чего бы? Создали туду, настроили и далее не трогаем.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18587">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:01:39 UTC+03:00">
11:01
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
каждый чих с ним - апдейт коллекции, а как иначе всякие filtered коллекции будут работать?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18588">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:02:02 UTC+03:00">
11:02
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
И? Туду-то не должна меняться от этого.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18589">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:07:44 UTC+03:00">
11:07
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
почему? мы ж update делаем
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18590">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:09:42 UTC+03:00">
11:09
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Данные меняем, а не его shape.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18591">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:11:21 UTC+03:00">
11:11
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
ну да, поменял completed: false и оно должно пропасть с экрана, если фильтр стоит: только completed
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18592">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:12:26 UTC+03:00">
11:12
       </div>

       <div class="text">
conform скажет, что не обновилось нихрена, т.к. мы мутируем айтем коллекции
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18593">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:16:00 UTC+03:00">
11:16
       </div>

       <div class="text">
update должен просетить таску и обновить компонент, свойство todo.task надо атомом делать тогда
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18594">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:16:27 UTC+03:00">
11:16
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Не надо мутировать анемичную модель. А умная модель сама разберётся как поменять данные.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18595">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:16:54 UTC+03:00">
11:16
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
блин, я не про анемичную
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18596">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:17:34 UTC+03:00">
11:17
       </div>

       <div class="text">
есть TodoRepository - сервис, который делает все операции с Todo<br>есть Todo, который юзает TodoRepository и все операции делает через него
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18597">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:18:03 UTC+03:00">
11:18
       </div>

       <div class="text">
Todo не анемичен, просто делает update/remove через сервис
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18598">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:18:34 UTC+03:00">
11:18
       </div>

       <div class="text">
в любом случае Todo должен удалить себя из коллекции при remove
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18599">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:21:26 UTC+03:00">
11:21
       </div>

       <div class="text">
вот так еще получится: String(todo) + String(todo.update), тогда для разных инстансов одного и того же todo будет один id
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18600">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:33:52 UTC+03:00">
11:33
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Для одного и того же туду должен быть только один инстанс в случае умной модели.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18601">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:34:32 UTC+03:00">
11:34
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
я правильно тебя понял, что будет<br><pre> class Todo {<br>  @mem task: Task<br>}</pre><br>когда делаем todo.update, то сетим таску, когда таска завериштся, вызовется <pre> repository.todos = repository.todos.map( replaceUpdatedTodo) </pre> ?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18602">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:35:51 UTC+03:00">
11:35
       </div>

       <div class="text">
совсем всегда один инстанс не получится, я ж объяснял про conform, что надо заново коллекцию перевычислить
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18603">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:54:10 UTC+03:00">
11:54
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
todos должен умные модели хранить, а не дто.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18604">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:54:55 UTC+03:00">
11:54
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
что такое умные модели?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18605">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:56:19 UTC+03:00">
11:56
       </div>

       <div class="text">
мы куда-то все в сторону загребаем, я конкретный вопрос задал, как быть с твоим todo.update, если модель может и иммутабельно обновляться в коллекции
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18606">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 11:58:56 UTC+03:00">
11:58
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Которые долгоживущие, мутабельные, синглтонистые, получаемые из реестра по идентификатору.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18607">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 12:00:00 UTC+03:00">
12:00
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
вот todo как раз получается из реестра, но живет до первого апдейта
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18608">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 12:01:29 UTC+03:00">
12:01
       </div>

       <div class="text">
почему до первого, я объяснял, атомы и твои в том числе, иначе корректно работать не будут.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18609">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 12:05:28 UTC+03:00">
12:05
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
<a href="https://github.com/eigenmethod/mol/blob/master/app/inventory/domain/domain.ts#L82">https://github.com/eigenmethod/mol/blob/master/app/inventory/domain/domain.ts#L82</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18610">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 12:08:18 UTC+03:00">
12:08
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
у тебя mol_app_inventory_domain_product anemic почемуто
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18611">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 12:09:47 UTC+03:00">
12:09
       </div>

       <div class="text">
ну или скрыто куча всего за абстракциями
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18612">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 12:11:49 UTC+03:00">
12:11
       </div>

       <div class="text">
у тебя экшенов нет в mol_app_inventory_domain_product, тупо реактивные свойства, я же про общий случай, когда любые свойства
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18613">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 12:15:04 UTC+03:00">
12:15
       </div>

       <div class="text">
так как у тебя нельзя делать, если задача не просто синхрить модель с удаленным стором. В общем случае нужен экшен, которые апдейтит атомарно часть объекта и как-то на сервер отправляет
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18614">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 12:31:50 UTC+03:00">
12:31
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18610" onclick="return GoToMessage(18610)">this message</a>
       </div>

       <div class="text">
Вовсе нет. Хотя данные хранит во вне.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18615">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 12:32:16 UTC+03:00">
12:32
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18612" onclick="return GoToMessage(18612)">this message</a>
       </div>

       <div class="text">
В умной модели все свойства реактивные.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18616">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 12:48:25 UTC+03:00">
12:48
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
у тебя есть коллекция умных моделей, есть производная от этой коллекции, меняешь свойство умной модели, как производная обновится?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18617">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 13:02:29 UTC+03:00">
13:02
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Никак, если произвоная не зависит от этого свойства.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18618">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 13:04:58 UTC+03:00">
13:04
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
или если оно не mem
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18619">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 13:05:19 UTC+03:00">
13:05
       </div>

       <div class="text">
<pre>    @mem get completedTodos(): Todo[] {<br>        return this.todos.filter(todo =&gt; todo.completed)<br>    }</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18620">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 13:07:37 UTC+03:00">
13:07
       </div>

       <div class="text">
вот в таком случае перевычислится коллекция, если @mem completed поменять?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18622">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 13:16:37 UTC+03:00">
13:16
       </div>

       <div class="text">
Хотя да, перевычислится, т.к. результат поменяется
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18623">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 13:24:20 UTC+03:00">
13:24
       </div>

       <div class="text">
а как удаление делать, у тебя нельзя сказать todo.remove()
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18624">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 14:19:04 UTC+03:00">
14:19
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
<code>todo.remove = ()=&gt; { this.todos = this.todos.filter( i =&gt; i === todo ) }</code>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18625">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 14:21:03 UTC+03:00">
14:21
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
т.е. делегируешь тудухе часть функциональности репозитория
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18626">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 14:21:32 UTC+03:00">
14:21
       </div>

       <div class="text">
почти тоже самое что прокинуть rep: {remove(todo): void }
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18627">

      <div class="body">

       <div class="pull_right date details" title="06.09.2018 14:22:51 UTC+03:00">
14:22
       </div>

       <div class="text">
это если замыканингом не упарываться
       </div>

      </div>

     </div>

     <div class="message service" id="message-360">

      <div class="body details">
7 September 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18628">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 14:56:36 UTC+03:00">
14:56
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
пользователь добавил тудуху<br>пока она добавляется, пользователь удалил ее же<br>В remove как описать ограничения с очередью?<br><pre> @action remove() {<br>        const todo = this<br>        if (this.queue.task(todo.add)) return this.queue.task(todo.add).cancel()<br>        this.queue<br>              .cancel(todo.update)<br>              .delegate(todo.remove)<br>}</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18629">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:02:31 UTC+03:00">
15:02
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Так это ж должна быть не очередь тудухи, а очередь коллекции.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18630">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:03:00 UTC+03:00">
15:03
       </div>

       <div class="text">
А вообще странно позволять удалять то, чего ещё нет.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18631">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:03:14 UTC+03:00">
15:03
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а почему нет, логично вообще отменить add
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18632">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:05:17 UTC+03:00">
15:05
       </div>

       <div class="text">
а если 2 раза нажал remove?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18633">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:06:59 UTC+03:00">
15:06
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18629" onclick="return GoToMessage(18629)">this message</a>
       </div>

       <div class="text">
нельзя по большому счету в тудухе размещать операции с сервером, только через репозиторий
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18634">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:08:12 UTC+03:00">
15:08
       </div>

       <div class="text">
<pre>    @action remove(todo: Todo) {<br>        this.queue<br>            .cancelAndExitIf(this.add, todo.id)<br>            .exitIf(todo.remove)<br>            .cancel(todo.update)<br>            .wait(this.completeAll)<br>            .wait(this.toggleAll)<br>            .wait(this.clearCompleted)<br>            .run(this.remove, task =&gt; {</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18635">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:09:45 UTC+03:00">
15:09
       </div>

       <div class="text">
надо все-равно составной идшник, т.к. remove и add экшены относительно тудухи, но находятся в коллекции
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18636">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:11:52 UTC+03:00">
15:11
       </div>

       <div class="text">
cancelAndExitIf говорит - отмени add удаляемой тудухи и запрос на удаление не делай<br>exitIf - не делай remove тудухи, если она уже remove
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18637">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:12:11 UTC+03:00">
15:12
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Вот именно, что имеет смысл показывать, что &quot;идёт создание&quot; и рядом кнопку отмены действия. И это совсем не &quot;удаление&quot;.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18638">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:12:39 UTC+03:00">
15:12
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
это бойлерплейт дополнительный
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18639">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:13:03 UTC+03:00">
15:13
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Я думаю у таски должен быть соответствующий экшен 😊
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18640">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:13:20 UTC+03:00">
15:13
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а, зачем, если достаточно ограничения описать?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18641">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:16:29 UTC+03:00">
15:16
       </div>

       <div class="text">
и вот так <pre> .cancel(todo.update) </pre> не будет работать без биндов, т.к. функция то будет одинаковая для всех экземпляров
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18642">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:16:48 UTC+03:00">
15:16
       </div>

       <div class="text">
нужно ключ всегда делать из id экшена + id сущности
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18643">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:21:06 UTC+03:00">
15:21
       </div>

       <div class="text">
<pre>    @action remove(todo: Todo) {<br>        const id = this.props.id<br>        Queue<br>            .cancelAndExitIf(this.add, todo.id)<br>            .exitIf(this.remove, todo.id)<br>            .cancel(this.update, todo.id)<br>            .wait(this.completeAll, id)<br>            .wait(this.toggleAll, id)<br>            .wait(this.clearCompleted, id)<br>            .run(this.remove, todo.id, task =&gt; {<br>            })<br>    }<br></pre>при такой схеме, вообще очередь может быть одна на все приложение, у каждой коллекции свой id, вычисляемый из компонента, ее создавшего
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18644">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:26:24 UTC+03:00">
15:26
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ну, я бы не хотел вручную менеджерить идентификаторы.<br>Тем более какой id у несозданной тутушки?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18645">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:26:53 UTC+03:00">
15:26
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
временный, в коллекции то в key что-то надо записать
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18646">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:28:15 UTC+03:00">
15:28
       </div>

       <div class="text">
а как без идентификаторов - различать разные тудушки? вот в случае remove того же
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18647">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:39:38 UTC+03:00">
15:39
       </div>

       <div class="text">
и как в update сказать - подожди add конкретной тудушки
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18648">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:39:54 UTC+03:00">
15:39
       </div>

       <div class="text">
this.add не катит, т.к. он в коллекции
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18649">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:50:03 UTC+03:00">
15:50
       </div>

       <div class="text">
А так?<br><pre>    @action remove(todo: Todo) {<br>        action<br>            .id(todo)<br>                .cancelAndExitIf(this.add)<br>                .exitIf(this.remove)<br>                .cancel(this.update)<br>            .id(this)<br>                .wait(this.completeAll)<br>                .wait(this.toggleAll)<br>                .wait(this.clearCompleted)<br>            .run(task =&gt; {</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18650">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:57:17 UTC+03:00">
15:57
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
По ссылке их можно различать.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18651">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:58:21 UTC+03:00">
15:58
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
блин, ты походу не читаешь даже мои комменты
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18652">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 15:59:18 UTC+03:00">
15:59
       </div>

       <div class="text">
this.add разных тудушек ты по ссылке не отличишь
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18653">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 16:08:55 UTC+03:00">
16:08
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Я не очень погружён в тему, каюсь.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18654">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 16:09:24 UTC+03:00">
16:09
       </div>

       <div class="text">
Но чейнинг боюсь не взлетит.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18655">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 16:10:24 UTC+03:00">
16:10
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
причем тут чейнинг, это форма записи, что б this.queue перед каждой точкой не писать
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18656">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 16:19:15 UTC+03:00">
16:19
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
и id()
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18657">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 16:20:10 UTC+03:00">
16:20
       </div>

       <div class="text">
И всё же удаление не должно вызываться на несозданной задаче.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18658">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 16:20:32 UTC+03:00">
16:20
       </div>

       <div class="text">
Удаление созданной и несозданной - две совершенно различные операции.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18659">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 16:20:40 UTC+03:00">
16:20
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
биндами можно сделать из экшена и id, но не для add / remove, т.к. это будет id коллекции, а не todo
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18660">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 16:21:53 UTC+03:00">
16:21
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18658" onclick="return GoToMessage(18658)">this message</a>
       </div>

       <div class="text">
задача ограничения описать, сказать что этот метод не должен вызыватьс сейчас
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18661">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 17:56:41 UTC+03:00">
17:56
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Это вопрос представления. Интерфейс вообще не должен содержать кнопки удаления, пока тудушка не создана.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18662">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 17:59:04 UTC+03:00">
17:59
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
это тоже можно в ограничениях экшенов описать
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18663">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 18:00:08 UTC+03:00">
18:00
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Интерфейс нужно рисивать без запуска экшенов.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18664">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 18:00:11 UTC+03:00">
18:00
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
<pre>get removeDisabled() { return action.isLocked(this.remove)}<br>@action remove() { if this.queue.task(this.add) return this.queue.setDisabled(this.remove, false) }</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18665">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 18:00:39 UTC+03:00">
18:00
       </div>

       <div class="text">
<pre> &lt;button disabled={todo.removeDisabled} onClick={todo.remove}</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18666">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 18:00:53 UTC+03:00">
18:00
       </div>

       <div class="text">
я про унификацию
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18667">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 18:03:15 UTC+03:00">
18:03
       </div>

       <div class="text">
идея в том, что не в ui описывать все эти ограничения, а в экшенах
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18668">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 18:09:14 UTC+03:00">
18:09
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Боюсь декларативно описывать ограничения в общем случае не получится. На мой взгляд пока сущность несоздана должна показываться вьюшка создания, которая не умеет в удаление и отображение свойств заполняемых сервером, но умеет в повтор и отмену действия.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18669">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 18:09:52 UTC+03:00">
18:09
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
повтор и отмена - это свойства же ошибки фетча, которая на месте вьюшки появляется
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18670">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 18:11:01 UTC+03:00">
18:11
       </div>

       <div class="text">
и не обязательно декларативно:<br><pre>    get removeDisabled() {<br>        return this.queue.running(this.create)<br>    }</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18671">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 18:12:08 UTC+03:00">
18:12
       </div>

       <div class="text">
всякие переключатели, todo.task = task или todo.removeDisabled = true - это не правильно
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18672">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 18:17:38 UTC+03:00">
18:17
       </div>

       <div class="text">
кстати задачу добавления можно попробовать свести к update<br><pre> @action add(todoData: Partial&lt;Todo&gt;) {<br>        const {_} = this<br>        const id = uuid()<br>        const todo = new Todo({...todoData, id, _})<br>         this.todos.push(todo)<br>        todo.update()</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18673">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 19:46:09 UTC+03:00">
19:46
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
create = Symbol(&apos;create&apos;)<br>в todo шке
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18674">

      <div class="body">

       <div class="pull_right date details" title="07.09.2018 19:46:37 UTC+03:00">
19:46
       </div>

       <div class="text">
todo.create это и будет id экшена+сущности
       </div>

      </div>

     </div>

     <div class="message service" id="message-361">

      <div class="body details">
10 September 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18675">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="10.09.2018 13:29:39 UTC+03:00">
13:29
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
чем больше я в это погружаюсь, тем проще видится обычная последовательная очередь c thenable интерфейсом
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18676">

      <div class="body">

       <div class="pull_right date details" title="10.09.2018 13:31:53 UTC+03:00">
13:31
       </div>

       <div class="text">
может быть какой-нить менеджер очередей приделать, типа QueueRegistry -&gt; Queue, что б можно было во всех очередях искать
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18677">

      <div class="body">

       <div class="pull_right date details" title="10.09.2018 13:33:05 UTC+03:00">
13:33
       </div>

       <div class="text">
но, всякие parallel-ы заменяются просто отдельной очередью, wait - не нужен тогда, cancel заменяется на find(actionId).abort() и т.д.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18678">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="10.09.2018 13:40:36 UTC+03:00">
13:40
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ну да, надо упрощать, а не накручивать абстракций.
       </div>

      </div>

     </div>

     <div class="message service" id="message-362">

      <div class="body details">
11 September 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18679">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="11.09.2018 11:44:15 UTC+03:00">
11:44
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
<a href="https://github.com/zerkalica/fibercell/blob/master/packages/fibercell-examples/src/todomvc/models/TodoRepository.ts#L81">https://github.com/zerkalica/fibercell/blob/master/packages/fibercell-examples/src/todomvc/models/TodoRepository.ts#L81</a><br>сделал <a href="" onclick="return ShowHashtag(&quot;query&quot;)">#query</a>-based экшены.<br>1. одна паралельная очередь на домен<br><br>2. в ней реализован метод поиска по id экшенов, которые - bind-методы или symbol<br><br>3. поиск экшена может быть и опционально по группе: Например, remove - экшен может быть найден как по todo.remove конкретной todo так и по группе: repository.remove (от всех todo)<br><br>4. поиск возвращает множество в виде TaskQuery, с этим множеством доступны те же операции, что и на одной таске: abort, wait, pending, error<br><br>5. Выстраивание очереди  реализовано через wait<br><br>6. id экшенов либо вручную проставляются в метод <a href="queue.run">queue.run</a>, либо берутся из глобальной переменной, которую ставит декоратор action: Пример: вызов todo.remove -&gt; repository.remove, первый ставит id, второй - группу.<br><br>7. Каждый экшен имеет описание того, когда он может быть нажат на интерфейсе, например, экшен: clearCompleted, свойство: clearCompletedDisabled<br><br>8. Модель - легкие биндинги к репозиторию, который содержит все логику с локами, вейтами и т.д.<br><br>9. TodoQuery.pending - в случае ошибки в работе экшена кидает Error, который перехватит компонент и отрисует ошибку и диалог Retry / Abort
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18680">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="11.09.2018 23:51:23 UTC+03:00">
23:51
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
Дим, а как лучше с сериализацией быть? mem-свойства же не сериализуются в JSON.stringify
       </div>

      </div>

     </div>

     <div class="message service" id="message-363">

      <div class="body details">
12 September 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18681">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 08:41:34 UTC+03:00">
08:41
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Это от типа данных зависит.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18682">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 10:03:38 UTC+03:00">
10:03
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Надо бы переименовать формат tree, а то его невозможно загуглить. Есть идеи?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18683">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 10:39:28 UTC+03:00">
10:39
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
birch  =)
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18684">

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 10:40:48 UTC+03:00">
10:40
       </div>

       <div class="text">
любое натуральное название будет забивать поиск
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18685">

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 10:41:53 UTC+03:00">
10:41
       </div>

       <div class="text">
аббревиатура может быть, типа расширяемый наследованием компонент: раснаском
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18686">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 11:50:58 UTC+03:00">
11:50
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18685" onclick="return GoToMessage(18685)">this message</a>
       </div>

       <div class="text">
Отличное название)
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18687">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 15:49:02 UTC+03:00">
15:49
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
<a href="https://meduza.io/news/2018/09/12/iz-koda-python-uberut-slova-master-i-slave-po-soobrazheniyam-politkorrektnosti">https://meduza.io/news/2018/09/12/iz-koda-python-uberut-slova-master-i-slave-po-soobrazheniyam-politkorrektnosti</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18688">

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 15:49:28 UTC+03:00">
15:49
       </div>

       <div class="text">
у тебя в атомах, что ни master, то slave
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18689">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 17:17:42 UTC+03:00">
17:17
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Надо mol в bdsm переименовать.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18690">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 18:57:44 UTC+03:00">
18:57
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Я тут начал пилить полностью кастомный рендеринг. Сделаю правильный браузер внутри браузера В-) с виртуальным скроллом для любого контента, реактивными стилями и конечно же с нормальным contentEditable.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18691">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 18:58:15 UTC+03:00">
18:58
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
без дома?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18692">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:04:16 UTC+03:00">
19:04
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Пока рендеринг будет в дом,а потом канву прикручу.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18693">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:09:00 UTC+03:00">
19:09
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
что значит тогда кастомный рендеринг?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18694">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:12:17 UTC+03:00">
19:12
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ручное задание где что и как должно отображаться.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18695">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:13:26 UTC+03:00">
19:13
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
зачем ты говоришь непонятно?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18696">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:14:22 UTC+03:00">
19:14
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ну, полностью ручной лейаут вплоть до того, что текст руками нарезается на строчки и каждая отдельно позиционируется.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18697">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:14:41 UTC+03:00">
19:14
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
что значит ручной лэйаут?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18698">

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:15:19 UTC+03:00">
19:15
       </div>

       <div class="text">
стилей с widget/height, position не будет?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18699">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:16:45 UTC+03:00">
19:16
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Стили тоже с ручным приводом.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18700">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:18:13 UTC+03:00">
19:18
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а технически то это как? будет свой компонент со своим движком стилей?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18701">

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:18:26 UTC+03:00">
19:18
       </div>

       <div class="text">
типа как qml
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18702">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:28:01 UTC+03:00">
19:28
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Типа того, да, с полным контролем размеров и положения.<br>Что за qml?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18703">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:28:40 UTC+03:00">
19:28
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
<a href="https://ru.wikipedia.org/wiki/QML">https://ru.wikipedia.org/wiki/QML</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18704">

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:28:51 UTC+03:00">
19:28
       </div>

       <div class="text">
Rectangle {<br>     id: canvas<br>     width: 200<br>     height: 200<br>     color: &quot;blue&quot;<br><br>     Image {<br>         id: logo<br>         source: &quot;pics/logo.png&quot;<br>         x: canvas.height / 5<br>     }
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18705">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:33:54 UTC+03:00">
19:33
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ух ты, это ж почти view.tree по концепции.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18706">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:35:32 UTC+03:00">
19:35
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
тебе самую малость надо, такую штуку еще склепать - <a href="https://upload.wikimedia.org/wikipedia/commons/e/e8/Qt_Creator_3.1.1_editing_a_sample_UI_file_from_Qt_5.3_using_Designer.png">https://upload.wikimedia.org/wikipedia/commons/e/e8/Qt_Creator_3.1.1_editing_a_sample_UI_file_from_Qt_5.3_using_Designer.png</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18707">

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:37:11 UTC+03:00">
19:37
       </div>

       <div class="text">
есть кстати попытки в вебе переизобрести qml: <a href="https://pureqml.com/">https://pureqml.com/</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18708">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:40:44 UTC+03:00">
19:40
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="media_wrap clearfix">

        <div class="media clearfix pull_left media_photo">

         <div class="fill pull_left">

         </div>

         <div class="body">

          <div class="title bold">
Photo
          </div>

          <div class="description">
Not included, change data exporting settings to download.
          </div>

          <div class="status details">
720×1280, 77.3 KB
          </div>

         </div>

        </div>

       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18709">

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:40:58 UTC+03:00">
19:40
       </div>

       <div class="text">
Кривовато у них сделано.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18710">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:41:23 UTC+03:00">
19:41
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
сносно
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18711">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:42:39 UTC+03:00">
19:42
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Лейаут поехал.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18712">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:46:28 UTC+03:00">
19:46
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
<a href="https://pureqml.com/lessons/signals">https://pureqml.com/lessons/signals</a><br><br>у них то так норм идеи, кроме сигналов, которые тянутся с qt лет 15 наверное
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18713">

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:46:57 UTC+03:00">
19:46
       </div>

       <div class="text">
ну и типы не работают
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18714">

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:49:01 UTC+03:00">
19:49
       </div>

       <div class="text">
ну и даже представить боюсь в какую херню у них это компилится
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18715">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:51:31 UTC+03:00">
19:51
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
В лютый трешак, я уже посмотрел.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18716">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:55:46 UTC+03:00">
19:55
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
tree, qml это видимо <a href="https://en.wikipedia.org/wiki/Modeling_language">https://en.wikipedia.org/wiki/Modeling_language</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18717">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:58:59 UTC+03:00">
19:58
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Какие потребуются лейауты: грид, флекс, абсолютный, страничный. Может что-то забыл?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18718">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 19:59:43 UTC+03:00">
19:59
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
одного флекса не хватит?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18719">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 20:11:29 UTC+03:00">
20:11
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Для таблиц нужен грид. Для автопереноса по страницам - отдельная логика.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18720">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 20:18:26 UTC+03:00">
20:18
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а всякие query-селекторы будут работать, как при кастомизации чекбоксов?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18721">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 20:24:46 UTC+03:00">
20:24
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Это какие?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18722">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 20:27:33 UTC+03:00">
20:27
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
у input.label задать backgroundImage в зависимости от checked/unchecked: <a href="https://github.com/zerkalica/fibercell/blob/master/packages/fibercell-examples/src/todomvc/TodoItem.tsx#L182">https://github.com/zerkalica/fibercell/blob/master/packages/fibercell-examples/src/todomvc/TodoItem.tsx#L182</a><br><br>или при наведении на todo item, подсветить крестик: <a href="https://github.com/zerkalica/fibercell/blob/master/packages/fibercell-examples/src/todomvc/TodoItem.tsx#L139">https://github.com/zerkalica/fibercell/blob/master/packages/fibercell-examples/src/todomvc/TodoItem.tsx#L139</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18723">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 20:38:14 UTC+03:00">
20:38
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ну да, какой-то аоп нужен будет. Но это должно работать одинаково для любых свойств, а не только для стилевых.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18724">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 21:17:01 UTC+03:00">
21:17
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
сверх задачу какую-то ты решаешь
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18725">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 21:18:43 UTC+03:00">
21:18
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
А то, амбициозный проект.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18726">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 21:19:45 UTC+03:00">
21:19
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
может хотя бы один до ума довести?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18727">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 21:40:56 UTC+03:00">
21:40
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
До ума - понятие растяжимое.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18728">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 21:41:56 UTC+03:00">
21:41
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
что б хотя бы 3-5 реальных проектов было на нем
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18729">

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 21:42:32 UTC+03:00">
21:42
       </div>

       <div class="text">
до ума = проверить практикой, а не искусственными примерами
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18730">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 21:51:43 UTC+03:00">
21:51
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Где бы найти время на 3-5 &quot;реальных&quot; проекта.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18731">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 22:47:04 UTC+03:00">
22:47
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18696" onclick="return GoToMessage(18696)">this message</a>
       </div>

       <div class="text">
А можно тут поподробней? Лейаут это не так просто чем кажется. И его можно делать по разному - через один проход как во flutter-е (<a href="https://www.youtube.com/watch?v=UUfXWzp0-DU">https://www.youtube.com/watch?v=UUfXWzp0-DU</a>) а можно через два прохода как в wpf. А еще в определенных ситуациях можно легко попасть на O(n^2) вместо O(n) (когда высота ребенка зависит от размеров родителя а у родителя высота задается максимальной высотой среди детей). И это касается только самого базового флексбоксового леаута. С гридами там лейаут намного сложнее
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18732">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 22:49:55 UTC+03:00">
22:49
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
А зачем в впф два прохода?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18733">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 22:58:01 UTC+03:00">
22:58
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18732" onclick="return GoToMessage(18732)">this message</a>
       </div>

       <div class="text">
Для случаев когда нельзя спозиционировать не зная размеры детей. А чтобы узнать размеры детей нужен дополнительный проход. Вероятно тут можно было попытаться совместить - делаем один проход и до тех пор пока не окажется что нельзя спозиционировть без знания размеров детей тогда уже можно сделать дополнительный проход уже с того места где находимся а не по всему дереву. Но видимо в wpf решили не заморачиваться на эту тему. Вот есть статья на хабре про описания лейаута в впф <a href="https://habr.com/post/135990/">https://habr.com/post/135990/</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18734">

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 23:01:17 UTC+03:00">
23:01
       </div>

       <div class="text">
На самом деле там еще сложнее и в том докладе про flutter есть в конце вопрос где выясняется что лейаут во flutter-е может потребовать еще больше проходов - а-ля O(n^2). Я некоторое время размышлял насчет этого и мне кажется есть возможность избежать n^2 за счет кеширования (но тогда странно почему во flutter-е до этого не додумались)
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18735">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 23:39:42 UTC+03:00">
23:39
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
Кстати у flutter-a там тоже 2 прохода - просто они под однопроходным алгоритмом подразумевают позиционирование относительно родителя. Если же нам нужно спозиционировать по абсолютным координатам то тут уже требуется отдельный проход (flutter делает этот второй проход уже на стадии отрисовки) . Кароче тут все зависит от того полагаться на то чтобы бекенд поддерживал относительное позиционирование или позиционировать самому передавая бекенду абсолютные координаты (если дом и canvas (через setTransform) поддеживает то например webgl не поддерживает относительное позиционирование)
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18736">

      <div class="body">

       <div class="pull_right date details" title="12.09.2018 23:44:55 UTC+03:00">
23:44
       </div>

       <div class="text">
Хотя в принципе на webgl тоже можно придумать относительное позиционирование, но это потребует цикла по родителям  в вершинном шейдере где будут перемножаться матрицы. Но этот цикл в вершинном шейдере будет точно замедлять работу (неясно правда насколько много) и плюс это довольно костыльный способ с хранением данных в виде текстурки
       </div>

      </div>

     </div>

     <div class="message service" id="message-364">

      <div class="body details">
13 September 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18737">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 06:13:48 UTC+03:00">
06:13
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Я не очень понял в каких случаях у них появляется квадратичная сложность. По моему всё просто: опросили пожелания детей, задали им размеры. В пинг-понг с детьми играть не за чем.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18738">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 06:15:45 UTC+03:00">
06:15
       </div>

       <div class="text">
А вычисления можно сразу прозводить в абсолютных координатах, но это менее удобно.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18739">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 09:10:26 UTC+03:00">
09:10
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="text">
таблица например. когда надо посчитать сначала размеры ячеек, потом передать это таблице, потом опять передать ячейкам размеры ибо у всех должны быть одинаковые размеры. а потом еще проверить что после изменения размеров не поехало другое измерение(высота или ширина) и снова по кругу
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18740">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 09:12:29 UTC+03:00">
09:12
       </div>

       <div class="text">
еще учесть всякие замореченные колспаны
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18741">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 09:23:13 UTC+03:00">
09:23
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Не надо по кругу ничего делать. Алгоритм должен быть детерменированным, иначе рискует уйти в бесконечный цикл.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18742">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 12:39:10 UTC+03:00">
12:39
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18737" onclick="return GoToMessage(18737)">this message</a>
       </div>

       <div class="text">
Возьмем флейсбоксы - если родительскому контейнеру не задавать высоту то он должен принять за свою высоту максимальную высоту среди детей. А теперь зададим детям align-items: stretch - и тогда дети должны принять высоту родителя. Получаем что родитель не может задать размеры первому ребенку пока не вычислит максимальную высоту среди них. А теперь представим что высоты детей не заданы прямо а каждый из них тоже является флекс-контейнером где высота зависит от максимальной высоты среди их детей (то есть точно так же как у самого родителя)  - то есть ситуация повторяется и нам нужно рекурсивно опросить детей только чтобы задать высоту первому родителю. А дальше алгоритм повторяется уже для вложенных детей и если не кешировать размеры получим n^2
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18743">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 12:41:00 UTC+03:00">
12:41
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
интересно, на qt как все это решается, там же язык разметки проще вроде как и без легаси
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18744">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 12:47:31 UTC+03:00">
12:47
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18743" onclick="return GoToMessage(18743)">this message</a>
       </div>

       <div class="text">
в qt примерно аналогичный двухпроходный алгоритм, вот здесь в третьем ответе есть подробности <a href="https://www.gamedev.net/forums/topic/665792-gui-layout-algorithms">https://www.gamedev.net/forums/topic/665792-gui-layout-algorithms</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18745">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 12:48:15 UTC+03:00">
12:48
       </div>

       <div class="text">
и еще одна ссылка по лейауту <a href="https://www.gamedev.net/forums/topic/690767-ui-layout-techniques">https://www.gamedev.net/forums/topic/690767-ui-layout-techniques</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18746">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 12:52:16 UTC+03:00">
12:52
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а какие вообще алгоритмы бывают рендеринга компонент, есть теория на этот счет какая-нить?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18747">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 12:53:53 UTC+03:00">
12:53
       </div>

       <div class="text">
есть же куча либ, qt, gtk, wx, wpf - неужели все с нуля изобретают?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18748">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 12:55:33 UTC+03:00">
12:55
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18742" onclick="return GoToMessage(18742)">this message</a>
       </div>

       <div class="text">
Кстати вспомнил что во флейсбоксах есть еще куда более сложные ситуации для которых уж точно нет простых решений как в случае выше - например есть флексоксы с переносом по строкам и мы хотим растянуть картинку на максимальную высоту строки (align-items: stretch) . Согласно алгоритму мы должны вычислять максимальную высоту детей в одной строке и задать ее картинке но теперь картинка увеличится в ширине и некоторые из детей в строке сместятся на следующую строку - но ведь среди тех кто сместился может быть тот самый высокий в строке и теперь нам придется заново вычислять максимальную высоту. Кароче замкнутый круг получается. Тут без умного инкрементального алгоритма и затратами если не n^2 то близко к нему не обойтись. Но браузеры кстати поступили проще - они забили на эту тему и нельзя растянуть картинку по высоте строки)
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18749">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 12:57:11 UTC+03:00">
12:57
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18748" onclick="return GoToMessage(18748)">this message</a>
       </div>

       <div class="text">
вот кстати этот пример того чего нельзя сделать сейчас в браузерах <a href="https://toster.ru/answer?answer_id=540489">https://toster.ru/answer?answer_id=540489</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18750">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 12:59:34 UTC+03:00">
12:59
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а кто в этой теме дальше всех продвинулся, браузеры?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18751">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 13:06:53 UTC+03:00">
13:06
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18747" onclick="return GoToMessage(18747)">this message</a>
       </div>

       <div class="text">
получается с нуля, но насколько я понимаю у них у всех будет примерно одинаковый алгоритм где сначала  вычисляются размеры детей (точнее ограничивающие размеры) для получения максимальной высоты или ширины чтобы задать ее тем кто зависит от размеров родителя. Есть еще правда совершенно отдельный алгоритм или точнее способ делать лейаут - так называемый constraint layout. Там лейаут как-то решается через систему алгебраических уравнений. Но судя по всему этот подход сильно ограниченный (насколько я слышал нельзя делать переносы строк) и есть походу какие-то проблемы с детерминированностью
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18752">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 13:24:16 UTC+03:00">
13:24
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18746" onclick="return GoToMessage(18746)">this message</a>
       </div>

       <div class="text">
сам искал какую-то теорию или книжку насчет этого но ничего не нашел. Насколько я понял тут 3 этапа <br>1) способы выявить изменения - virtual-dom как в реакте, инкрементальный дом, glimmer, ангуляр, svelte (у всех плюс минус разные подходы)<br>2) способы сделать лейаут (жс-фремворки с этим не сталкиваются потому что за них это делает dom и движок браузера) но как только появится необходимость запилить рендер на канвасе или webgl - придется этим занятся. И тут возникает вопрос - можно ли совместить лейаут вместе со способом выявить изменения как в первом этапе? Ответ нетривиален и может получится что некоторые абстракции (например дом-дерево) могут оказаться лишними<br>3) способы делать уже непосредственно отрисовку - эту тему я раньше поднимал в этом чатике касательно того что сейчас все браузеры и десктопные фреймворки (wpf, qt и др) не используют возможности gpu в полной мере. То есть они рисуют текст и примитивы на cpu а gpu используют только как позиционирование текстурок (например при скроле и т.д) . Соотвественно появляется проблема как эффективно кешировать эти текстурки потому что каждый примитив выделять в текстурку не получится (большие расходы по памяти) и появляется целая тема под названием композинг (в том докладе про флаттер последняя часть или есть еще куча докладов с blinkOn например <a href="https://www.youtube.com/watch?v=p4U9rfJkgdU">https://www.youtube.com/watch?v=p4U9rfJkgdU</a> ) Хотя на мой взгляд все эти проблемы решает отрисовка примитивов (включая даже текст) на gpu.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18753">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 13:33:17 UTC+03:00">
13:33
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
способы сделать лейаут - это вычисление координат композиции прямоугольников?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18754">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 13:45:40 UTC+03:00">
13:45
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18753" onclick="return GoToMessage(18753)">this message</a>
       </div>

       <div class="text">
да, но опять же зависит от бекенда (движка отрисовки) - вычислять относительные координаты или абсолютные. Причем относительные координаты это не асбтракция - даже на низком уровне (webgl, opengl, vulkan) можно реализовать поддержку относительного позиционирования - можно передать на видеокарту массив примитивов где у каждого примитива будет поле с индексом примитива родителя а координаты самого примитива будут обозначать смещение относительно координат родителя. То есть на cpu мы абсолютные координаты не вычисляем этим занимается сама видекарта где в вершинном шейдере будет цикл по индексам родителей с переумножением матриц по каждому примитиву. Это немного медленней но с другой стороны цикл во вершинном шейдере это не цикл во фрагметном шейдере (который будет запускаться по каждому пикселю как в примерах на <a href="shadertoy.com">shadertoy.com</a>) так что производительности должно хватить
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18755">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 13:47:23 UTC+03:00">
13:47
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
разницы то нет особой, если относительные все-равно фреймворком вычисляются на cpu
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18756">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 13:47:55 UTC+03:00">
13:47
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
Плюсы относительного позиционирования на видекарте состоят в том что если изменились координаты компонента то нам не нужно будет делать рекурсивный проход по всем вложенным компонентам и примитивам чтобы вычислить их новые абсолютные координаты. То есть достаточно только изменить координаты родителя и передать на видеокарту
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18757">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 13:49:41 UTC+03:00">
13:49
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
изменение координаты одного прямоугольника, как-то не реалистично выглядит
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18758">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 13:50:06 UTC+03:00">
13:50
       </div>

       <div class="text">
там же все ввзаимосязанно, поедут относительные координаты всего остального
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18759">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 13:52:21 UTC+03:00">
13:52
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
ну почему же - взять интерфейс window менеджера или драг-н-дроп - есть компонент (или целое окошко компонентов) позицию которого мы хотим изменить (перетащить мышкой) - с относительным позиционированием достаточно только изменить координаты родителя а с абсолютным - нужно будет пройтись по всем вложенным компонентам а среди них по всем примитивам чтобы каждому примтиву присвоить новые координаты
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18760">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 13:54:28 UTC+03:00">
13:54
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
это исключение, ты еще про арканоид или змейку скажи. Обычно тонна взаимосвязанных прямоугльников - флексы, таблицы
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18761">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 13:56:46 UTC+03:00">
13:56
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
Неа, с относительным позиционированием связана еще более важная тема - скролл. Когда бэкенд поддерживает с относительное позиционированием при событии скролла достаточно только изменить координаты контейнера а с абсолютным - при кадом событии скролла нужно будет пройтись по тысячам (или сколько их может быть в списке) компонентам в списке а там по сотням примитивов чтобы по каждому вычислить и записать новые координаты
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18762">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 13:58:17 UTC+03:00">
13:58
       </div>

       <div class="text">
А если отрисовкой текста будет заниматься gpu то у нас примитивом будет каждая буква в тексте, то есть примитивов может быть достаточно много
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18763">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 14:06:25 UTC+03:00">
14:06
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
за пределами видимой области скрол можно не отрисовывать
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18764">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 14:31:49 UTC+03:00">
14:31
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
это уже отдельная тема виртуализации где оптимизируются вычисления абсолютных координат путем скипа всего что не находится в видимой области. Получается такой расклад - с относительным позиционированием виртуализация не особо то и нужна поскольку достаточно изменить только координаты родителя. Количество примитивов в списке здесь практически не играет роли поскольку отрисовкой занимается видеокарта. А вот с абсолютным позиционированием без виртуализации не обойтись - а там своих сложностей хватает (например если у нас сколл не только вертикальный а еще и горизонтальный то тут уже вычислить что находится в видимой области не так то и просто - появляется отдельная тема и сложные алгоритмы по spatial index-у). Ну и плюс с виртуализацией даже в видимой области может находится достаточно много примитивов (на 13 дюймовом экране может поместится около 15к буквенных примитивов для шрифта размером 12px) и при каждом событии скролла вычислять и менять позиции всех 15к примитивов может быть накладно
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18765">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 17:13:38 UTC+03:00">
17:13
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
по мне, так заниматься этим стоит, если много времени и денег, есть куча более насущных архитектурных проблем, а тут просто оптимизация
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18766">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 18:34:18 UTC+03:00">
18:34
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Спасибо за ссылки, почитаю.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18767">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 18:40:06 UTC+03:00">
18:40
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18742" onclick="return GoToMessage(18742)">this message</a>
       </div>

       <div class="text">
Если контейнер имеет не фиксированную высоту, то ему надо лишь опросить детей какую ширину они хотят, отобрать тех из них, что влезают в одну линию, задать им ширины, опросить какую они хотят высоту, и взять за высоту линии максимальное значение, после чего задать детям в этой линии эту высоту.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18768">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 18:46:01 UTC+03:00">
18:46
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а как быть с тем примером с картинкой и текстом?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18769">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 18:50:04 UTC+03:00">
18:50
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18748" onclick="return GoToMessage(18748)">this message</a>
       </div>

       <div class="text">
Пытаться учесть соотношения сторон гиблая затея. Мало того, не факт, что вообще есть решение, удовлетворяющее всем ограничениям. Так ещё и в попытке добиться идеала, легко вырождается до &quot;все блоки вертикально на всю ширину&quot;. Поэтому стоит делать именно как браузеры. Если тебе сверху задана ширина, то у тебя выбор - либо сохраняешь высоту, либо пропорции.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18770">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 18:57:19 UTC+03:00">
18:57
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18764" onclick="return GoToMessage(18764)">this message</a>
       </div>

       <div class="text">
Виртуализация нужна по любому, чтобы не грузить все данные.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18771">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 18:58:41 UTC+03:00">
18:58
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а зачем, если рендер дешевый
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18772">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 18:59:09 UTC+03:00">
18:59
       </div>

       <div class="text">
данные то никуда не денутся, они просто будут в обычной памяти
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18773">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 19:04:03 UTC+03:00">
19:04
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18764" onclick="return GoToMessage(18764)">this message</a>
       </div>

       <div class="text">
Я разбиваю на строки текста, а не на символы. Это 2-3k примитивов максимум на full-hd.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18774">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 19:04:42 UTC+03:00">
19:04
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18772" onclick="return GoToMessage(18772)">this message</a>
       </div>

       <div class="text">
Чтобы не грузить 30 мегабайт данных, чтобы показать 30 строчек.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18775">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 19:23:17 UTC+03:00">
19:23
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Рендеринг в канву позволит делать скриншоты страницы. Для снепшот тестирования -самое оно. Но для дебага нужно руками рисовать дерево компонент.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18776">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 19:42:50 UTC+03:00">
19:42
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
так и браузер позволяет делать скриншот дома, в чем проблема
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18777">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 19:45:57 UTC+03:00">
19:45
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Чем это?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18778">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 19:46:44 UTC+03:00">
19:46
       </div>

       <div class="text">
Я про картинки говорю, а не про вёрстку.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18779">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 20:08:19 UTC+03:00">
20:08
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
и я
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18780">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 20:08:45 UTC+03:00">
20:08
       </div>

       <div class="text">
электрон позволяет и папетир
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18781">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 20:09:23 UTC+03:00">
20:09
       </div>

       <div class="text">
<a href="https://github.com/segmentio/nightmare#screenshotpath-clip">https://github.com/segmentio/nightmare#screenshotpath-clip</a> вот например
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18782">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 20:13:47 UTC+03:00">
20:13
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Это не кроссбраузерно.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18783">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 20:14:41 UTC+03:00">
20:14
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
через селениум вполне кроссбраузерно
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18784">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 20:15:32 UTC+03:00">
20:15
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
А это вообще внешняя тулза и тормоза.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18785">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 20:21:23 UTC+03:00">
20:21
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
какая разница, внешняя тулза или фреймворк с функцией скриншота
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18786">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 20:33:18 UTC+03:00">
20:33
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Больше точек отказа, тормоза.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18787">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 20:34:12 UTC+03:00">
20:34
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
столько же точек, прослойка фреймворк или прослойка селениум
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18788">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 20:36:23 UTC+03:00">
20:36
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Фреймворк в любом случае есть.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18789">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 20:38:03 UTC+03:00">
20:38
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
код, слой между нативным апи снятия скриншота и юзерспейс
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18790">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 20:39:05 UTC+03:00">
20:39
       </div>

       <div class="text">
потом сколько уже вложили в селениум, и сколько тебе надо вложить в рендерер на webgl или куда ты там собрался
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18791">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 20:53:44 UTC+03:00">
20:53
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
3д я не осилю. А вот 2д может быть. Хотя, буду рендерить всё же в дом - это и проще и отладчик не нужно изобретать. Рендер в канву потом не сложно будет прикрутить, если что.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18792">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 21:50:42 UTC+03:00">
21:50
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а как это рендерить в дом?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18793">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 21:50:55 UTC+03:00">
21:50
       </div>

       <div class="text">
у тебя mol и есть дом
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18794">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 21:59:36 UTC+03:00">
21:59
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Нет, $mol_view - компоненты, они создают узлы уже. Но тут я уже не буду $mol_view использовать. Для ручного рендеринга нужно делать несколько по другому. Как минимум отделю рендерер от компонент. Лейауты как стратегии буду подключать. Стили через контекст прокидывать.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18795">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:08:24 UTC+03:00">
22:08
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
отделишь - будет vdom
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18796">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:08:38 UTC+03:00">
22:08
       </div>

       <div class="text">
ну чуть более абстрактный
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18797">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:10:58 UTC+03:00">
22:10
       </div>

       <div class="text">
я так идею и не понял, что даст вынос дома в рендер, что такого известно на уровне рендера, что не известно на уровне компонента ?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18798">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:14:24 UTC+03:00">
22:14
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Не будет, компонент через внешний рендерер будет рендерить напрямую в дом. Инверсия контроля.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18799">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:18:43 UTC+03:00">
22:18
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
это понятно, но это просто хорошая практика программирования, в ангуларе тоже ioc во все места
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18800">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:20:08 UTC+03:00">
22:20
       </div>

       <div class="text">
тебе давно следовало бы отделить mol_view, но это как-то не раскрывает замысел
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18801">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:28:36 UTC+03:00">
22:28
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
$mol_view не отделить ибо совместимость со сторонним кодом нужна. Те же Я.Карты - компонент, что прямо или косвенно будет от них зависеть, потребует рендеринга в dom.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18802">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:29:54 UTC+03:00">
22:29
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
ты ж только что про ioc говорил
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18803">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:30:12 UTC+03:00">
22:30
       </div>

       <div class="text">
короче, что даст отделение рендерера?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18804">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:33:03 UTC+03:00">
22:33
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Не везде нужна совместимость со внешними виджетами.<br>Отделение рендерера позволит их менять.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18805">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:37:18 UTC+03:00">
22:37
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
в чем заключается смысл абстракции то?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18806">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:38:22 UTC+03:00">
22:38
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
В отделении логики компонент от способа рендеринга.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18807">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:39:15 UTC+03:00">
22:39
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
ну она ж тесно связана, теги, атрибуты, стили - ты их переизобретать чтоль будешь?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18808">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:42:15 UTC+03:00">
22:42
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Агась, полностью кастомный рендеринг.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18809">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:45:49 UTC+03:00">
22:45
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
и спеку с нуля создашь, т.е. свой набор атрибутов и т.д.?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18810">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:46:10 UTC+03:00">
22:46
       </div>

       <div class="text">
чем твоя спека будет лучше того же qml?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18811">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:48:30 UTC+03:00">
22:48
       </div>

       <div class="text">
и это ж гораздо больше чем mol, кто будет изучать по сути новую платформу, кто будет ее продвигать? идеи должны быть очевидными прорывными, что б заинтересовались.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18812">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:53:42 UTC+03:00">
22:53
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ага, всё своё. Иначе не понять какие блоки на какой странице окажутся. Это вообще не $mol. Изучать и продвигать есть кому, надо сделать качественную реализацию.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18813">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:55:53 UTC+03:00">
22:55
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
ну вон тролтеки qt сколько уже продвигают, даже под мобилки на qt можно пилить, вот-вот в браузерах будет - <a href="https://wiki.qt.io/Qt_for_WebAssembly">https://wiki.qt.io/Qt_for_WebAssembly</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18814">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:56:52 UTC+03:00">
22:56
       </div>

       <div class="text">
но даже если они это все допилят, еще лет 10 говно-фронтендеры будут переходить
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18815">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:57:02 UTC+03:00">
22:57
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Так и зачем мне это сишное легаси?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18816">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:57:38 UTC+03:00">
22:57
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
я про опыт, у них же тоже своя спека с нуля, qml
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18817">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:58:26 UTC+03:00">
22:58
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Да я пока на голом TS.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18818">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:59:01 UTC+03:00">
22:59
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
причем тут язык то, я про платформу же, это ну выглядит, как один человек решил пробить лбом бетонную стену
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18819">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 22:59:42 UTC+03:00">
22:59
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Глаза боятся - руки делают.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18820">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 23:00:16 UTC+03:00">
23:00
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
цель какая, чего ты решаешь такой реализацией?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18821">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 23:01:15 UTC+03:00">
23:01
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Нужно сделать гуглдок, который не тормозит 😊
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18822">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 23:02:30 UTC+03:00">
23:02
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
на mol никак?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18823">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 23:03:34 UTC+03:00">
23:03
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Как узнать какие блоки окажутся на 51 странице, не рендеря 50 предыдущих страниц?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18824">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 23:04:33 UTC+03:00">
23:04
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
виртуализация
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18825">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 23:04:55 UTC+03:00">
23:04
       </div>

       <div class="text">
ну это уже по сути рендеринг и есть правда
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18826">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 23:07:16 UTC+03:00">
23:07
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Для виртуализации надо знать точные размеры.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18827">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 23:07:17 UTC+03:00">
23:07
       </div>

       <div class="text">
Соответственно ручной флоу.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18828">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 23:14:04 UTC+03:00">
23:14
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а как ты будешь рассчитывать блоки с текстом, например?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18829">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 23:17:21 UTC+03:00">
23:17
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Измерять ширины слов и вычислять число строк.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18830">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 23:25:33 UTC+03:00">
23:25
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
это ж вроде без вставки в реальный дом и измерения содержимого не сделать точно
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18831">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 23:30:47 UTC+03:00">
23:30
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Почему, у канвы есть апи для измерения размера текста.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18832">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 23:33:17 UTC+03:00">
23:33
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
canvas.measureText, насколько я знаю, дает погрешность, если элементов больше 100, скрол не сделать уже
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18833">

      <div class="body">

       <div class="pull_right date details" title="13.09.2018 23:35:26 UTC+03:00">
23:35
       </div>

       <div class="text">
реально только таблицы размеров слогов делать для каждого шрифта
       </div>

      </div>

     </div>

     <div class="message service" id="message-365">

      <div class="body details">
14 September 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18834">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 00:21:01 UTC+03:00">
00:21
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18784" onclick="return GoToMessage(18784)">this message</a>
       </div>

       <div class="text">
насколько я знаю есть еще 2 способа получить картинку из html-css изнутри - 1-й это html2canvas (рендерит в дом, получает вычисленные стили через window.getComputedStyle() и потом рисует все это на канвасе) и 2-й способ это через создание картинки(которую потом можно отрендерить на канвасе) со ссылкой на data: &lt;svg&gt; где внутри будет &lt;foreginElement&gt; тег внутри которого уже будет html-css
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18835">

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 00:31:11 UTC+03:00">
00:31
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18773" onclick="return GoToMessage(18773)">this message</a>
       </div>

       <div class="text">
а как потом менять эти строки текста когда юзер ставит курсор и вводит новые символы? браузер должен будет сделать перерисовку от одной до н-строчек (последний символ первой строки переместится на следующую строку, а на следущей строке последний символ переместится на еще следующую стороку и в худшем случае получаем перерисовку всех строк текста. Но отрисовка текста это не что-то такое бесплатное - насколько я знаю сейчас все браузеры используют рисование текста на cpu где как минимум будет цикл по всем пикселям этого текста в процессе отрисовки что куда затратней чем цикл по буквенным примитивам с вычислением новой позиции
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18836">

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 00:45:23 UTC+03:00">
00:45
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18767" onclick="return GoToMessage(18767)">this message</a>
       </div>

       <div class="text">
примерно так но в процессе опроса детей каждый из них тоже может не иметь фиксированной высоты и тоже должен опросить своих детей а каждый из его детей тоже может не иметь фиксированных размеров и алгоритм повторяется и у нас тут получится отдельный спуск по дереву только для того чтобы вычислить максимальную высоту для родителя. А дальше когда вычислили размеры родителя и задаем размеры детям нужно будет сделать леаут для каждого из детей и алгоритм повторяется. И получается что в худшем случае для каждого родителя нужно будет делать отдельный рекурсивный спуск с опросом детей и у нас получится n^2 по сложности
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18837">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 00:49:47 UTC+03:00">
00:49
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а кэшировать нельзя? атомы прикрутить к этому делу
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18838">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 01:01:38 UTC+03:00">
01:01
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18837" onclick="return GoToMessage(18837)">this message</a>
       </div>

       <div class="text">
так я выше и написал что думал над этой проблемой и пришел к выводу что если кешировать размеры при первом опросе то при последующем лейауте детей достаточно только распределить полученное дополнительное пространство и пройтись только по тем веткам которые не имеют фиксированных размеров. Примерно так. Я правда не писал реализацию но вроде как кажется что это способ как раз и решает эту проблему с n^2. Но  с другой стороны в докладе про flutter там в конце чувак как раз и приводит пример когда дети зависят от размеров родителя и признается что это может вызывать n^2 (<a href="https://youtu.be/UUfXWzp0-DU?t=3067">https://youtu.be/UUfXWzp0-DU?t=3067</a>) И получается интересная ситуация - что ребята из flutter не додумались до такого способа что странно потому что там целая команда профессионалов да и сам докладчик сказал что 7 лет работал над рендер-движком хрома
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18839">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 04:53:28 UTC+03:00">
04:53
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18832" onclick="return GoToMessage(18832)">this message</a>
       </div>

       <div class="text">
Я длинну слов измеряю, это обычно меньше 100 символов.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18840">

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 04:56:25 UTC+03:00">
04:56
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18834" onclick="return GoToMessage(18834)">this message</a>
       </div>

       <div class="text">
И оба способа весьма кривоватые. Проще уж сразу в канву рендерить, если сам располагаешь блоки.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18841">

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 04:59:34 UTC+03:00">
04:59
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18835" onclick="return GoToMessage(18835)">this message</a>
       </div>

       <div class="text">
Ок, можно попробовать рендерить по блоку на слово. Тогда большая часть блоков будет переноситься.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18842">

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 05:07:35 UTC+03:00">
05:07
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18836" onclick="return GoToMessage(18836)">this message</a>
       </div>

       <div class="text">
Да нет там квадрата. Сначала для всего дерева идёт подъём с получением ширин, потом спуск с установкой ширин и переносов, потом на подъёме вычисление высот, потом спуск с высотами. O(4n)
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18843">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 06:09:33 UTC+03:00">
06:09
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ещё ручной рендер позволяет делать нормальные анимации, по вычисленным параметрам, а не по стилям. Например, меняешь такой высоту 100px на 100% в CSS и фиг тебе, а не анимация.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18844">

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 06:18:49 UTC+03:00">
06:18
       </div>

       <div class="text">
Относительное позиционирование нужно ещё для квантизации, иначе будут артефакты вида: половина блока уже уехала, а половина ещё не успела.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18845">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 06:45:25 UTC+03:00">
06:45
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ещё важный лейаут, которого не хватает в css - отсутствие лейаута. То есть элемент никак не оказыват влияние на раскладку, а его дети позиционируются его родителем. В CSS есть что-то похожее с инлайновыми блоками, что позволяет им разрываться при переносе.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18846">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 12:16:28 UTC+03:00">
12:16
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18827" onclick="return GoToMessage(18827)">this message</a>
       </div>

       <div class="text">
что тебе стоит повторить браузерный флоу, можно будет просто виртуально посчитать высоту 50 страниц, без рендера, просто изучив как позиционирует слова браузер
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18847">

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 12:16:43 UTC+03:00">
12:16
       </div>

       <div class="text">
при этом не отказываться от дома
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18848">

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 12:19:36 UTC+03:00">
12:19
       </div>

       <div class="text">
чтобы сильно не заморачиваться можно просто сильно ограничить возможности стилизации лейаутов, т е без всяких float: left и тд
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18849">

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 12:20:26 UTC+03:00">
12:20
       </div>

       <div class="text">
тогда это все можно будет применить к чему угодно, а не только на твоем стеке юзать это дело
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18850">

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 12:24:15 UTC+03:00">
12:24
       </div>

       <div class="text">
ведь чтобы реально узнать сейчас высоту и ширину элемента приходится реально зарендерить все содержимое и измерить его, что дико дорого. <br>особенно дорого рисовать тексты - они же все векторные, пока их растрируешь, пока всякие визуальные оптимизации к ним применишь кучу времени уйдет, плюс дальше это все надо скомпозировать, отправить на видеокарту. А сам подсчет размеров слов, картинок, лэйаута я думаю довольно быстро делается браузером, да вот только апи к этому у нас нет
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18851">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 12:48:53 UTC+03:00">
12:48
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Все браузеры позиционируют немного по разному. Особенно радует Сафари. Система лейаутов в CSS - переусложнённая и нерасширяемая. Идентично её повторить крайне сложно, а погрешности будут резать глаз. Поэтому проще и надёжней, раз уж нам в любом случае самим считать лейаут, самим же и рендерить. В тот же дом, да.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18852">

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 12:50:44 UTC+03:00">
12:50
       </div>

       <div class="text">
Плюс получаем нормальные анимации, реактивные стили, всегда известны реальные размеры и положения блоков, без костылей и тормозов.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18853">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 13:17:10 UTC+03:00">
13:17
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
рендерить в дом, что это значит?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18854">

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 13:18:21 UTC+03:00">
13:18
       </div>

       <div class="text">
т.е. в некий ограниченный дом, например все абсолютами с заданием top, left и width,height всему ?<br>т.е. взять от дома самые примитивные и одинаково работающие везде конструкции и в них переводить компонент с всякими flex?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18855">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 13:34:31 UTC+03:00">
13:34
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18842" onclick="return GoToMessage(18842)">this message</a>
       </div>

       <div class="text">
ну я так понял тут уже подразумевается кеширование размеров. Я пытался понять почему в докладе из flutter-a докладчик говорил про n^2. Насколько я понял это про ситуацию когда для того чтобы вычислить максимальную ширину или высоту одного блока происходит рекурсивный опрос размеров детей до конца дерева (если дети тоже не имеют фиксированных или min-width, min-height) а после того как вычислили максимальное значение дальше уже при лейауте детей происходит снова опрос детей чтобы снова вычислить размеры каждого из них (для случая когда лейаут зависит от размеров, например flex-basis: auto) и снова получится рекурсивный спуск по дереву для каждого из детей для того чтобы сделать лейаут. То есть если не кешируем размеры при первом спуске то получим что будет n спусков для каждого контейнера и появляется n^2. С другой стороны очень интересно что во flutter-e не додумались кешировать размеры и докладчик сам признается что может получится ситуация с n^2
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18856">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 13:38:27 UTC+03:00">
13:38
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18854" onclick="return GoToMessage(18854)">this message</a>
       </div>

       <div class="text">
Агась.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18857">

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 13:40:35 UTC+03:00">
13:40
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18855" onclick="return GoToMessage(18855)">this message</a>
       </div>

       <div class="text">
С ОРП вообще всё чудесно получается. Были бы ресурсы, я бы свой браузер запилил на D с ОРП.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18858">

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 13:52:28 UTC+03:00">
13:52
       </div>

       <div class="text">
<a href="https://medium.com/piterjs/piterjs29-184d3c6523e2">https://medium.com/piterjs/piterjs29-184d3c6523e2</a><br>Приходите потусить 😊
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18859">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 14:03:53 UTC+03:00">
14:03
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
бесплатно?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18860">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="14.09.2018 14:05:26 UTC+03:00">
14:05
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Вроде да.
       </div>

      </div>

     </div>

     <div class="message service" id="message-366">

      <div class="body details">
15 September 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18861">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 10:28:04 UTC+03:00">
10:28
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
ты вторые атомы то чего забросил?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18862">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 10:55:51 UTC+03:00">
10:55
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Да как-то не до того было. Но надо их допилить, да. Кастомному рендеру не помешает квантизация.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18863">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:12:43 UTC+03:00">
12:12
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а вот файберы у тебя кэшируются в функции по порядку вызова (некий step)?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18864">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:13:26 UTC+03:00">
12:13
       </div>

       <div class="text">
а что будет, если всякие условия ввести, порядок же может поменяться:<br>fiber1<br>if (fiber1) fiber 3<br>fiber2
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18865">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:15:09 UTC+03:00">
12:15
       </div>

       <div class="text">
т.е. если попытаться не бросать сразу эксепшены, а выполнить паралельно fiber1 и fiber2, то будет плохо
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18866">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:15:39 UTC+03:00">
12:15
       </div>

       <div class="text">
не является ли step источником багов?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18867">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:16:42 UTC+03:00">
12:16
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18863" onclick="return GoToMessage(18863)">this message</a>
       </div>

       <div class="text">
Да, отсюда и требование идемпотентности, чтобы все условия отработали так же как в прошлый раз.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18868">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:16:59 UTC+03:00">
12:16
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
вот-вот, легче напортачить
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18869">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:17:24 UTC+03:00">
12:17
       </div>

       <div class="text">
может все-таки задавать явный ключ, строковый?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18870">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:17:33 UTC+03:00">
12:17
       </div>

       <div class="text">
или генерить его ts-плагином, тупо номер строки вставлять
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18871">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:21:01 UTC+03:00">
12:21
       </div>

       <div class="text">
и  ты уверен, что это правильно называть идемпотентность? разве условия внутри функии делают ее не идемпотентной?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18872">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:22:08 UTC+03:00">
12:22
       </div>

       <div class="text">
главное результат, если не принимать в расчет реализацию файберов, то все идемпотентно, какая разница как там условия выполняются, если результат тот же
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18873">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:24:10 UTC+03:00">
12:24
       </div>

       <div class="text">
&quot;неидемпотентность&quot; - побочный эффект твоей реализации файберов, который противоречит логике простого синхронного кода, из-за этого могут быть проблемы
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18874">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:31:33 UTC+03:00">
12:31
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Файберы как раз делают идемпотентными завёрнутые в них операции.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18875">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:33:05 UTC+03:00">
12:33
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
погодь про файберы, вот у тебя синхронный код, мы можем сказать, что метод идемпотентный?<br><pre>method() {}<br>  var f1 = fiber1()<br>  if (f1 === 123) f1 += fiber3()<br>  return fiber2() + f1<br>}</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18876">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:33:29 UTC+03:00">
12:33
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18872" onclick="return GoToMessage(18872)">this message</a>
       </div>

       <div class="text">
Предикат в условиях вычисляется на основе каких-то состояний. И вычисление этого предиката должно давать тот же результат.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18877">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:33:51 UTC+03:00">
12:33
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
метод идемпотентный?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18878">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:37:32 UTC+03:00">
12:37
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
fiber1 - это что такое? Переменная?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18879">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:38:37 UTC+03:00">
12:38
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
функция, чуть поменял пример
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18880">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:44:17 UTC+03:00">
12:44
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Если эти функции идемпотентные, то и весь метод такой же.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18881">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:45:53 UTC+03:00">
12:45
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а если нет, апи может возвращать разные данные
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18882">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:46:43 UTC+03:00">
12:46
       </div>

       <div class="text">
т.е. идемпотентность не файбера, а всего кода внутри, вплоть до бэка базы
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18883">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:47:09 UTC+03:00">
12:47
       </div>

       <div class="text">
хреново как-то
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18884">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:48:04 UTC+03:00">
12:48
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18874" onclick="return GoToMessage(18874)">this message</a>
       </div>

       <div class="text">
Собственно заворачиваем fiber1 в файбер и получаем идемпотентность.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18885">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:49:29 UTC+03:00">
12:49
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
ты не опечатался?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18886">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:49:46 UTC+03:00">
12:49
       </div>

       <div class="text">
if надо заворачивать в файбер
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18887">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:51:08 UTC+03:00">
12:51
       </div>

       <div class="text">
просто это похоже на протечку абстракции, также как async/await
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18888">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:52:42 UTC+03:00">
12:52
       </div>

       <div class="text">
смысл то, не лепить файберы почем зря, а сделать код псевдосинхронным
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18889">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:58:51 UTC+03:00">
12:58
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
if - идемпотентный оператор. Ему что на вход подал - то он и сделал.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18890">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:59:04 UTC+03:00">
12:59
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
ты ж не стремишься сделать компоненты идемпотентными (как достало это слово), ты id-шники ставишь
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18891">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 12:59:51 UTC+03:00">
12:59
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Идемпотентность - краеугольный камень ОРП и даже ФП.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18892">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 13:00:31 UTC+03:00">
13:00
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
fiber1() - да, может быть не идемпотентный, а как ты в апи гарантируешь, например список todo-шек, он же может меняться и от кол-ва завият какие-то еще запросы
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18893">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 13:03:55 UTC+03:00">
13:03
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Никак, поэтому запрос к апи заворачивается в отдельный файбер, что даёт гарантию, что в рамках исполнения вышестоящего файбера апи будет возвращать один и тот же результат, независимо от фактического изменения данных на сервере.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18894">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 13:04:35 UTC+03:00">
13:04
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
так fiber1 в моем примере и так fetch в файбере, зачем еще один поверх?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18895">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 13:08:26 UTC+03:00">
13:08
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Очевидно, не за чем. Он и так идемпотентен для внешнего файбера и условие всегда будет идти по одной и той же ветке.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18896">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 13:08:47 UTC+03:00">
13:08
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
это если файбер гарантированно прерывается на fetch
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18897">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 13:10:47 UTC+03:00">
13:10
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Прерывание - техническая деталь, не влияющая на прикладную логику, если та идемпотентна.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18898">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 13:11:12 UTC+03:00">
13:11
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
просто как распаралелить fiber1 и fiber2
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18899">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 13:17:36 UTC+03:00">
13:17
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Запустить их асинхронно. Через $mol_fiber_defer. например.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18900">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 13:18:40 UTC+03:00">
13:18
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
если я fiber1 запущу асинхронно, то if (f1 ... прервется
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18901">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 13:18:53 UTC+03:00">
13:18
       </div>

       <div class="text">
результата нет ведь
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18902">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 13:24:15 UTC+03:00">
13:24
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Разумеется. Тут либо параллельность, либо предсказуемость логики.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18903">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 15:20:43 UTC+03:00">
15:20
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Ручное позиционирование слов довольно медленная штука, но зато с весёлыми анимациями.<br><a href="https://youtu.be/dteEcI7NULM">https://youtu.be/dteEcI7NULM</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18904">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 15:39:54 UTC+03:00">
15:39
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Большая часть времени тратится на Style Recalculation. 33ms для 160 слов. Что-то как-то много для<br><code>&lt;span id=&quot;6h225fp:6&quot; style=&quot;left: 139px; top: 0px;&quot;&gt;sit &lt;/span&gt;</code>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18905">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 15:55:20 UTC+03:00">
15:55
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
А, туплю, это из-за анимации.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18906">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 16:16:26 UTC+03:00">
16:16
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Я смотрю как бы я ни позиционировал слова, repaint для них всё-равно вызывается. И по времени это в итоге выходит дольше, чем если перерисовывать весь текст в слое.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18907">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 16:25:24 UTC+03:00">
16:25
       </div>

       <div class="text">
Layout 10-25 ms для 500 абсолютно позиционированных блоков - тоже за гранью разумного.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18908">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 17:07:32 UTC+03:00">
17:07
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
короче, дом отпадает?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18909">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 17:10:48 UTC+03:00">
17:10
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Похоже на то. Реализовал 1-в-1 на канве - 15 мс на полный ререндер. С домом - 30 мс только всякие Layout, Recalculate Style, Update Layer Tree, Paint, без собственно js кода. Это для 500 слов с ручным flow.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18910">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 17:13:34 UTC+03:00">
17:13
       </div>

       <div class="text">
dom хорош, пока число узлов небольшое.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18911">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 17:24:47 UTC+03:00">
17:24
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а как с отладкой быть на канве, девтулзы работают?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18912">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 17:45:22 UTC+03:00">
17:45
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Нет, конечно, их тоже велосипедить придётся.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18913">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 18:08:32 UTC+03:00">
18:08
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
все-равно что браузер с нуля написать
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18914">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 18:34:26 UTC+03:00">
18:34
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Фактически да, только без 20летних легаси, с реактивностью, кроссбраузерностью и расширяемостью. Вопрос: какие апи не удастся сэмулировать? Например, для открытия клавиатуры на мобилках придётся создавать скрытый инпут и держать его в фокусе. Для симуляции поведения ссылок придётся создавать скрытую нативную ссылку и позиционировать её под курсором.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18915">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 18:35:44 UTC+03:00">
18:35
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
смысл делать браузер в браузере в мобилках?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18916">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 18:38:40 UTC+03:00">
18:38
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Основная причина - возможность точно отображать, как оно будет выведено на печать. Важное условие - должно работать быстро на больших документах.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18917">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 18:41:26 UTC+03:00">
18:41
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
оно ж все-равно нативными виджетами будет, браузер просто как прослойка ненужная
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18918">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 18:49:21 UTC+03:00">
18:49
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Да нафиг нужны нативные виджеты, которые по разному работают и выглядят в разных девайсах. А вместо браузера можно будет потом сделать свой легковесный клиент, который умеет только в канву и js.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18919">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 18:53:30 UTC+03:00">
18:53
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
я к тому что получается надо тащить браузер только лишь для вызова специфичных апи, вроде клика ссылок
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18920">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 18:55:52 UTC+03:00">
18:55
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
В своём клиенте внешние ссылки будут просто открывать системный браузер.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18921">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 21:49:25 UTC+03:00">
21:49
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18907" onclick="return GoToMessage(18907)">this message</a>
       </div>

       <div class="text">
не знаю насчет слов но когда я замерял быстродействие дома анимация прямоугольников вроде быстрее была. Тут еще можно поэкспериментировать со всякими transform: translate() вместо top и left, translate3d(), и matrix(), плюс еще есть подсказки вроде will-change и также есть еще новое свойство сontain (значения paint, layout и др)
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18922">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 21:51:08 UTC+03:00">
21:51
       </div>

       <div class="text">
Дмитрий, а как в $mol вывести какой-то контент по условию ? например &lt;div&gt;{this.props.flag ? &lt;div&gt;...&lt;/div&gt; : &lt;span&gt;...&lt;/span&gt;}&lt;/div&gt;
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18923">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 22:10:46 UTC+03:00">
22:10
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18921" onclick="return GoToMessage(18921)">this message</a>
       </div>

       <div class="text">
Это всё я, конечно, перепробовал.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18924">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 22:11:52 UTC+03:00">
22:11
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18922" onclick="return GoToMessage(18922)">this message</a>
       </div>

       <div class="text">
Вывести свойство, а во view.ts переопределить его, и в зависимости от условия возвращать разные компоненты.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18925">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 22:13:53 UTC+03:00">
22:13
       </div>

       <div class="text">
Например: <br><a href="https://github.com/eigenmethod/mol/blob/master/app/studio/field/field.view.tree#L31">https://github.com/eigenmethod/mol/blob/master/app/studio/field/field.view.tree#L31</a><br><a href="https://github.com/eigenmethod/mol/blob/master/app/studio/field/field.view.ts#L99">https://github.com/eigenmethod/mol/blob/master/app/studio/field/field.view.ts#L99</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18926">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 22:15:36 UTC+03:00">
22:15
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18923" onclick="return GoToMessage(18923)">this message</a>
       </div>

       <div class="text">
и что, медленней получается? мне просто самому интересно - я игрался только с will-change и transform и для большого количества top, left получался быстрее, а про contain-свойство я тогда вообще не знал
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18927">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 22:26:32 UTC+03:00">
22:26
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Да, это даёт эффект, когда небольшое число сложных блоков переносится целиком без изменения размера, тогда браузер может вынести их на отдельные слои и перенести с помощью gpu. Тут же много блоков с простым содержимым. Использование слоёв не окупается. Плюс браузер не кеширует отрендеренное. Возможно считает, что ререндер маленьких блоков лучше, чем битмап-кеш. А может упирается на какой-то лимит.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18928">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 22:28:18 UTC+03:00">
22:28
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
а contain-свойство дает какой-то эффект? там вроде как куча значений (none | strict | content | [ size || layout || style || paint ]) - не получается сказать браузеру делать только леаут а не делать перерендер текста?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18929">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 22:54:13 UTC+03:00">
22:54
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Тут даже лейаут не надо делать, но ему всё ни по чём.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18930">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 23:01:56 UTC+03:00">
23:01
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18924" onclick="return GoToMessage(18924)">this message</a>
       </div>

       <div class="text">
То есть это примерно так?<br><pre>this.if1(){<br> return this.flag() ? this.SubComponent1() : this.SubComponent2()<br>}<br><br>//где SubComponent1 и SubComponent2 это будут отдельные компоненты в view.tree<br><br>sub /<br>  &lt;= SubComp1 $mol_string<br>       &lt;= ...<br><br>  &lt;= SubComp2 $mol_string<br>       &lt;= ...</pre>Получается это аналогично когда в реакте мы выносим контент в отдельные компоненты? А как передать замыкаемые вместе с контентом данные? Нужно пробросить данные через пропсы?<br><pre>//то есть вместо <br>&lt;div&gt;<br>  {this.flag1 &amp;&amp;<br>     &lt;div&gt;{someValue}&lt;div&gt;<br>  }<br>&lt;/div&gt;<br><br>//теперь нужно чтобы SubComp не только отрендерил контент а и пробросил данные <br><br>&lt;div&gt;<br>  {this.flag1 &amp;&amp;<br>     &lt;SubComp someValue={someValue}/&gt; <br>  }<br>&lt;/div&gt;<br><br>const SubComp = ({someValue})=&gt;(<br>   &lt;div&gt;{someValue}&lt;/div&gt;<br>)</pre>А как тогда в $mol работает механизм трансклудинга ? Допустим нужно передать какой-то контент другому компоненту чтобы он его вывел<br><pre>&lt;div&gt;<br>  &lt;AnotherComponent&gt;<br>     &lt;div&gt;{someValue}&lt;/div&gt;<br>  &lt;/AnotherComponent&gt;<br>&lt;/div&gt;</pre>Получается нужно вынести в &lt;div&gt;{someValue}&lt;/div&gt; в сабкомпонент а компоненту AnotherComponent передать ссылку на класс этого компонента примерно так?<br><br><pre>&lt;div&gt;<br>  &lt;AnotherComponent СhildrenСomponent={SubComponent} someValue={someValue}/&gt;<br>&lt;/div&gt;<br><br>const AnotherComponent = ({СhildrenСomponent, someValue})=&gt;(<br>  &lt;div&gt;<br>    &lt;СhildrenСomponent someValue={someValue}/&gt;<br> &lt;/div&gt;<br>)<br><br>const SubComponent = ({someValue})=&gt;(<br>  &lt;div&gt;{someValue}&lt;/div&gt;<br>)</pre>Не нарушается ли случайно c таким подходом когда выносим контент в отдельный компонент модель композиции? Когда вместо того чтобы передать контент вместе с замыкаемыми на нем данными нужно передать шаблон и данные для него. И тогда компонент  который захочет передать этот контент другому компоненту должен знать какие данные нужны контенту чтобы вместе с ним пробросить и данные?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18931">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 23:21:53 UTC+03:00">
23:21
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
&gt; А как передать замыкаемые вместе с контентом данные?<br>Через биндинги, там в примере же: <a href="https://github.com/eigenmethod/mol/blob/master/app/studio/field/field.view.tree#L31">https://github.com/eigenmethod/mol/blob/master/app/studio/field/field.view.tree#L31</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18932">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 23:22:42 UTC+03:00">
23:22
       </div>

       <div class="text">
&gt; Получается это аналогично когда в реакте мы выносим контент в отдельные компоненты?<br>Нет, аналогичный эфект в реакте - вынос части jsx в отдельные свойства класса.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18933">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 23:23:47 UTC+03:00">
23:23
       </div>

       <div class="text">
&gt; в сабкомпонент а компоненту AnotherComponent передать ссылку на класс этого компонента примерно так?<br>Нет, забиндить его свойство на своё, которое возвращает нужное дерево компонент.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18934">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 23:27:07 UTC+03:00">
23:27
       </div>

       <div class="text">
Выложил онлайн view.tree компилятор: <a href="http://mol.js.org/app/tree/">http://mol.js.org/app/tree/</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18935">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 23:28:29 UTC+03:00">
23:28
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
плагин для ts написал чтоль?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18936">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 23:29:59 UTC+03:00">
23:29
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Не, там в ts компилится.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18937">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 23:31:02 UTC+03:00">
23:31
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а, без песочницы пока?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18938">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 23:34:38 UTC+03:00">
23:34
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Не хочется тащить на клиент тс компилятор. И бэк пилить для этого тоже.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18939">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 23:35:06 UTC+03:00">
23:35
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
бэк зачем, в браузере вроде все работает
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18940">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 23:35:35 UTC+03:00">
23:35
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Чтобы не тащить компилятор в браузер.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18941">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 23:46:25 UTC+03:00">
23:46
       </div>

       <div class="text">
Убрал требование ставить коментарий во view.tree когда значение свойства не задаётся.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18942">

      <div class="body">

       <div class="pull_right date details" title="15.09.2018 23:47:08 UTC+03:00">
23:47
       </div>

       <div class="text">
То есть теперь можно писать так:<br><pre>body /<br>    &lt;= Source<br>    &lt;= Result</pre>
       </div>

      </div>

     </div>

     <div class="message service" id="message-367">

      <div class="body details">
16 September 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18943">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="16.09.2018 00:28:06 UTC+03:00">
00:28
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Как вам, кстати, новый дизайн в светлой и тёмной темах?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18944">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="16.09.2018 10:05:47 UTC+03:00">
10:05
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
да хз, цвета другие, дизайн тот же
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18945">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="16.09.2018 10:44:12 UTC+03:00">
10:44
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Не совсем. Стало меньше всяких обводок. Менюшки почти везде стали просто ссылками. Всё кликабельное стало синим. В частности ссылки и кнопки выглядят одинаково. Контролы полей ввода стали менее навязчивыми (у $mol_number они появляются лишь при фокусе). Скролл теперь везде стилизован (стандартный в тёмной теме смотрится страшно).
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18946">

      <div class="body">

       <div class="pull_right date details" title="16.09.2018 10:44:56 UTC+03:00">
10:44
       </div>

       <div class="text">
Но да, это эволюционный редизайн. Меня сейчас интересует в каком направлении стоит двигаться дальше.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18947">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="16.09.2018 10:56:25 UTC+03:00">
10:56
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
нужны реальные приложения, которыми бы пользовались, что б фидбек нормальный получать
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18948">

      <div class="body">

       <div class="pull_right date details" title="16.09.2018 11:01:15 UTC+03:00">
11:01
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18940" onclick="return GoToMessage(18940)">this message</a>
       </div>

       <div class="text">
а чего нет то? удобно ж накидать в песочнице и сразу пощупать компонент, примеры делать наглядные
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18949">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="16.09.2018 11:05:49 UTC+03:00">
11:05
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Он тяжёлый сильно.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18950">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="16.09.2018 11:06:23 UTC+03:00">
11:06
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
да и пофиг для песочницы
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18951">

      <div class="body">

       <div class="pull_right date details" title="16.09.2018 11:06:55 UTC+03:00">
11:06
       </div>

       <div class="text">
или приделай транслятор в js, там же типы только обрезать, код то простой
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18952">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="16.09.2018 11:11:40 UTC+03:00">
11:11
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
По хорошему надо аст странсформировать, а потом сериализовать в оба языка.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18953">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic4" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
c
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="16.09.2018 11:37:56 UTC+03:00">
11:37
       </div>

       <div class="from_name">
cevek 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message18927" onclick="return GoToMessage(18927)">this message</a>
       </div>

       <div class="text">
почему использование слоев не окупается? какая разница делать один большой слой или кучу мелких. по памяти сожрут одинаково. просто видяха еще сделает композицию. но ей это вообще не почем
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18954">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="16.09.2018 12:04:35 UTC+03:00">
12:04
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Потому что пайплайн длинный и делать 500 вызовов для отрисовки маленьких слоёв дороже, чем сделать один для отрисовки большого.
       </div>

      </div>

     </div>

     <div class="message service" id="message-368">

      <div class="body details">
17 September 2018
      </div>

     </div>

     <div class="message default clearfix" id="message18955">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 11:29:44 UTC+03:00">
11:29
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
дим, а как у табя в файберах ререндер происходит при ресолве файбера?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18956">

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 11:30:18 UTC+03:00">
11:30
       </div>

       <div class="text">
ты где-то в компонентах подписываешься на промис, как в react suspense?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18957">

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 11:31:55 UTC+03:00">
11:31
       </div>

       <div class="text">
в связке с атомами, по идее самый слейвовый атом должен подписываться на промис и перевытягивать все дерево, но у тебя этого нет в коде
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18958">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 11:53:28 UTC+03:00">
11:53
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Просто в конце вычисления происходит рендеринг.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18959">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 11:53:50 UTC+03:00">
11:53
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
кто его инициирует то
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18960">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 11:54:52 UTC+03:00">
11:54
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Файбер - просто последовательность действий.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18961">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 11:55:32 UTC+03:00">
11:55
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
файбер не реактивен, вот вычисления в нем закончились, как он сообщит компоненту, что надо перевытянуть?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18962">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 17:25:38 UTC+03:00">
17:25
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
ау
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18963">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 18:51:23 UTC+03:00">
18:51
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Компонент запускает задачу в файбере. Последний шаг задачи - обновить состояние.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18964">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 18:52:20 UTC+03:00">
18:52
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
технически это как?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18965">

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 18:53:06 UTC+03:00">
18:53
       </div>

       <div class="text">
<pre>try { fiber } catch (promise) {<br>promise.then(render, render)<br> }</pre>
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18966">

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 18:54:38 UTC+03:00">
18:54
       </div>

       <div class="text">
как задача обновляет состояние? я в файберах не нашел это
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18967">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 18:55:21 UTC+03:00">
18:55
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Как тут, например: <a href="http://mol.js.org/fiber/">http://mol.js.org/fiber/</a>
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18968">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 19:02:53 UTC+03:00">
19:02
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а есть асихнронный пример?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18969">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 19:03:19 UTC+03:00">
19:03
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Там квантизация, куда уж асинхронней.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18970">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 19:04:39 UTC+03:00">
19:04
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
if( !slave &amp;&amp; this.slave ) this.schedule().then( this.slave.start() ) вот это делает рестарт?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18971">

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 19:06:12 UTC+03:00">
19:06
       </div>

       <div class="text">
if( fiber.slave ) fiber.slave.start() еще вот это
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18972">

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 19:06:32 UTC+03:00">
19:06
       </div>

       <div class="text">
алгоритм трындец сложный
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18973">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 19:07:17 UTC+03:00">
19:07
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
В чём непонятки-то?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18974">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 19:14:40 UTC+03:00">
19:14
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
непонятки только в том, как ты смог столько непонятного кода впихнуть в 300 строк
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18975">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 19:18:32 UTC+03:00">
19:18
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Можно ещё на кложуре переписать.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18976">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 19:19:45 UTC+03:00">
19:19
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
зачем все эти schedule, промисы?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18977">

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 19:20:11 UTC+03:00">
19:20
       </div>

       <div class="text">
смысл, когда fiber ресолвится, просто дернуть slave.start
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18978">

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 19:20:37 UTC+03:00">
19:20
       </div>

       <div class="text">
на самом деле не ближайший slave, а самый топовый slave
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18979">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 19:23:45 UTC+03:00">
19:23
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Не, ближайший, чтобы не делать лишней работы. Хотя стек в этом случае теряется, да.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18980">

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 19:25:18 UTC+03:00">
19:25
       </div>

       <div class="text">
Смысла шедулера в том, что задач может быть несколько одновременно, и если каждая заблокирует поток на 8м без оглядки на остальные, то 4 задачи заблокируют его на 32мс.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18981">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 19:32:16 UTC+03:00">
19:32
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а почему как в атомах нельзя? просто сказать топовому файберу, что б перевытянул все
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18982">

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 19:37:14 UTC+03:00">
19:37
       </div>

       <div class="text">
в чем лишняя работа то, в реальности все равно надо будет подниматься до компонента
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18983">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 19:57:25 UTC+03:00">
19:57
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
В вышестоящем файбере может быть много логики до текущего. Даже с учётом кеширования это может быть дорого повторять вычисление. Атомы тоже не запускают вычисления от рута каждый раз - они спускаются по дереву и начинают вычисления с самых вложенных.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18984">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 19:58:12 UTC+03:00">
19:58
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а, ну да, они кэшируют предварительно
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18985">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 21:37:57 UTC+03:00">
21:37
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а для чего каждый атом оборачивать в файбер? можно же просто оповестить ближайший атом о конце вычислений и он перевытянет хэндлер
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18986">

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 21:38:53 UTC+03:00">
21:38
       </div>

       <div class="text">
файбер - это просто временный кэш с прерываниями
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18987">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 21:39:44 UTC+03:00">
21:39
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Чтобы вычисление атома можно было прерывать в любом месте.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18988">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 21:40:04 UTC+03:00">
21:40
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
так оно и так прервется в файбере, который в хэндлере атома
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18989">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 21:40:47 UTC+03:00">
21:40
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
А, чтобы замораживать возвращаемое атомом значение.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18990">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 21:41:59 UTC+03:00">
21:41
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а разве не достаточно просто состояние атома не менять? atom -&gt; handler -&gt; fiber -&gt; throw promise не будет менять состояния атома, следовательно актуальное значение будет всегда
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18991">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 21:42:55 UTC+03:00">
21:42
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Это невозможно гарантировать.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18992">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 21:43:13 UTC+03:00">
21:43
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
что тогда значит замораживать?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18993">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 21:43:36 UTC+03:00">
21:43
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Чтобы в рамках файбера атом всегда возвращал одно и то же значение.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18994">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 21:45:34 UTC+03:00">
21:45
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
это нужно, что б пуш в одном атоме не влиял на pull в других атомах?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message18995">

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 21:58:14 UTC+03:00">
21:58
       </div>

       <div class="text">
у тебя как бы снепшот делается стейта атома на время вычислений с ним, для чего это в pull не пойму
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18996">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 21:59:23 UTC+03:00">
21:59
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
В pull ни к чему в принципе. Но для файберов необходимо.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18997">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 21:59:34 UTC+03:00">
21:59
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
у тебя в другом файбере, вычисления из-за этого могут с неактуальной версией стейта атомов
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18998">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 22:00:09 UTC+03:00">
22:00
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Файберы фиксируют значение на момент первого обращения к атому.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message18999">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 22:00:58 UTC+03:00">
22:00
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
есть 2 файбера и один атом, один зафиксировал и пулит, а второй пушнул в этот момент
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19000">

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 22:01:35 UTC+03:00">
22:01
       </div>

       <div class="text">
получается, со старой версией будет работать первый?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19001">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 22:16:24 UTC+03:00">
22:16
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Да, конечно.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19002">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 22:18:03 UTC+03:00">
22:18
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
ради этой фишки, разве нужны файберы над атомом? достаточно стейт атома менять только по завершении файбера внутри хэндлера?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19003">

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 22:21:11 UTC+03:00">
22:21
       </div>

       <div class="text">
а блин, нужны, иначе после пуша во втором файбере, первый получит новый стейт, а нужна версия на момент его запуска
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19004">

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 22:21:56 UTC+03:00">
22:21
       </div>

       <div class="text">
я просто думал не атом, а хэндлер в атоме обернуть
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19005">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 23:01:53 UTC+03:00">
23:01
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
И его надо заворачивать. И оба эти файбера не должны быть связаны.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19006">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 23:02:28 UTC+03:00">
23:02
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а зачем оба заворачивать? ты ж только атом завернул
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19007">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 23:08:49 UTC+03:00">
23:08
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Снаружи для замораживания, внутри для возможности прерывания.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19008">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 23:09:21 UTC+03:00">
23:09
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
прерывание то есть в файберах внутри хэндлера
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19009">

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 23:09:33 UTC+03:00">
23:09
       </div>

       <div class="text">
фетчи завернуты в файберы ж
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19010">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 23:09:54 UTC+03:00">
23:09
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Файберы связываются 1-к-1, а атомы как многие-ко-многим.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19011">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 23:10:43 UTC+03:00">
23:10
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а почему файберы 1 ко многим не сделать?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19012">

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 23:11:24 UTC+03:00">
23:11
       </div>

       <div class="text">
и разве у тебя не так щас, мастеров много, слейв один
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19013">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 23:12:07 UTC+03:00">
23:12
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
файбер хранит кеш в вызвавшем файбере.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19014">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 23:15:52 UTC+03:00">
23:15
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
и, чем это прерываниям мешает?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19015">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 23:17:32 UTC+03:00">
23:17
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
А можете прояснить как файберы влияют на модель работы атомов? В обычной версии при изменении атом синхронно помечает все зависимости до конца дерева как dirty и потом через некий таймаут (чтобы учесть синхронные изменения многих атомов) происходит сихнронный процесс актуализации всех помеченных атомов на конце дерева с рекурсивным подъемом по дереву и актуализацией зависимых атомов. Как в эту модель вписываются файберы? Я правильно понимаю что помечание всех атомов до конца дерева как dirty в любом случае должно быть синхронно в одном фрейме (иначе как тогда на следующем фрейме выяснить должен ли атом актуализироваться или нет при получении его значения) ? Получается тогда только процесс актуализации можно разбить на фреймы? А как его реализовать - вместо рекурсии с подъемом по дереву городить связанный список?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19016">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 23:46:00 UTC+03:00">
23:46
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
так в атомах изначально связанный список slave - master
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19017">

      <div class="body">

       <div class="pull_right date details" title="17.09.2018 23:48:03 UTC+03:00">
23:48
       </div>

       <div class="text">
файбер во время вычислений хранит значение атома и делает это в вызвавшем файбере
       </div>

      </div>

     </div>

     <div class="message service" id="message-369">

      <div class="body details">
18 September 2018
      </div>

     </div>

     <div class="message default clearfix" id="message19018">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 08:28:02 UTC+03:00">
08:28
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Исполнение по файберам автоматически поднимается. А атомы грубо говоря только событие кидают при изменении. А подписчики на это уже реагируют, запуская свои файберы для актуализации.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19019">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 08:30:37 UTC+03:00">
08:30
       </div>

       <div class="text">
И да, я согласен, что иметь по 2 файбера на 1 атом - это как-то расточительно и хорошо бы придумать что-то менее ресурсоёмкое.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19020">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 09:37:21 UTC+03:00">
09:37
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
я так и не понял, почему прерывания не работают без второго файбера в атоме?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19021">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 09:38:02 UTC+03:00">
09:38
       </div>

       <div class="text">
atom.fiber -&gt; atom.value -&gt; handler -&gt; fiber -&gt; throw, throw прервет до atom.fiber. или проблема в том, что заморозка тогда слажает, т.к. кто-то еще может поменять atom.value во время перезапуска
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19022">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 09:39:05 UTC+03:00">
09:39
       </div>

       <div class="text">
а если вообще на push асинхронный забить и делать через экшены все?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19023">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 09:40:01 UTC+03:00">
09:40
       </div>

       <div class="text">
не так часто и нужно асинхронно состояние синхрить по факту записи в свойство, обычно логика вокруг этого сложнее
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19024">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 09:40:48 UTC+03:00">
09:40
       </div>

       <div class="text">
ну или на время push создавать как-то еще один атом или файбер
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19025">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 09:53:30 UTC+03:00">
09:53
       </div>

       <div class="text">
еще как в файберах быть с гонкой, когда 2 файбера обращаются к одному атому и начинают его пулить, fetch дернется 2 раза, если не кэшировать
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19026">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 10:03:51 UTC+03:00">
10:03
       </div>

       <div class="text">
на pull по-моему файберы нахрен не нужны
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19027">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 10:24:20 UTC+03:00">
10:24
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19025" onclick="return GoToMessage(19025)">this message</a>
       </div>

       <div class="text">
Атом сам решает пулить или нет.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19028">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 10:27:31 UTC+03:00">
10:27
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
атом решил - пулить, он не актуализировался
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19029">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 10:27:57 UTC+03:00">
10:27
       </div>

       <div class="text">
проблема в том, что атом это решит делать в обоих файберах
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19030">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 10:28:02 UTC+03:00">
10:28
       </div>

       <div class="text">
кэши то не связаны
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19031">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 10:32:43 UTC+03:00">
10:32
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Кеш атома не зависит от кеша файберов.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19032">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 10:33:16 UTC+03:00">
10:33
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
я знаю
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19033">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 10:35:17 UTC+03:00">
10:35
       </div>

       <div class="text">
а, у тебя защита стоит в виде this.pulling, т.е. первый запросивший файбер будет актуализировать атом
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19034">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 10:44:35 UTC+03:00">
10:44
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Агась, при этом первый зависимый атом может быть убит с последующим уничтожением его файбера. Отсюда требование независимости внешнего и внутреннего файберов атома.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19035">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 10:44:47 UTC+03:00">
10:44
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
но второй fetch по идее запустится все-равно, calculate вызовется в обоих случаях
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19036">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 10:46:57 UTC+03:00">
10:46
       </div>

       <div class="text">
а для чего вообще заморозка атома?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19037">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 10:48:10 UTC+03:00">
10:48
       </div>

       <div class="text">
для чего на одну и ту же операцию pull с одним атомом отдельный тред городить?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19038">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 10:59:08 UTC+03:00">
10:59
       </div>

       <div class="text">
а если ввести владение атомом, т.е. пока какие-то вычисления с атомом есть - не давать обновлять его
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19039">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 11:03:35 UTC+03:00">
11:03
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19038" onclick="return GoToMessage(19038)">this message</a>
       </div>

       <div class="text">
Кто-то запустил сохранение на сервер и пока он не ответит всё приложение встаёт колом?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19040">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 11:03:50 UTC+03:00">
11:03
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
не, возвращает старое значение
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19041">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 11:04:13 UTC+03:00">
11:04
       </div>

       <div class="text">
колом встает, если атом был не запулен ранее, но тут уж никак - значения нет
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19042">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 11:04:18 UTC+03:00">
11:04
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19036" onclick="return GoToMessage(19036)">this message</a>
       </div>

       <div class="text">
Чтобы атом для файбера был идемпотентным, иначе всё развалится.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19043">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 11:05:01 UTC+03:00">
11:05
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
развалится из-за твоих мудреных кэшей на step?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19044">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 11:05:02 UTC+03:00">
11:05
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19040" onclick="return GoToMessage(19040)">this message</a>
       </div>

       <div class="text">
В приложении 100500 атомов.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19045">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 11:05:21 UTC+03:00">
11:05
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
и че
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19046">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 11:08:36 UTC+03:00">
11:08
       </div>

       <div class="text">
зачем вообще нужен пуш на сервер, если есть экшены?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19047">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 11:21:58 UTC+03:00">
11:21
       </div>

       <div class="text">
если очень надо, можно push сделать поверх экшенов кстати
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19048">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 11:50:47 UTC+03:00">
11:50
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
push - операция, которая происходит в отдельном треде, никак не влияющая на pull
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19049">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 11:52:08 UTC+03:00">
11:52
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Пуш выполняется пулом.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19050">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 11:52:38 UTC+03:00">
11:52
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
в каких случаях и зачем?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19051">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 11:52:50 UTC+03:00">
11:52
       </div>

       <div class="text">
push - это когда next передан
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19052">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic8" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Д
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 11:53:07 UTC+03:00">
11:53
       </div>

       <div class="from_name">
Дим 
       </div>

       <div class="text">
Нет, это пут.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19053">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 11:53:15 UTC+03:00">
11:53
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
а, понял о чем ты
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19054">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 11:54:19 UTC+03:00">
11:54
       </div>

       <div class="text">
так в чем проблема из отдельного треда push дергать?
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19055">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 11:56:26 UTC+03:00">
11:56
       </div>

       <div class="text">
без всяких заморозок - делаем pull, прерываемся.<br>где-то еще делаем put в отдельном треде, pull-у не мешает это<br>потом просто решить кто первый делает push
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19056">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 11:56:54 UTC+03:00">
11:56
       </div>

       <div class="text">
или pull тоже представить как экшен =) выстраивать их в очередь
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19057">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 16:01:41 UTC+03:00">
16:01
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
Нужна модель взаимодействия файберов и атомов, где она четко тобой озвучена? Попробую общие положения собрать, оторванные от реализации файберов. Если есть что добавить/поправить - добавляй<br><br>1. Многопоточность. Атомы запрашиваются из разных тредов (файберов)<br><br>2. Заморозка. Есть несколько паттернов мультипоточного взаимодействия. У тебя вместо синхронизации, делается копия состояния атома в вызывающем стеке (треде) на время вычислений в запросившем атом треде. Если это не сделать, то состояние атома может поменятся (сделает put) другим тредом в процессе вычисления первого.<br><br>3. Блокировка. Первый тред, запросивший атом, актуализирует его состояние, если из двух потоков прочитать неактуальный атом, то актуализация запустится первым тредом.<br><br>4. Сохранение значения в атом (put) может происходить из множества тредов, при этом будет гонка сохранений и каждое меняет состояние атома, что странно.<br><br>5. Сохранение (put) и последующее чтение (pull) в одном потоке невозможно, пока сохранение не завершится (this.todos = [todo] ; this.todos.length - не вызовется сразу)<br><br>6. Повторное сохранение во время работы первого тоже невозможно.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19058">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 16:12:45 UTC+03:00">
16:12
       </div>

       <div class="text">
Основная потребность: заморозить читаемый атом в треде, что б сохранение и его результат в другом треде на первый не влияло.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19059">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 16:14:10 UTC+03:00">
16:14
       </div>

       <div class="text">
причем тот, другой, может уже обновиться и показывать обновленные данные, а первый, если еще в процессе - нет.
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19060">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 16:23:21 UTC+03:00">
16:23
       </div>

       <div class="text">
Странно, есть COW <a href="https://en.wikipedia.org/wiki/Copy-on-write">https://en.wikipedia.org/wiki/Copy-on-write</a>, но нет COR
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19061">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 16:28:02 UTC+03:00">
16:28
       </div>

       <div class="text">
Странность в том, что у тебя COR делается всегда, и когда надо и не надо. А если по окончании записи ожидать пока закончится критическая секция в любом треде, использующим данные и сразу после нее проапдейтить атом? главное квантизовать файберы с вычислениями и записью
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19062">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:31:19 UTC+03:00">
19:31
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="text">
Мне кажется или от файберов проблем больше чем профита? Что-то слишком переусложненная абстракция получается. Я правда сам не понимаю всей этой темы но мне кажется что применять ее для фронтенд-фреймворков не имеет смысла.  Взять например реакт-файбер - почему бы вместо того чтобы переписывать весь реакт и менять рекурсию на цикл нельзя было просто запушить сайд-эффект для дома в виде операции в некий глобальный массив или связанный список и потом уже после завершения diff-а по шаблонам начать выполнение этих сайд-эффектов и при необходимости разбивать на фреймы ? То есть весь дифф реакта так и остался бы рекурсивным а только операции с домом применялись бы отдельно. И ничего переписывать не пришлось бы
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19063">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:36:30 UTC+03:00">
19:36
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
есть 2 компонента, которые разделяют одну переменную, например это параметр к фетчу данных<br>первый фетчит, а не забывай, что асинхронность у нас на прерываниях и перезапусках<br>в этот момент во втором взяли и поменяли переменную, при этом для второго компонента переменная поменялась, а вот для первого не должна, т.к. там еще критическая секция вычислений не завершилась
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19064">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:38:11 UTC+03:00">
19:38
       </div>

       <div class="text">
что будет, если в одном go routine мы из канала читаем данные и что-то с ними делаем, в этот момент во втором что-то пишем в этот же канал?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19065">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:40:35 UTC+03:00">
19:40
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19063" onclick="return GoToMessage(19063)">this message</a>
       </div>

       <div class="text">
а что это за критическая секция? Есть какой-то реальный пример? Как бы это например решалось бы до 16-версии реакта где была только рекурсия?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19066">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:42:12 UTC+03:00">
19:42
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
с реальными в js сложновато, считай вычисление компонента в любой момент может прерваться и надо как-то восстановить выполнение
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19067">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:42:24 UTC+03:00">
19:42
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19064" onclick="return GoToMessage(19064)">this message</a>
       </div>

       <div class="text">
При чём здесь горутины? Я пока не вижу связи. Речь идет об этих js-горутинах <a href="https://github.com/ubolonton/js-csp">https://github.com/ubolonton/js-csp</a> ?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19068">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:43:03 UTC+03:00">
19:43
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
воспринимай каждый компонент и каждый эффект, как отдельный тред
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19069">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:43:43 UTC+03:00">
19:43
       </div>

       <div class="text">
есть мультипоточный ui, задача - как с минимумом блокировок синхронизировать данные
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19070">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:44:37 UTC+03:00">
19:44
       </div>

       <div class="text">
в реакте нет ничего про общие данные между тредами
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19071">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:45:04 UTC+03:00">
19:45
       </div>

       <div class="text">
что делать, если один тред приостановился, а в это время второй поменял разделяемые данные?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19072">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:45:21 UTC+03:00">
19:45
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19066" onclick="return GoToMessage(19066)">this message</a>
       </div>

       <div class="text">
а что значит вычисления компонента? зачем его прерывать? Я понимаю дом-операции можно не применять сразу на месте в процессе рекурсии потому что они медленные. Но их можно не выполнять сразу а запушить дом-операцию в массив и начать выполнять после того как завершили diff всех компонентов. И уже тогда можно разбивать выполнение массива дом-операций в цикле и разбивать на фреймы
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19073">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:46:46 UTC+03:00">
19:46
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
прерывать нужно для мультипоточности, что б абсолютно любой цельный кусок кода (метод, функция) могла прервать свое выплнение для более важных задач
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19074">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:47:07 UTC+03:00">
19:47
       </div>

       <div class="text">
а потом восстановиться
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19075">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:47:55 UTC+03:00">
19:47
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19069" onclick="return GoToMessage(19069)">this message</a>
       </div>

       <div class="text">
при чем здесь мультипотомчный ui? Речь идет о js и его фреймворках, там выполнение синхронно и никаких проблем с сихронизацией данных нет. Или задача файберов привнести в жс все эти сложности с многопоточностью?)
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19076">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:48:51 UTC+03:00">
19:48
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
сложности есть, в go есть каналы, в js будет полный ппц, если тупо расшарить переменную между тредами
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19077">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:49:56 UTC+03:00">
19:49
       </div>

       <div class="text">
задача файберов такая же как и в реакт.файберс - многопоточно рендерить все плавно
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19078">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:50:19 UTC+03:00">
19:50
       </div>

       <div class="text">
&quot;многопоточно&quot; - в кавычках, это эмуляция многопоточности в одном потоке
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19079">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:50:30 UTC+03:00">
19:50
       </div>

       <div class="text">
но те же принципы
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19080">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:51:02 UTC+03:00">
19:51
       </div>

       <div class="text">
go routine и файберы, иделологически одно и тоже, поэтому я привел как пример
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19081">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:51:49 UTC+03:00">
19:51
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19073" onclick="return GoToMessage(19073)">this message</a>
       </div>

       <div class="text">
Так может нет смысла чтобы абсолютно любой кусок кода имел возможность прерваться? Задача жс-фреймвоков в том чтобы вычислить дифф и выяснить какие дом-операции нужно выполнить. Само вычисление diff-а это достаточно быстрая операция а вот дом-операции медленные (и только их нужно выносить в массив и разбивать на фреймы). То есть я не представляю каким тормозом должен быть фреймворк чтобы не влезть в один фрейм чтобы понадобилось даже diff разбивать на части (откуда и появляется необходимость в приостановлении вычислений)
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19082">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:53:20 UTC+03:00">
19:53
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
diff - частный случай, смысл в том, что пока нигде нет многопоточного ui, кроме игр, никто не осилил, а процы есть
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19083">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:54:28 UTC+03:00">
19:54
       </div>

       <div class="text">
diff еще создать надо, тяжелые вычисления могут быть где угодно
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19084">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 19:58:35 UTC+03:00">
19:58
       </div>

       <div class="text">
если данные не иммутабельные, проблемы остаются, неважно на какой уровень ты перенесешь тред, хоть перед самым домом, хоть в стейте
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19085">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:00:25 UTC+03:00">
20:00
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19082" onclick="return GoToMessage(19082)">this message</a>
       </div>

       <div class="text">
ну это уже слишком большой замах, в жс и в браузерах сейчас многопоточности нет (да и главный движок-отрисовки в виде opengl насколько я знаю тоже однопоточный) и сомневаюсь что предвидится в ближайшем будущем многопоточность при работе с дом,  канвасом или webgl. А пытаться внедрять какие-то абстракции на однопоточном жс в виде файберов чтобы эмулировать треды мне кажется это дико бессмысленно
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19086">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:01:25 UTC+03:00">
20:01
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19083" onclick="return GoToMessage(19083)">this message</a>
       </div>

       <div class="text">
какие там могут быть тяжелые вычисления?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19087">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:01:37 UTC+03:00">
20:01
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
анимация
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19088">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:01:47 UTC+03:00">
20:01
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19084" onclick="return GoToMessage(19084)">this message</a>
       </div>

       <div class="text">
есть какой-то пример?
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19089">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:02:43 UTC+03:00">
20:02
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
нету
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19090">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:02:47 UTC+03:00">
20:02
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19087" onclick="return GoToMessage(19087)">this message</a>
       </div>

       <div class="text">
а как анимация относится к тяжелым вычислениям? Это же просто изменение свойств дом-нод.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19091">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:03:29 UTC+03:00">
20:03
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
разные бывают, колебание струны, например
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19092">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:08:35 UTC+03:00">
20:08
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19086" onclick="return GoToMessage(19086)">this message</a>
       </div>

       <div class="text">
В общем я примерно понимаю насчет тяжелых вычислений. Это типа когда мы выбрасываем view-model - то есть чтобы при изменения значения одного элемента в списке нам не пришлось бы вручную менять view-model вызывая перерасчет (либо инкрементально) вместе с хранением кеша а просто взять и вынести вычисление среднеквадратичного значения или подобные тяжелые вычисления (где нужен цикл по всем элементам списка с кучей фильтров и сортировкой) в рендер-метод. Тогда да - diff у нас будет медленным. Но решается эта проблема просто кеширующим слоем как атомы где вычисления вынесутся в геттеры с computed декоратором (либо как вариант без атомов -  вручную менеджить view-model) . А алгоритм diff-а тогда будет просто считывать готовые значения. В любом случае я не вижу где тут может быть необходимость в файберах
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19093">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:18:58 UTC+03:00">
20:18
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
причем тут всякие view-model, render-ы, я говорю про общий подход - есть тяжелые вычисления, которые мешают равномерному рендерингу всех частей страницы сразу.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19094">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:19:58 UTC+03:00">
20:19
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19092" onclick="return GoToMessage(19092)">this message</a>
       </div>

       <div class="text">
кстати на тему сложности ручного менеджа view-model есть одна классная статья- <a href="https://hackernoon.com/data-denormalization-is-broken-7b697352f405">https://hackernoon.com/data-denormalization-is-broken-7b697352f405</a>  .Только автор не понимает что решение проблемы лежит на поверхности - на бекенде денормализация не нужна если используется in-memory база данных (тогда запросы вроде количества непрочитанных комнат будут мгновенные) а на фронте уже есть атомы
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19095">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:20:00 UTC+03:00">
20:20
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
куда ты их поместишь - значения не имеет
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19096">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:21:06 UTC+03:00">
20:21
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19093" onclick="return GoToMessage(19093)">this message</a>
       </div>

       <div class="text">
я просто пытаюсь выяснить какие тяжелые вычисления могут быть чтобы появлялась необходимость в их приостановке
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19097">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:21:14 UTC+03:00">
20:21
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
view-model и денормализация вообще не имеет отношения к проблеме тяжелых вычислений
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19098">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:21:29 UTC+03:00">
20:21
       </div>

       <div class="text">
это архитектурные уже проблемы, а не технические
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19099">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:22:55 UTC+03:00">
20:22
       </div>

       <div class="text">
понять пока сложно да, ui первые шаги делает тут, кроме файберов димы и react-fibers я особо и не знаю других
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19100">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:23:55 UTC+03:00">
20:23
       </div>

       <div class="text">
эмпирически - тенденция на наращивание ядер, а не частоты, следовательно что б в ui эти ядра использовать - нужен инструмент
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19101">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:26:19 UTC+03:00">
20:26
       </div>

       <div class="text">
хотя файберы это никак не помогают делать, но пока главное модель разделяемой памяти, а применить к потоком уже будет проще
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19102">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:27:04 UTC+03:00">
20:27
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19097" onclick="return GoToMessage(19097)">this message</a>
       </div>

       <div class="text">
view-model имеет непосредственно отношение к тяжелым вычислениям. Отсутствие view-model - это например сортировка массива при каждом вызове рендера, то есть код вида arr.filter(..).filter(..).sort(...).reduce(..) в рендер-методе компонента это и есть тяжелые вычисления. А view-model это подход когда храним данные которые нужны рендер-методу в уже отсортированном и отфильтрованном состоянии (и поддерживать эту фильтрацию и сортировку вручную либо автоматически через атомы при изменении данных)
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19103">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:29:16 UTC+03:00">
20:29
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
view model - шаблон проектирования , нужен что б формочку менять отдельно от данных, которые ее начально заполняют, что б скрыть часть вычислений из рендер-метода
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19104">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:30:27 UTC+03:00">
20:30
       </div>

       <div class="text">
тяжелые данные - это технические проблемы, к проектированию относятся косвенно. Прямо к тяжелым данным относятся кэши, оптимизации, потоки
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19105">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:34:20 UTC+03:00">
20:34
       </div>

       <div class="text">
когда ради оптимизаций приходится переделывать архитектуру - это ошибка в выборе инструмента
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19106">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:36:49 UTC+03:00">
20:36
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19103" onclick="return GoToMessage(19103)">this message</a>
       </div>

       <div class="text">
видимо я неправильно понимаю этот термин. Мне казалось что view-model хранит данные которые специфичны для шаблонов а основная модель является  нормализированной схемой данных через вложенные объекты и массивы (либо через хеш с айдишниками) которая не зависят от какого-либо отображения - то есть как в базе данных. А раз view-model хранит данные специфические для шаблонов то всякие сортировки фильтры и прочие вычисления на основе данных которые находятся в нормализированном виде это тоже отвественность view-model. А вынося все эти вычисления в рендер-метод реакта на мой взгляд является избавлением от view-model
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19107">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:39:15 UTC+03:00">
20:39
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
ты правильно вроде понимаешь термин, только применяешь странно
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19108">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:39:36 UTC+03:00">
20:39
       </div>

       <div class="text">
я бы разделял архитектуру и оптимизации, файберы - это про оптимизацию
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19109">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:41:58 UTC+03:00">
20:41
       </div>

       <div class="text">
денормализация нужна для удобства работы с данными, а не для оптимизаций, ради оптимизации ее используют на кривых архитектурах
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19110">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic1" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
Б
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:42:06 UTC+03:00">
20:42
       </div>

       <div class="from_name">
Богдан 
       </div>

       <div class="reply_to details">
In reply to <a href="#go_to_message19105" onclick="return GoToMessage(19105)">this message</a>
       </div>

       <div class="text">
в том то и дело что архитекуру переделывать не приходится. Тяжелые вычисления будут происходит не в diff-алгоритме а будут кешироваться через view-model и тогда diff-алгоритм достаточно быстрым и его не нужно будет разбивать на файберы или переделывать из рекурсии в цикл чтобы иметь возможность приостановить. То есть единственное что в дифф-алгоритме будет медленным то это работа с дом. Но как я уже говорил - достаточно просто не применять дом-операции прямо в алгоритме диффа а запушить в массив и продолжить дифф дальше и начать выполнение только после окончания diff-а через цикл по массиву. И тогда можно будет как будто файберы приостанавливать и разбивать на фреймы дом-операции прямо как в реакт-фейбере.
       </div>

      </div>

     </div>

     <div class="message default clearfix" id="message19111">

      <div class="pull_left userpic_wrap">

       <div class="userpic userpic7" style="width: 42px; height: 42px">

        <div class="initials" style="line-height: 42px">
SY
        </div>

       </div>

      </div>

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:43:27 UTC+03:00">
20:43
       </div>

       <div class="from_name">
Sergey Yuferev
       </div>

       <div class="text">
разница между view-model и моделью на сервере не такая уж большая, сегодня сортировка на клиенте, завтра на сервере
       </div>

      </div>

     </div>

     <div class="message default clearfix joined" id="message19112">

      <div class="body">

       <div class="pull_right date details" title="18.09.2018 20:44:51 UTC+03:00">
20:44
       </div>

       <div class="text">
зачем ты все про diff, в атомах нет никакого diff на уровне компонента, diff - это частный случай одной из реализаций рендера
       </div>

      </div>

     </div>

     <a class="pagination block_link" href="messages20.html">
Next messages
     </a>

    </div>

   </div>

  </div>

 </body>

</html>
