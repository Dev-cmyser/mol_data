# s
Здравствуйте, меня зовут Дмитрий Карловский и недавно у меня случился [тиндергейт](https://twitter.com/_jin_nin_/status/1663309859457040384). Но вот беда, Match Group [уходит](https://habr.com/ru/news/732800/) из России, забирая с собой Tinder. С чего же нам теперь кринжевать? Но, как известно, *свято место пусто не бывает*, так что я запилил свой дейтинг **без** геймификации и монетизации:

> ? Tinder ушёл... встречай [match.hyoo.ru](http://match.hyoo.ru) - сервис знакомств, которому выгодно, чтобы ты **нашёл себе пару и свалил в закат**.
>
> Никаких фейков, мёртвых душ, рекламы и вымогательства денег. Поделись с друзьями - пусть тоже найдут свою половинку ?

Далее будет небольшой обзор индустрии дейтинга и рассказ о том, чем $hyoo\_match принципиально отличается от всего этого дерьма.

## Текущее болото

Недавно один [прагматик](https://habr.com/ru/users/pragmatik/) хорошо разобрал тот ад, в который погружается каждый, кто пытается хоть кого-то найти через популярные сервисы знакомств:

> [Всё, что вы НЕ хотели бы знать о сервисах онлайн знакомств…](https://habr.com/ru/articles/497464/)

Так что не буду повторяться, но отмечу главное: сервисам, которые обещают вам кого-то найти, **абсолютно не выгодно, чтобы вы кого-то нашли**. Но им выгодно крутить морковками у вас перед носом, чтобы вы не теряли надежду, и продолжали смотреть рекламу, да оплачивать подписку на не заинтересованных в знакомстве с вами людей.

![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/f88/d03/859/f88d03859cdd7d673d3272bacacfc73a.png)

Итак, давайте лишим этих вымогателей источника баснословных доходов, создав бесплатный сервис, который действительно решает задачу пользователя. Но сперва, давайте разберём проблемы подобных сервисов, помимо бесчеловечной монетизации..

## Перекосы внимания

Разные люди имеют разную привлекательность. Есть те, кто нравится почти всем. А есть те, кто не нравится почти никому. И если у первых проблем с поиском так и так нет, то вторым как раз и нужна помощь больше всего. Но те, кто мог бы обратить на них внимание, часто уделяют его в большей степени всё же популярным персонам.

Можно, конечно, заняться *виктимблеймингом*, и сказать страшному человеку работать над собой, прокачивать харизму и тд. А если мышь всё никак не становится ёжиком, то сама виновата. Да только вот мало кто захочет узнавать твой прекрасный внутренний мир, если ты внешне не нравишься. А если будешь ломать себя через колено, то и человека всё-равно потом разочаруешь, и сам в дурку угодишь.

![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/7dc/415/c2b/7dc415c2bc930ce0e7d1b90df11ea35c.jpeg)

Если сервис устраивает кучу-малу, где все знакомятся со всеми одновременно, то получается усиление перекоса успешности:

* Популярная персона купается во внимании, из-за чего не ценит его, да и чисто физически не может уделить его каждому поклоннику.
* Менее популярные персоны поглощены ухаживаниями за популярными, часто не получая должной взаимности.
* Непопулярные персоны почти не получают внимания, а то и вовсе никого не находят долгое время.

Деление условное, но оно позволяет понять сложность с образованием пар при таком подходе: вместо множества полноценных пар, образуется скорее знаменитость с фолловерами, 99% которых никогда не выйдут из такой *френдзоны*.

![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/da0/1af/e0a/da01afe0a06c978e9a9b9d709312744e.jpeg)

Ситуация усугубляется монетизацией, когда вас просто никому не показывают, пока вы не заплатите внушительную сумму денег.

Поэтому сервис должен не пытаться предлагать пользователю шведский стол из кучи явств, распаляя его внимание, а наоборот, он должен фокусировать пользователя на потенциальном партнёре, с которым у него взаимная симпатия, чтобы они узнал друг друга получше, а не ограничивались поверхностным первым впечатлением, которое всегда врёт.

То есть, в идеале, сервис должен разбить всё множество персон на пары и перетасовывать их только, если общение не задалось. А если у пары всё хорошо - не надо отвлекать их друг от друга, пока они сами не решат продолжить поиски.

## Мёртвые души

Часто люди выкладывают фотографии десятилетней давности, когда они были ещё молодые и красивые, стройнее, без тату и тд. Не менее часто это отретушированные профессиональные фотографии. Для конкурса картин это конечно подойдёт. Но пару-то люди ищут, которую будут видеть каждый день. Поэтому важно понимать, как человек реально выглядит сейчас, в повседневности.

![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/981/022/bc1/981022bc10076903e29388f1b592670b.jpeg)

К тому же, некоторые загружают даже не свои фото. Зачем они нам такие нужны? Технически от таких принципиально не избавиться. Но тут как с перилами - их задача направлять, а не преграждать. Что если не давать грузить *самые лучше фото*, а попросить сделать свежее прямо в приложении, чтобы потенциальный партнёр видел тебя таким, какой ты есть сейчас?

Вынуждая обновлять фото каждый день мы не только получаем актуальную внешность, но и убеждаемся, что человек действительно находится сейчас в поиске. Ведь если человек давно не заходил в сервис, а если и заходил, но ленится поддерживать свой профиль в актуальном состоянии, то скорее всего он сейчас не так уж и заинтересован кого-то найти.

Общение с такими *мёртвыми душами* с высокой вероятностью не заладится, так что лучше их просто не показывать, чтобы не отвлекать аудиторию. Да, выбор получится скудный, но если твоя задача найти партнёра, а не набрать фолловеров, то важнее качество, а не количество.

![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/afc/892/af2/afc892af2c14511944c1dcfc7cf9f704.jpeg)

Разумеется, ничто не мешает обычному человеку сфотать фотографию, но это будет сразу заметно. Кулхакер же легко сможет подменить видео поток и выложить любое фото. Но бороться со всякими мошенниками и спамерами технически и так бесполезно - их можно победить лишь экономически, делая не эффективным использование сервиса не по назначению.

Например, при образовании пары можно выдавать пользователям контакты для связи и блокировать приложение на час. Реально ищущим душам это даёт время лучше друг друга узнать, с большим вниманием отнесясь друг ко другу. Даже если общение сразу не задалось, то можно попробовать снова. Ну, или отдохнуть, заняться своими делами. А не цеплять на себя негатив неудачных знакомств паровозиком. А всяким *бизнесменкам* долгие паузы делают пребывание на таком сервисе совсем невыгодным.

Да, быстро найти пару на этот вечер, такие ограничения не помогут. А вот найти пару на много будущих вечеров - вполне.

## Алгоритм подбора

Многие сервисы хвастаются, что подбирают пару по волшебным алгоритмам, вынуждая по пол часа заполнять зубодробительные анкеты с бессмысленными параметрами. В итоге есть ненулевая вероятность, что алгоритм такого навычисляет, что тебе будут показаны совсем не те, кто тебе нужен, а те, кто нужен не будут показаны вообще.

![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/8fb/6ab/1b7/8fb6ab1b7ab5676f5d9ea1da1265ac04.jpeg)

Тут **честный рандом даёт более надёжный результат**, предлагая тебе максимально разных людей, не изолируя в рамках некоторого типажа, который алгоритм посчитал для тебя наиболее подходящим. Как говорится: *любовь зла.. зацепит и коза*.

Но есть объективные параметры, которые и без всяких нейронок понятно как вляют на результат:

* Пол и сексуальные предпочтения (тут всё жёстко задаётся природой)
* Возрастные категории (точность до года бессмысленна)
* Регион обитания (важно помнить, что их может быть несколько)

Если что-то упустил, то дайте знать. Но кажется остальные параметры не столь важны, чтобы отказываться от знакомства. А если и важны, то их всегда можно указать в описании в свободной форме.

## Наша механика

И вот, поразмыслив над всем этим и закатав рукава, [мы](https://hyoo.ru/) запустили свой сервис знакомств уже через 3 дня: [$hyoo\_match](http://match.hyoo.ru/):

![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/4dd/074/cfd/4dd074cfda10fbd0e2045d3cfcdae7de.png)

После краткой инструкции, предлагается заполнить короткую анкету:

![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/026/b42/99b/026b4299b5a15f5f945add30d96e720d.jpeg)

После её заполнения, вы становитесь видны другим пользователям. Но только на сутки, по истечении которых вам будет предложено обновить фото.

Другим пользователям видна только основная информация о вас. Лайкайте симпатичных вам людей, чтобы они тут же увидели вас в своей подборке. И если симпатия окажется взаимна, то дополнительно будут показаны ещё и контакты для связи, а возможность пропустить персону блокируется на час, чтобы вы не отвлекались от своей пары:

![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/840/1eb/0ab/8401eb0ab7128fc00bc1b4344efa285a.jpeg)

Да, у нас нет встроенного чата. Общайтесь, где вам удобно, и не нагружайте наши сервера своими нюдсами. Нам не выгодно, чтобы вы у нас тусили. Нам выгодно, чтобы вы поскорее нашли, что хотели, и свалили куда подальше.

Сервис пока молодой, и пользователей у нас ещё совсем мало. Так что если доберётесь до конца, то вам будет предложено поспособствовать его популярности посредством сарафанного радио:

![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/36b/48a/c9a/36b48ac9a7e8297296484eb336261f05.png)

У нас нет маркетинговых бюджетов для громких рекламных кампаний. Но если вам понравилось это начинание, то помогите нам утолить жажду любви как можно большего числа людей. Ну или подкиньте [донатов](https://boosty.to/hyoo)  на поддержку серверов.

## Внутреннее устройство

Далее несколько технических деталей, как у нас всё устроено, для тех, кто в теме. А для тех, кто не в теме, краткое резюме на понятном языке: забористая, но неимоверно крутая дичь.

[$hyoo\_match](http://match.hyoo.ru/), как и все наши приложения, реализовано, на собственном фреймворке [$mol](https://mol.hyoo.ru/), благодаря чему работает оно во всех смыслах реактивно.

Все данные мы храним в собственной децентрализованной криптографической базе данных реального времени [$hyoo\_crowd](https://idea.hyoo.ru/#!=projects/project=8wfe0s_h6lo22), прелесть которой в том, что с ней можно работать локально и даже в оффлайне, а она уже сама в фоне синхронизируется с остальными узлами в сети, без конфликтов конвергируя общее состояние.

Для сервиса знакомств схема сущностей крайне простая:

![](https://habrastorage.org/r/w1560/webt/0o/rl/49/0orl49fbc4wknas_lxie8np86gg.png)

* **Lobby** - каталог персон, разбитый по категориям.
* **Single** - основные данные о персоне.
* **Photo** - последняя фотография персоны. Новая заменяет старую.
* **Likes** - множество симпатий от других персон.
* **Skipped** - множество отсмотренных персон, которых больше не надо предлагать.

Цвета на диаграмме показывают систему прав:

> ? Кто угодно может добавлять и менять своё, но не чужое.
>
> ? Никто не может редактировать, но может авторизоваться.
>
> ? Менять может только автор.

Кому интересна эта архитектура, рекомендую почитать про более сложный кейс с [безопасным управлением ТЭЦ](https://habr.com/ru/articles/735798/):

![](https://habrastorage.org/r/w1560/webt/wj/o4/6l/wjo46lb8pbu29zpex5yf9ud135c.png)

Но это ещё сильно экспериментальная штука, не проверенная на больших нагрузках. И сервис знакомств - хороший повод испытать наши разработки в бою. Так что если все сервера синхронизации упадут - не унывайте, нужно будет просто немного подождать, пока всё само не поднимется.

Ну а если у вас сервак простаивает без дела, то вы можете поучаствовать в нашей распределённой сети, просто подняв у себя наш [сервер синхронизации](https://github.com/hyoo-ru/sync.hyoo.ru).

## Последнее слово

Спасибо за внимание. По всем вопросам обращайтесь в форум сообщества [Гипер Дев](https://t.me/h_y_o_o/1074) или лично ко [мне](https://t.me/nin_jin).

**Удачи вам с поиском своего человека**, который не оставит вас даже в самую трудную минуту!

![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/89f/25c/8d0/89f25c8d0a2c817f0643f6ec5dcb2693.png)

[Актуальный оригинал на $hyoo\_page.](https://page.hyoo.ru/#!=rkjlvv_lle0qa)